var D8=Object.defineProperty;var M8=(t,e,n)=>e in t?D8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>M8(t,typeof e!="symbol"?e+"":e,n);function O8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B5={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=Symbol.for("react.element"),L8=Symbol.for("react.portal"),V8=Symbol.for("react.fragment"),F8=Symbol.for("react.strict_mode"),B8=Symbol.for("react.profiler"),$8=Symbol.for("react.provider"),j8=Symbol.for("react.context"),U8=Symbol.for("react.forward_ref"),z8=Symbol.for("react.suspense"),H8=Symbol.for("react.memo"),W8=Symbol.for("react.lazy"),nk=Symbol.iterator;function q8(t){return t===null||typeof t!="object"?null:(t=nk&&t[nk]||t["@@iterator"],typeof t=="function"?t:null)}var $5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j5=Object.assign,U5={};function su(t,e,n){this.props=t,this.context=e,this.refs=U5,this.updater=n||$5}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z5(){}z5.prototype=su.prototype;function eE(t,e,n){this.props=t,this.context=e,this.refs=U5,this.updater=n||$5}var tE=eE.prototype=new z5;tE.constructor=eE;j5(tE,su.prototype);tE.isPureReactComponent=!0;var rk=Array.isArray,H5=Object.prototype.hasOwnProperty,nE={current:null},W5={key:!0,ref:!0,__self:!0,__source:!0};function q5(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H5.call(e,r)&&!W5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mf,type:t,key:s,ref:o,props:i,_owner:nE.current}}function G8(t,e){return{$$typeof:mf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rE(t){return typeof t=="object"&&t!==null&&t.$$typeof===mf}function K8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ik=/\/+/g;function wv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K8(""+t.key):e.toString(36)}function xp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mf:case L8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wv(o,0):r,rk(i)?(n="",t!=null&&(n=t.replace(ik,"$&/")+"/"),xp(i,e,n,"",function(c){return c})):i!=null&&(rE(i)&&(i=G8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ik,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rk(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wv(s,a);o+=xp(s,e,n,l,i)}else if(l=q8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wv(s,a++),o+=xp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gm(t,e,n){if(t==null)return t;var r=[],i=0;return xp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Q8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},_p={transition:null},Y8={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:_p,ReactCurrentOwner:nE};function G5(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:gm,forEach:function(t,e,n){gm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gm(t,function(){e++}),e},toArray:function(t){return gm(t,function(e){return e})||[]},only:function(t){if(!rE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=su;Te.Fragment=V8;Te.Profiler=B8;Te.PureComponent=eE;Te.StrictMode=F8;Te.Suspense=z8;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y8;Te.act=G5;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j5({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H5.call(e,l)&&!W5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:mf,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:j8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$8,_context:t},t.Consumer=t};Te.createElement=q5;Te.createFactory=function(t){var e=q5.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:U8,render:t}};Te.isValidElement=rE;Te.lazy=function(t){return{$$typeof:W8,_payload:{_status:-1,_result:t},_init:Q8}};Te.memo=function(t,e){return{$$typeof:H8,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};Te.unstable_act=G5;Te.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Te.useContext=function(t){return Hn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Te.useId=function(){return Hn.current.useId()};Te.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Te.useRef=function(t){return Hn.current.useRef(t)};Te.useState=function(t){return Hn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Hn.current.useTransition()};Te.version="18.3.1";B5.exports=Te;var x=B5.exports;const h=Py(x),Pc=O8({__proto__:null,default:h},[x]);var pw={},K5={exports:{}},kr={},Q5={exports:{}},Y5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,J){var L=H.length;H.push(J);e:for(;0<L;){var pe=L-1>>>1,ae=H[pe];if(0<i(ae,J))H[pe]=J,H[L]=ae,L=pe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],L=H.pop();if(L!==J){H[0]=L;e:for(var pe=0,ae=H.length,V=ae>>>1;pe<V;){var ve=2*(pe+1)-1,st=H[ve],Ee=ve+1,nn=H[Ee];if(0>i(st,L))Ee<ae&&0>i(nn,st)?(H[pe]=nn,H[Ee]=L,pe=Ee):(H[pe]=st,H[ve]=L,pe=ve);else if(Ee<ae&&0>i(nn,L))H[pe]=nn,H[Ee]=L,pe=Ee;else break e}}return J}function i(H,J){var L=H.sortIndex-J.sortIndex;return L!==0?L:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=H)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function C(H){if(y=!1,E(H),!g)if(n(l)!==null)g=!0,ce(R);else{var J=n(c);J!==null&&ee(C,J.startTime-H)}}function R(H,J){g=!1,y&&(y=!1,b(k),k=-1),p=!0;var L=f;try{for(E(J),d=n(l);d!==null&&(!(d.expirationTime>J)||H&&!N());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,f=d.priorityLevel;var ae=pe(d.expirationTime<=J);J=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),E(J)}else r(l);d=n(l)}if(d!==null)var V=!0;else{var ve=n(c);ve!==null&&ee(C,ve.startTime-J),V=!1}return V}finally{d=null,f=L,p=!1}}var P=!1,I=null,k=-1,A=5,S=-1;function N(){return!(t.unstable_now()-S<A)}function O(){if(I!==null){var H=t.unstable_now();S=H;var J=!0;try{J=I(!0,H)}finally{J?M():(P=!1,I=null)}}else P=!1}var M;if(typeof w=="function")M=function(){w(O)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Q=ne.port2;ne.port1.onmessage=O,M=function(){Q.postMessage(null)}}else M=function(){v(O,0)};function ce(H){I=H,P||(P=!0,M())}function ee(H,J){k=v(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ce(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var L=f;f=J;try{return H()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=f;f=H;try{return J()}finally{f=L}},t.unstable_scheduleCallback=function(H,J,L){var pe=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?pe+L:pe):L=pe,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,H={id:u++,callback:J,priorityLevel:H,startTime:L,expirationTime:ae,sortIndex:-1},L>pe?(H.sortIndex=L,e(c,H),n(l)===null&&H===n(c)&&(y?(b(k),k=-1):y=!0,ee(C,L-pe))):(H.sortIndex=ae,e(l,H),g||p||(g=!0,ce(R))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var J=f;return function(){var L=f;f=J;try{return H.apply(this,arguments)}finally{f=L}}}})(Y5);Q5.exports=Y5;var X8=Q5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J8=x,_r=X8;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X5=new Set,hh={};function il(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(hh[t]=e,t=0;t<e.length;t++)X5.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gw=Object.prototype.hasOwnProperty,Z8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sk={},ok={};function e$(t){return gw.call(ok,t)?!0:gw.call(sk,t)?!1:Z8.test(t)?ok[t]=!0:(sk[t]=!0,!1)}function t$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n$(t,e,n,r){if(e===null||typeof e>"u"||t$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iE=/[\-:]([a-z])/g;function sE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iE,sE);fn[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iE,sE);fn[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iE,sE);fn[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function oE(t,e,n,r){var i=fn.hasOwnProperty(e)?fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n$(e,n,i,r)&&(n=null),r||i===null?e$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var As=J8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ym=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),J5=Symbol.for("react.provider"),Z5=Symbol.for("react.context"),lE=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),cE=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),eD=Symbol.for("react.offscreen"),ak=Symbol.iterator;function zu(t){return t===null||typeof t!="object"?null:(t=ak&&t[ak]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,xv;function fd(t){if(xv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xv=e&&e[1]||""}return`
`+xv+t}var _v=!1;function Ev(t,e){if(!t||_v)return"";_v=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_v=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fd(t):""}function r$(t){switch(t.tag){case 5:return fd(t.type);case 16:return fd("Lazy");case 13:return fd("Suspense");case 19:return fd("SuspenseList");case 0:case 2:case 15:return t=Ev(t.type,!1),t;case 11:return t=Ev(t.type.render,!1),t;case 1:return t=Ev(t.type,!0),t;default:return""}}function ww(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hl:return"Fragment";case zl:return"Portal";case yw:return"Profiler";case aE:return"StrictMode";case vw:return"Suspense";case bw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z5:return(t.displayName||"Context")+".Consumer";case J5:return(t._context.displayName||"Context")+".Provider";case lE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cE:return e=t.displayName||null,e!==null?e:ww(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return ww(t(e))}catch{}}return null}function i$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ww(e);case 8:return e===aE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s$(t){var e=tD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vm(t){t._valueTracker||(t._valueTracker=s$(t))}function nD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xw(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Po(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rD(t,e){e=e.checked,e!=null&&oE(t,"checked",e,!1)}function _w(t,e){rD(t,e);var n=Po(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ew(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ew(t,e.type,Po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ck(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ew(t,e,n){(e!=="number"||cg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var md=Array.isArray;function hc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Po(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(md(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Po(n)}}function iD(t,e){var n=Po(e.value),r=Po(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,oD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o$=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(t){o$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fd[e]=Fd[t]})});function aD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fd.hasOwnProperty(t)&&Fd[t]?(""+e).trim():e+"px"}function lD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a$=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kw(t,e){if(e){if(a$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Iw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cw=null;function uE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aw=null,fc=null,mc=null;function hk(t){if(t=yf(t)){if(typeof Aw!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Oy(e),Aw(t.stateNode,t.type,e))}}function cD(t){fc?mc?mc.push(t):mc=[t]:fc=t}function uD(){if(fc){var t=fc,e=mc;if(mc=fc=null,hk(t),e)for(t=0;t<e.length;t++)hk(e[t])}}function dD(t,e){return t(e)}function hD(){}var Sv=!1;function fD(t,e,n){if(Sv)return t(e,n);Sv=!0;try{return dD(t,e,n)}finally{Sv=!1,(fc!==null||mc!==null)&&(hD(),uD())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=Oy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Pw=!1;if(xs)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){Pw=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{Pw=!1}function l$(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,ug=null,dg=!1,Rw=null,c$={onError:function(t){Bd=!0,ug=t}};function u$(t,e,n,r,i,s,o,a,l){Bd=!1,ug=null,l$.apply(c$,arguments)}function d$(t,e,n,r,i,s,o,a,l){if(u$.apply(this,arguments),Bd){if(Bd){var c=ug;Bd=!1,ug=null}else throw Error(G(198));dg||(dg=!0,Rw=c)}}function sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fk(t){if(sl(t)!==t)throw Error(G(188))}function h$(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fk(i),t;if(s===r)return fk(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function pD(t){return t=h$(t),t!==null?gD(t):null}function gD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gD(t);if(e!==null)return e;t=t.sibling}return null}var yD=_r.unstable_scheduleCallback,mk=_r.unstable_cancelCallback,f$=_r.unstable_shouldYield,m$=_r.unstable_requestPaint,It=_r.unstable_now,p$=_r.unstable_getCurrentPriorityLevel,dE=_r.unstable_ImmediatePriority,vD=_r.unstable_UserBlockingPriority,hg=_r.unstable_NormalPriority,g$=_r.unstable_LowPriority,bD=_r.unstable_IdlePriority,Ry=null,Ri=null;function y$(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Ry,t,void 0,(t.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:w$,v$=Math.log,b$=Math.LN2;function w$(t){return t>>>=0,t===0?32:31-(v$(t)/b$|0)|0}var wm=64,xm=4194304;function pd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=pd(a):(s&=o,s!==0&&(r=pd(s)))}else o=n&~i,o!==0?r=pd(o):s!==0&&(r=pd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ai(e),i=1<<n,r|=t[n],e&=~i;return r}function x$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ai(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=x$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Nw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wD(){var t=wm;return wm<<=1,!(wm&4194240)&&(wm=64),t}function Tv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ai(e),t[e]=n}function E$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function xD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _D,fE,ED,SD,TD,Dw=!1,_m=[],go=null,yo=null,vo=null,ph=new Map,gh=new Map,Js=[],S$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pk(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(e.pointerId)}}function Wu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yf(e),e!==null&&fE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T$(t,e,n,r,i){switch(e){case"focusin":return go=Wu(go,t,e,n,r,i),!0;case"dragenter":return yo=Wu(yo,t,e,n,r,i),!0;case"mouseover":return vo=Wu(vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,Wu(ph.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gh.set(s,Wu(gh.get(s)||null,t,e,n,r,i)),!0}return!1}function kD(t){var e=xa(t.target);if(e!==null){var n=sl(e);if(n!==null){if(e=n.tag,e===13){if(e=mD(n),e!==null){t.blockedOn=e,TD(t.priority,function(){ED(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cw=r,n.target.dispatchEvent(r),Cw=null}else return e=yf(n),e!==null&&fE(e),t.blockedOn=n,!1;e.shift()}return!0}function gk(t,e,n){Ep(t)&&n.delete(e)}function k$(){Dw=!1,go!==null&&Ep(go)&&(go=null),yo!==null&&Ep(yo)&&(yo=null),vo!==null&&Ep(vo)&&(vo=null),ph.forEach(gk),gh.forEach(gk)}function qu(t,e){t.blockedOn===e&&(t.blockedOn=null,Dw||(Dw=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,k$)))}function yh(t){function e(i){return qu(i,t)}if(0<_m.length){qu(_m[0],t);for(var n=1;n<_m.length;n++){var r=_m[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&qu(go,t),yo!==null&&qu(yo,t),vo!==null&&qu(vo,t),ph.forEach(e),gh.forEach(e),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)kD(n),n.blockedOn===null&&Js.shift()}var pc=As.ReactCurrentBatchConfig,mg=!0;function I$(t,e,n,r){var i=ze,s=pc.transition;pc.transition=null;try{ze=1,mE(t,e,n,r)}finally{ze=i,pc.transition=s}}function C$(t,e,n,r){var i=ze,s=pc.transition;pc.transition=null;try{ze=4,mE(t,e,n,r)}finally{ze=i,pc.transition=s}}function mE(t,e,n,r){if(mg){var i=Mw(t,e,n,r);if(i===null)Ov(t,e,r,pg,n),pk(t,r);else if(T$(i,t,e,n,r))r.stopPropagation();else if(pk(t,r),e&4&&-1<S$.indexOf(t)){for(;i!==null;){var s=yf(i);if(s!==null&&_D(s),s=Mw(t,e,n,r),s===null&&Ov(t,e,r,pg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ov(t,e,r,null,n)}}var pg=null;function Mw(t,e,n,r){if(pg=null,t=uE(r),t=xa(t),t!==null)if(e=sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pg=t,null}function ID(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p$()){case dE:return 1;case vD:return 4;case hg:case g$:return 16;case bD:return 536870912;default:return 16}default:return 16}}var ao=null,pE=null,Sp=null;function CD(){if(Sp)return Sp;var t,e=pE,n=e.length,r,i="value"in ao?ao.value:ao.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sp=i.slice(t,1<r?1-r:void 0)}function Tp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Em(){return!0}function yk(){return!1}function Ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Em:yk,this.isPropagationStopped=yk,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Em)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Em)},persist:function(){},isPersistent:Em}),e}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gE=Ir(ou),gf=yt({},ou,{view:0,detail:0}),A$=Ir(gf),kv,Iv,Gu,Ny=yt({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gu&&(Gu&&t.type==="mousemove"?(kv=t.screenX-Gu.screenX,Iv=t.screenY-Gu.screenY):Iv=kv=0,Gu=t),kv)},movementY:function(t){return"movementY"in t?t.movementY:Iv}}),vk=Ir(Ny),P$=yt({},Ny,{dataTransfer:0}),R$=Ir(P$),N$=yt({},gf,{relatedTarget:0}),Cv=Ir(N$),D$=yt({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),M$=Ir(D$),O$=yt({},ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L$=Ir(O$),V$=yt({},ou,{data:0}),bk=Ir(V$),F$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$$[t])?!!e[t]:!1}function yE(){return j$}var U$=yt({},gf,{key:function(t){if(t.key){var e=F$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yE,charCode:function(t){return t.type==="keypress"?Tp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z$=Ir(U$),H$=yt({},Ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wk=Ir(H$),W$=yt({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yE}),q$=Ir(W$),G$=yt({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),K$=Ir(G$),Q$=yt({},Ny,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y$=Ir(Q$),X$=[9,13,27,32],vE=xs&&"CompositionEvent"in window,$d=null;xs&&"documentMode"in document&&($d=document.documentMode);var J$=xs&&"TextEvent"in window&&!$d,AD=xs&&(!vE||$d&&8<$d&&11>=$d),xk=" ",_k=!1;function PD(t,e){switch(t){case"keyup":return X$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wl=!1;function Z$(t,e){switch(t){case"compositionend":return RD(e);case"keypress":return e.which!==32?null:(_k=!0,xk);case"textInput":return t=e.data,t===xk&&_k?null:t;default:return null}}function ej(t,e){if(Wl)return t==="compositionend"||!vE&&PD(t,e)?(t=CD(),Sp=pE=ao=null,Wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AD&&e.locale!=="ko"?null:e.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ek(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tj[t.type]:e==="textarea"}function ND(t,e,n,r){cD(r),e=gg(e,"onChange"),0<e.length&&(n=new gE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jd=null,vh=null;function nj(t){zD(t,0)}function Dy(t){var e=Kl(t);if(nD(e))return t}function rj(t,e){if(t==="change")return e}var DD=!1;if(xs){var Av;if(xs){var Pv="oninput"in document;if(!Pv){var Sk=document.createElement("div");Sk.setAttribute("oninput","return;"),Pv=typeof Sk.oninput=="function"}Av=Pv}else Av=!1;DD=Av&&(!document.documentMode||9<document.documentMode)}function Tk(){jd&&(jd.detachEvent("onpropertychange",MD),vh=jd=null)}function MD(t){if(t.propertyName==="value"&&Dy(vh)){var e=[];ND(e,vh,t,uE(t)),fD(nj,e)}}function ij(t,e,n){t==="focusin"?(Tk(),jd=e,vh=n,jd.attachEvent("onpropertychange",MD)):t==="focusout"&&Tk()}function sj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dy(vh)}function oj(t,e){if(t==="click")return Dy(e)}function aj(t,e){if(t==="input"||t==="change")return Dy(e)}function lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:lj;function bh(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gw.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function kk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ik(t,e){var n=kk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kk(n)}}function OD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LD(){for(var t=window,e=cg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cg(t.document)}return e}function bE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cj(t){var e=LD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OD(n.ownerDocument.documentElement,n)){if(r!==null&&bE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ik(n,s);var o=Ik(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uj=xs&&"documentMode"in document&&11>=document.documentMode,ql=null,Ow=null,Ud=null,Lw=!1;function Ck(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lw||ql==null||ql!==cg(r)||(r=ql,"selectionStart"in r&&bE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ud&&bh(Ud,r)||(Ud=r,r=gg(Ow,"onSelect"),0<r.length&&(e=new gE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ql)))}function Sm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gl={animationend:Sm("Animation","AnimationEnd"),animationiteration:Sm("Animation","AnimationIteration"),animationstart:Sm("Animation","AnimationStart"),transitionend:Sm("Transition","TransitionEnd")},Rv={},VD={};xs&&(VD=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function My(t){if(Rv[t])return Rv[t];if(!Gl[t])return t;var e=Gl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VD)return Rv[t]=e[n];return t}var FD=My("animationend"),BD=My("animationiteration"),$D=My("animationstart"),jD=My("transitionend"),UD=new Map,Ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){UD.set(t,e),il(e,[t])}for(var Nv=0;Nv<Ak.length;Nv++){var Dv=Ak[Nv],dj=Dv.toLowerCase(),hj=Dv[0].toUpperCase()+Dv.slice(1);$o(dj,"on"+hj)}$o(FD,"onAnimationEnd");$o(BD,"onAnimationIteration");$o($D,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(jD,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));il("onBeforeInput",["compositionend","keypress","textInput","paste"]);il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function Pk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d$(r,e,void 0,t),t.currentTarget=null}function zD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Pk(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Pk(i,a,c),s=l}}}if(dg)throw t=Rw,dg=!1,Rw=null,t}function tt(t,e){var n=e[jw];n===void 0&&(n=e[jw]=new Set);var r=t+"__bubble";n.has(r)||(HD(e,t,2,!1),n.add(r))}function Mv(t,e,n){var r=0;e&&(r|=4),HD(n,t,r,e)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[Tm]){t[Tm]=!0,X5.forEach(function(n){n!=="selectionchange"&&(fj.has(n)||Mv(n,!1,t),Mv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tm]||(e[Tm]=!0,Mv("selectionchange",!1,e))}}function HD(t,e,n,r){switch(ID(e)){case 1:var i=I$;break;case 4:i=C$;break;default:i=mE}n=i.bind(null,e,n,t),i=void 0,!Pw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ov(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fD(function(){var c=s,u=uE(n),d=[];e:{var f=UD.get(t);if(f!==void 0){var p=gE,g=t;switch(t){case"keypress":if(Tp(n)===0)break e;case"keydown":case"keyup":p=z$;break;case"focusin":g="focus",p=Cv;break;case"focusout":g="blur",p=Cv;break;case"beforeblur":case"afterblur":p=Cv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=R$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q$;break;case FD:case BD:case $D:p=M$;break;case jD:p=K$;break;case"scroll":p=A$;break;case"wheel":p=Y$;break;case"copy":case"cut":case"paste":p=L$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wk}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,b!==null&&(C=mh(w,b),C!=null&&y.push(xh(w,C,E)))),v)break;w=w.return}0<y.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Cw&&(g=n.relatedTarget||n.fromElement)&&(xa(g)||g[_s]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?xa(g):null,g!==null&&(v=sl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=vk,C="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=wk,C="onPointerLeave",b="onPointerEnter",w="pointer"),v=p==null?f:Kl(p),E=g==null?f:Kl(g),f=new y(C,w+"leave",p,n,u),f.target=v,f.relatedTarget=E,C=null,xa(u)===c&&(y=new y(b,w+"enter",g,n,u),y.target=E,y.relatedTarget=v,C=y),v=C,p&&g)t:{for(y=p,b=g,w=0,E=y;E;E=El(E))w++;for(E=0,C=b;C;C=El(C))E++;for(;0<w-E;)y=El(y),w--;for(;0<E-w;)b=El(b),E--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=El(y),b=El(b)}y=null}else y=null;p!==null&&Rk(d,f,p,y,!1),g!==null&&v!==null&&Rk(d,v,g,y,!0)}}e:{if(f=c?Kl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=rj;else if(Ek(f))if(DD)R=aj;else{R=sj;var P=ij}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=oj);if(R&&(R=R(t,c))){ND(d,R,n,u);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Ew(f,"number",f.value)}switch(P=c?Kl(c):window,t){case"focusin":(Ek(P)||P.contentEditable==="true")&&(ql=P,Ow=c,Ud=null);break;case"focusout":Ud=Ow=ql=null;break;case"mousedown":Lw=!0;break;case"contextmenu":case"mouseup":case"dragend":Lw=!1,Ck(d,n,u);break;case"selectionchange":if(uj)break;case"keydown":case"keyup":Ck(d,n,u)}var I;if(vE)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wl?PD(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(AD&&n.locale!=="ko"&&(Wl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wl&&(I=CD()):(ao=u,pE="value"in ao?ao.value:ao.textContent,Wl=!0)),P=gg(c,k),0<P.length&&(k=new bk(k,t,null,n,u),d.push({event:k,listeners:P}),I?k.data=I:(I=RD(n),I!==null&&(k.data=I)))),(I=J$?Z$(t,n):ej(t,n))&&(c=gg(c,"onBeforeInput"),0<c.length&&(u=new bk("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}zD(d,e)})}function xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mh(t,n),s!=null&&r.unshift(xh(t,s,i)),s=mh(t,e),s!=null&&r.push(xh(t,s,i))),t=t.return}return r}function El(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rk(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mh(n,s),l!=null&&o.unshift(xh(n,l,a))):i||(l=mh(n,s),l!=null&&o.push(xh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function Nk(t){return(typeof t=="string"?t:""+t).replace(mj,`
`).replace(pj,"")}function km(t,e,n){if(e=Nk(e),Nk(t)!==e&&n)throw Error(G(425))}function yg(){}var Vw=null,Fw=null;function Bw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $w=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,Dk=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof Dk<"u"?function(t){return Dk.resolve(null).then(t).catch(vj)}:$w;function vj(t){setTimeout(function(){throw t})}function Lv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yh(e)}function bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var au=Math.random().toString(36).slice(2),Ti="__reactFiber$"+au,_h="__reactProps$"+au,_s="__reactContainer$"+au,jw="__reactEvents$"+au,bj="__reactListeners$"+au,wj="__reactHandles$"+au;function xa(t){var e=t[Ti];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_s]||n[Ti]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mk(t);t!==null;){if(n=t[Ti])return n;t=Mk(t)}return e}t=n,n=t.parentNode}return null}function yf(t){return t=t[Ti]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Oy(t){return t[_h]||null}var Uw=[],Ql=-1;function jo(t){return{current:t}}function rt(t){0>Ql||(t.current=Uw[Ql],Uw[Ql]=null,Ql--)}function Xe(t,e){Ql++,Uw[Ql]=t.current,t.current=e}var Ro={},An=jo(Ro),tr=jo(!1),Fa=Ro;function Nc(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function vg(){rt(tr),rt(An)}function Ok(t,e,n){if(An.current!==Ro)throw Error(G(168));Xe(An,e),Xe(tr,n)}function WD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,i$(t)||"Unknown",i));return yt({},n,r)}function bg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Fa=An.current,Xe(An,t),Xe(tr,tr.current),!0}function Lk(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=WD(t,e,Fa),r.__reactInternalMemoizedMergedChildContext=t,rt(tr),rt(An),Xe(An,t)):rt(tr),Xe(tr,n)}var os=null,Ly=!1,Vv=!1;function qD(t){os===null?os=[t]:os.push(t)}function xj(t){Ly=!0,qD(t)}function Uo(){if(!Vv&&os!==null){Vv=!0;var t=0,e=ze;try{var n=os;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}os=null,Ly=!1}catch(i){throw os!==null&&(os=os.slice(t+1)),yD(dE,Uo),i}finally{ze=e,Vv=!1}}return null}var Yl=[],Xl=0,wg=null,xg=0,Mr=[],Or=0,Ba=null,ls=1,cs="";function oa(t,e){Yl[Xl++]=xg,Yl[Xl++]=wg,wg=t,xg=e}function GD(t,e,n){Mr[Or++]=ls,Mr[Or++]=cs,Mr[Or++]=Ba,Ba=t;var r=ls;t=cs;var i=32-ai(r)-1;r&=~(1<<i),n+=1;var s=32-ai(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ls=1<<32-ai(e)+i|n<<i|r,cs=s+t}else ls=1<<s|n<<i|r,cs=t}function wE(t){t.return!==null&&(oa(t,1),GD(t,1,0))}function xE(t){for(;t===wg;)wg=Yl[--Xl],Yl[Xl]=null,xg=Yl[--Xl],Yl[Xl]=null;for(;t===Ba;)Ba=Mr[--Or],Mr[Or]=null,cs=Mr[--Or],Mr[Or]=null,ls=Mr[--Or],Mr[Or]=null}var br=null,pr=null,at=!1,ii=null;function KD(t,e){var n=Fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,pr=bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:ls,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,pr=null,!0):!1;default:return!1}}function zw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hw(t){if(at){var e=pr;if(e){var n=e;if(!Vk(t,e)){if(zw(t))throw Error(G(418));e=bo(n.nextSibling);var r=br;e&&Vk(t,e)?KD(r,n):(t.flags=t.flags&-4097|2,at=!1,br=t)}}else{if(zw(t))throw Error(G(418));t.flags=t.flags&-4097|2,at=!1,br=t}}}function Fk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function Im(t){if(t!==br)return!1;if(!at)return Fk(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bw(t.type,t.memoizedProps)),e&&(e=pr)){if(zw(t))throw QD(),Error(G(418));for(;e;)KD(t,e),e=bo(e.nextSibling)}if(Fk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=br?bo(t.stateNode.nextSibling):null;return!0}function QD(){for(var t=pr;t;)t=bo(t.nextSibling)}function Dc(){pr=br=null,at=!1}function _E(t){ii===null?ii=[t]:ii.push(t)}var _j=As.ReactCurrentBatchConfig;function Ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Cm(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bk(t){var e=t._init;return e(t._payload)}function YD(t){function e(b,w){if(t){var E=b.deletions;E===null?(b.deletions=[w],b.flags|=16):E.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Eo(b,w),b.index=0,b.sibling=null,b}function s(b,w,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<w?(b.flags|=2,w):E):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,E,C){return w===null||w.tag!==6?(w=Hv(E,b.mode,C),w.return=b,w):(w=i(w,E),w.return=b,w)}function l(b,w,E,C){var R=E.type;return R===Hl?u(b,w,E.props.children,C,E.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ys&&Bk(R)===w.type)?(C=i(w,E.props),C.ref=Ku(b,w,E),C.return=b,C):(C=Np(E.type,E.key,E.props,null,b.mode,C),C.ref=Ku(b,w,E),C.return=b,C)}function c(b,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Wv(E,b.mode,C),w.return=b,w):(w=i(w,E.children||[]),w.return=b,w)}function u(b,w,E,C,R){return w===null||w.tag!==7?(w=Aa(E,b.mode,C,R),w.return=b,w):(w=i(w,E),w.return=b,w)}function d(b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Hv(""+w,b.mode,E),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ym:return E=Np(w.type,w.key,w.props,null,b.mode,E),E.ref=Ku(b,null,w),E.return=b,E;case zl:return w=Wv(w,b.mode,E),w.return=b,w;case Ys:var C=w._init;return d(b,C(w._payload),E)}if(md(w)||zu(w))return w=Aa(w,b.mode,E,null),w.return=b,w;Cm(b,w)}return null}function f(b,w,E,C){var R=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(b,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ym:return E.key===R?l(b,w,E,C):null;case zl:return E.key===R?c(b,w,E,C):null;case Ys:return R=E._init,f(b,w,R(E._payload),C)}if(md(E)||zu(E))return R!==null?null:u(b,w,E,C,null);Cm(b,E)}return null}function p(b,w,E,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(E)||null,a(w,b,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ym:return b=b.get(C.key===null?E:C.key)||null,l(w,b,C,R);case zl:return b=b.get(C.key===null?E:C.key)||null,c(w,b,C,R);case Ys:var P=C._init;return p(b,w,E,P(C._payload),R)}if(md(C)||zu(C))return b=b.get(E)||null,u(w,b,C,R,null);Cm(w,C)}return null}function g(b,w,E,C){for(var R=null,P=null,I=w,k=w=0,A=null;I!==null&&k<E.length;k++){I.index>k?(A=I,I=null):A=I.sibling;var S=f(b,I,E[k],C);if(S===null){I===null&&(I=A);break}t&&I&&S.alternate===null&&e(b,I),w=s(S,w,k),P===null?R=S:P.sibling=S,P=S,I=A}if(k===E.length)return n(b,I),at&&oa(b,k),R;if(I===null){for(;k<E.length;k++)I=d(b,E[k],C),I!==null&&(w=s(I,w,k),P===null?R=I:P.sibling=I,P=I);return at&&oa(b,k),R}for(I=r(b,I);k<E.length;k++)A=p(I,b,k,E[k],C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?k:A.key),w=s(A,w,k),P===null?R=A:P.sibling=A,P=A);return t&&I.forEach(function(N){return e(b,N)}),at&&oa(b,k),R}function y(b,w,E,C){var R=zu(E);if(typeof R!="function")throw Error(G(150));if(E=R.call(E),E==null)throw Error(G(151));for(var P=R=null,I=w,k=w=0,A=null,S=E.next();I!==null&&!S.done;k++,S=E.next()){I.index>k?(A=I,I=null):A=I.sibling;var N=f(b,I,S.value,C);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(b,I),w=s(N,w,k),P===null?R=N:P.sibling=N,P=N,I=A}if(S.done)return n(b,I),at&&oa(b,k),R;if(I===null){for(;!S.done;k++,S=E.next())S=d(b,S.value,C),S!==null&&(w=s(S,w,k),P===null?R=S:P.sibling=S,P=S);return at&&oa(b,k),R}for(I=r(b,I);!S.done;k++,S=E.next())S=p(I,b,k,S.value,C),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?k:S.key),w=s(S,w,k),P===null?R=S:P.sibling=S,P=S);return t&&I.forEach(function(O){return e(b,O)}),at&&oa(b,k),R}function v(b,w,E,C){if(typeof E=="object"&&E!==null&&E.type===Hl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ym:e:{for(var R=E.key,P=w;P!==null;){if(P.key===R){if(R=E.type,R===Hl){if(P.tag===7){n(b,P.sibling),w=i(P,E.props.children),w.return=b,b=w;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ys&&Bk(R)===P.type){n(b,P.sibling),w=i(P,E.props),w.ref=Ku(b,P,E),w.return=b,b=w;break e}n(b,P);break}else e(b,P);P=P.sibling}E.type===Hl?(w=Aa(E.props.children,b.mode,C,E.key),w.return=b,b=w):(C=Np(E.type,E.key,E.props,null,b.mode,C),C.ref=Ku(b,w,E),C.return=b,b=C)}return o(b);case zl:e:{for(P=E.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(b,w.sibling),w=i(w,E.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Wv(E,b.mode,C),w.return=b,b=w}return o(b);case Ys:return P=E._init,v(b,w,P(E._payload),C)}if(md(E))return g(b,w,E,C);if(zu(E))return y(b,w,E,C);Cm(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,E),w.return=b,b=w):(n(b,w),w=Hv(E,b.mode,C),w.return=b,b=w),o(b)):n(b,w)}return v}var Mc=YD(!0),XD=YD(!1),_g=jo(null),Eg=null,Jl=null,EE=null;function SE(){EE=Jl=Eg=null}function TE(t){var e=_g.current;rt(_g),t._currentValue=e}function Ww(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gc(t,e){Eg=t,EE=Jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zn=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(EE!==t)if(t={context:t,memoizedValue:e,next:null},Jl===null){if(Eg===null)throw Error(G(308));Jl=t,Eg.dependencies={lanes:0,firstContext:t}}else Jl=Jl.next=t;return e}var _a=null;function kE(t){_a===null?_a=[t]:_a.push(t)}function JD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Es(t,r)}function Es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xs=!1;function IE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Es(t,n)}return i=r.interleaved,i===null?(e.next=e,kE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Es(t,n)}function kp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}function $k(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sg(t,e,n,r){var i=t.updateQueue;Xs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=yt({},d,f);break e;case 2:Xs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ja|=o,t.lanes=o,t.memoizedState=d}}function jk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var vf={},Ni=jo(vf),Eh=jo(vf),Sh=jo(vf);function Ea(t){if(t===vf)throw Error(G(174));return t}function CE(t,e){switch(Xe(Sh,e),Xe(Eh,t),Xe(Ni,vf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tw(e,t)}rt(Ni),Xe(Ni,e)}function Oc(){rt(Ni),rt(Eh),rt(Sh)}function eM(t){Ea(Sh.current);var e=Ea(Ni.current),n=Tw(e,t.type);e!==n&&(Xe(Eh,t),Xe(Ni,n))}function AE(t){Eh.current===t&&(rt(Ni),rt(Eh))}var dt=jo(0);function Tg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fv=[];function PE(){for(var t=0;t<Fv.length;t++)Fv[t]._workInProgressVersionPrimary=null;Fv.length=0}var Ip=As.ReactCurrentDispatcher,Bv=As.ReactCurrentBatchConfig,$a=0,pt=null,$t=null,Qt=null,kg=!1,zd=!1,Th=0,Ej=0;function yn(){throw Error(G(321))}function RE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function NE(t,e,n,r,i,s){if($a=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?Ij:Cj,t=n(r,i),zd){s=0;do{if(zd=!1,Th=0,25<=s)throw Error(G(301));s+=1,Qt=$t=null,e.updateQueue=null,Ip.current=Aj,t=n(r,i)}while(zd)}if(Ip.current=Ig,e=$t!==null&&$t.next!==null,$a=0,Qt=$t=pt=null,kg=!1,e)throw Error(G(300));return t}function DE(){var t=Th!==0;return Th=0,t}function vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?pt.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Wr(){if($t===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Qt===null?pt.memoizedState:Qt.next;if(e!==null)Qt=e,$t=t;else{if(t===null)throw Error(G(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Qt===null?pt.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function kh(t,e){return typeof e=="function"?e(t):e}function $v(t){var e=Wr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if(($a&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,pt.lanes|=u,ja|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ui(r,e.memoizedState)||(Zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,ja|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jv(t){var e=Wr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ui(s,e.memoizedState)||(Zn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tM(){}function nM(t,e){var n=pt,r=Wr(),i=e(),s=!ui(r.memoizedState,i);if(s&&(r.memoizedState=i,Zn=!0),r=r.queue,ME(sM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,Ih(9,iM.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(G(349));$a&30||rM(n,e,i)}return i}function rM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iM(t,e,n,r){e.value=n,e.getSnapshot=r,oM(e)&&aM(t)}function sM(t,e,n){return n(function(){oM(e)&&aM(t)})}function oM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function aM(t){var e=Es(t,1);e!==null&&li(e,t,1,-1)}function Uk(t){var e=vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:t},e.queue=t,t=t.dispatch=kj.bind(null,pt,t),[e.memoizedState,t]}function Ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lM(){return Wr().memoizedState}function Cp(t,e,n,r){var i=vi();pt.flags|=t,i.memoizedState=Ih(1|e,n,void 0,r===void 0?null:r)}function Vy(t,e,n,r){var i=Wr();r=r===void 0?null:r;var s=void 0;if($t!==null){var o=$t.memoizedState;if(s=o.destroy,r!==null&&RE(r,o.deps)){i.memoizedState=Ih(e,n,s,r);return}}pt.flags|=t,i.memoizedState=Ih(1|e,n,s,r)}function zk(t,e){return Cp(8390656,8,t,e)}function ME(t,e){return Vy(2048,8,t,e)}function cM(t,e){return Vy(4,2,t,e)}function uM(t,e){return Vy(4,4,t,e)}function dM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hM(t,e,n){return n=n!=null?n.concat([t]):null,Vy(4,4,dM.bind(null,e,t),n)}function OE(){}function fM(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mM(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pM(t,e,n){return $a&21?(ui(n,e)||(n=wD(),pt.lanes|=n,ja|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zn=!0),t.memoizedState=n)}function Sj(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Bv.transition;Bv.transition={};try{t(!1),e()}finally{ze=n,Bv.transition=r}}function gM(){return Wr().memoizedState}function Tj(t,e,n){var r=_o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yM(t))vM(e,n);else if(n=JD(t,e,n,r),n!==null){var i=$n();li(n,t,r,i),bM(n,e,r)}}function kj(t,e,n){var r=_o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yM(t))vM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ui(a,o)){var l=e.interleaved;l===null?(i.next=i,kE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JD(t,e,i,r),n!==null&&(i=$n(),li(n,t,r,i),bM(n,e,r))}}function yM(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function vM(t,e){zd=kg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}var Ig={readContext:Hr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},Ij={readContext:Hr,useCallback:function(t,e){return vi().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:zk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cp(4194308,4,dM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cp(4,2,t,e)},useMemo:function(t,e){var n=vi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tj.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=vi();return t={current:t},e.memoizedState=t},useState:Uk,useDebugValue:OE,useDeferredValue:function(t){return vi().memoizedState=t},useTransition:function(){var t=Uk(!1),e=t[0];return t=Sj.bind(null,t[1]),vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=vi();if(at){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Xt===null)throw Error(G(349));$a&30||rM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zk(sM.bind(null,r,s,t),[t]),r.flags|=2048,Ih(9,iM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vi(),e=Xt.identifierPrefix;if(at){var n=cs,r=ls;n=(r&~(1<<32-ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ej++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cj={readContext:Hr,useCallback:fM,useContext:Hr,useEffect:ME,useImperativeHandle:hM,useInsertionEffect:cM,useLayoutEffect:uM,useMemo:mM,useReducer:$v,useRef:lM,useState:function(){return $v(kh)},useDebugValue:OE,useDeferredValue:function(t){var e=Wr();return pM(e,$t.memoizedState,t)},useTransition:function(){var t=$v(kh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:tM,useSyncExternalStore:nM,useId:gM,unstable_isNewReconciler:!1},Aj={readContext:Hr,useCallback:fM,useContext:Hr,useEffect:ME,useImperativeHandle:hM,useInsertionEffect:cM,useLayoutEffect:uM,useMemo:mM,useReducer:jv,useRef:lM,useState:function(){return jv(kh)},useDebugValue:OE,useDeferredValue:function(t){var e=Wr();return $t===null?e.memoizedState=t:pM(e,$t.memoizedState,t)},useTransition:function(){var t=jv(kh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:tM,useSyncExternalStore:nM,useId:gM,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fy={isMounted:function(t){return(t=t._reactInternals)?sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=_o(t),s=gs(r,i);s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(li(e,t,i,r),kp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=_o(t),s=gs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wo(t,s,i),e!==null&&(li(e,t,i,r),kp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=_o(t),i=gs(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(li(e,t,r,n),kp(e,t,r))}};function Hk(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,s):!0}function wM(t,e,n){var r=!1,i=Ro,s=e.contextType;return typeof s=="object"&&s!==null?s=Hr(s):(i=nr(e)?Fa:An.current,r=e.contextTypes,s=(r=r!=null)?Nc(t,i):Ro),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fy.enqueueReplaceState(e,e.state,null)}function Gw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},IE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hr(s):(s=nr(e)?Fa:An.current,i.context=Nc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fy.enqueueReplaceState(i,i.state,null),Sg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var n="",r=e;do n+=r$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function xM(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ag||(Ag=!0,ix=r),Kw(t,e)},n}function _M(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Kw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Kw(t,e),typeof r!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Hj.bind(null,t,e,n),e.then(t,t))}function Gk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var Rj=As.ReactCurrentOwner,Zn=!1;function Ln(t,e,n,r){e.child=t===null?XD(e,null,n,r):Mc(e,t.child,n,r)}function Qk(t,e,n,r,i){n=n.render;var s=e.ref;return gc(e,i),r=NE(t,e,n,r,s,i),n=DE(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(at&&n&&wE(e),e.flags|=1,Ln(t,e,r,i),e.child)}function Yk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,EM(t,e,s,r,i)):(t=Np(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(o,r)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=Eo(s,r),t.ref=e.ref,t.return=e,e.child=t}function EM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bh(s,r)&&t.ref===e.ref)if(Zn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zn=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return Qw(t,e,n,r,i)}function SM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ec,mr),mr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(ec,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xe(ec,mr),mr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Xe(ec,mr),mr|=r;return Ln(t,e,i,n),e.child}function TM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qw(t,e,n,r,i){var s=nr(n)?Fa:An.current;return s=Nc(e,s),gc(e,i),n=NE(t,e,n,r,s,i),r=DE(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(at&&r&&wE(e),e.flags|=1,Ln(t,e,n,i),e.child)}function Xk(t,e,n,r,i){if(nr(n)){var s=!0;bg(e)}else s=!1;if(gc(e,i),e.stateNode===null)Ap(t,e),wM(e,n,r),Gw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=nr(n)?Fa:An.current,c=Nc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wk(e,o,r,c),Xs=!1;var f=e.memoizedState;o.state=f,Sg(e,r,o,i),l=e.memoizedState,a!==r||f!==l||tr.current||Xs?(typeof u=="function"&&(qw(e,n,u,r),l=e.memoizedState),(a=Xs||Hk(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ei(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=nr(n)?Fa:An.current,l=Nc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Wk(e,o,r,l),Xs=!1,f=e.memoizedState,o.state=f,Sg(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||tr.current||Xs?(typeof p=="function"&&(qw(e,n,p,r),g=e.memoizedState),(c=Xs||Hk(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Yw(t,e,n,r,s,i)}function Yw(t,e,n,r,i,s){TM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Lk(e,n,!1),Ss(t,e,s);r=e.stateNode,Rj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mc(e,t.child,null,s),e.child=Mc(e,null,a,s)):Ln(t,e,a,s),e.memoizedState=r.state,i&&Lk(e,n,!0),e.child}function kM(t){var e=t.stateNode;e.pendingContext?Ok(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ok(t,e.context,!1),CE(t,e.containerInfo)}function Jk(t,e,n,r,i){return Dc(),_E(i),e.flags|=256,Ln(t,e,n,r),e.child}var Xw={dehydrated:null,treeContext:null,retryLane:0};function Jw(t){return{baseLanes:t,cachePool:null,transitions:null}}function IM(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(dt,i&1),t===null)return Hw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jy(o,r,0,null),t=Aa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jw(n),e.memoizedState=Xw,t):LE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Eo(a,s):(s=Aa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xw,r}return s=t.child,t=s.sibling,r=Eo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function LE(t,e){return e=jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Am(t,e,n,r){return r!==null&&_E(r),Mc(e,t.child,null,n),t=LE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uv(Error(G(422))),Am(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jy({mode:"visible",children:r.children},i,0,null),s=Aa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mc(e,t.child,null,o),e.child.memoizedState=Jw(o),e.memoizedState=Xw,s);if(!(e.mode&1))return Am(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Uv(s,r,void 0),Am(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zn||a){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Es(t,i),li(r,t,i,-1))}return UE(),r=Uv(Error(G(421))),Am(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Wj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=bo(i.nextSibling),br=e,at=!0,ii=null,t!==null&&(Mr[Or++]=ls,Mr[Or++]=cs,Mr[Or++]=Ba,ls=t.id,cs=t.overflow,Ba=e),e=LE(e,r.children),e.flags|=4096,e)}function Zk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ww(t.return,e,n)}function zv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ln(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zk(t,n,e);else if(t.tag===19)Zk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zv(e,!0,n,null,s);break;case"together":zv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dj(t,e,n){switch(e.tag){case 3:kM(e),Dc();break;case 5:eM(e);break;case 1:nr(e.type)&&bg(e);break;case 4:CE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(_g,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?IM(t,e,n):(Xe(dt,dt.current&1),t=Ss(t,e,n),t!==null?t.sibling:null);Xe(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,SM(t,e,n)}return Ss(t,e,n)}var AM,Zw,PM,RM;AM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zw=function(){};PM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ea(Ni.current);var s=null;switch(n){case"input":i=xw(t,i),r=xw(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=Sw(t,i),r=Sw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yg)}kw(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qu(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mj(t,e,n){var r=e.pendingProps;switch(xE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(e),null;case 1:return nr(e.type)&&vg(),vn(e),null;case 3:return r=e.stateNode,Oc(),rt(tr),rt(An),PE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Im(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(ax(ii),ii=null))),Zw(t,e),vn(e),null;case 5:AE(e);var i=Ea(Sh.current);if(n=e.type,t!==null&&e.stateNode!=null)PM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return vn(e),null}if(t=Ea(Ni.current),Im(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ti]=e,r[_h]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<gd.length;i++)tt(gd[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":lk(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":uk(r,s),tt("invalid",r)}kw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&km(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&km(r.textContent,a,t),i=["children",""+a]):hh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":vm(r),ck(r,s,!0);break;case"textarea":vm(r),dk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ti]=e,t[_h]=r,AM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Iw(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<gd.length;i++)tt(gd[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":lk(t,r),i=xw(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),tt("invalid",t);break;case"textarea":uk(t,r),i=Sw(t,r),tt("invalid",t);break;default:i=r}kw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lD(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oD(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fh(t,l):typeof l=="number"&&fh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&oE(t,s,l,o))}switch(n){case"input":vm(t),ck(t,r,!1);break;case"textarea":vm(t),dk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Po(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hc(t,!!r.multiple,s,!1):r.defaultValue!=null&&hc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vn(e),null;case 6:if(t&&e.stateNode!=null)RM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Ea(Sh.current),Ea(Ni.current),Im(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ti]=e,(s=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:km(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&km(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=e,e.stateNode=r}return vn(e),null;case 13:if(rt(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&pr!==null&&e.mode&1&&!(e.flags&128))QD(),Dc(),e.flags|=98560,s=!1;else if(s=Im(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Ti]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vn(e),s=!1}else ii!==null&&(ax(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?jt===0&&(jt=3):UE())),e.updateQueue!==null&&(e.flags|=4),vn(e),null);case 4:return Oc(),Zw(t,e),t===null&&wh(e.stateNode.containerInfo),vn(e),null;case 10:return TE(e.type._context),vn(e),null;case 17:return nr(e.type)&&vg(),vn(e),null;case 19:if(rt(dt),s=e.memoizedState,s===null)return vn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qu(s,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tg(t),o!==null){for(e.flags|=128,Qu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>Vc&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return vn(e),null}else 2*It()-s.renderingStartTime>Vc&&n!==1073741824&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,n=dt.current,Xe(dt,r?n&1|2:n&1),e):(vn(e),null);case 22:case 23:return jE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(vn(e),e.subtreeFlags&6&&(e.flags|=8192)):vn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function Oj(t,e){switch(xE(e),e.tag){case 1:return nr(e.type)&&vg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oc(),rt(tr),rt(An),PE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AE(e),null;case 13:if(rt(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(dt),null;case 4:return Oc(),null;case 10:return TE(e.type._context),null;case 22:case 23:return jE(),null;case 24:return null;default:return null}}var Pm=!1,En=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,te=null;function Zl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function ex(t,e,n){try{n()}catch(r){xt(t,e,r)}}var eI=!1;function Vj(t,e){if(Vw=mg,t=LD(),bE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fw={focusedElem:t,selectionRange:n},mg=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ei(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){xt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return g=eI,eI=!1,g}function Hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ex(e,n,s)}i=i.next}while(i!==r)}}function By(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NM(t){var e=t.alternate;e!==null&&(t.alternate=null,NM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ti],delete e[_h],delete e[jw],delete e[bj],delete e[wj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DM(t){return t.tag===5||t.tag===3||t.tag===4}function tI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yg));else if(r!==4&&(t=t.child,t!==null))for(nx(t,e,n),t=t.sibling;t!==null;)nx(t,e,n),t=t.sibling}function rx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rx(t,e,n),t=t.sibling;t!==null;)rx(t,e,n),t=t.sibling}var sn=null,ni=!1;function Bs(t,e,n){for(n=n.child;n!==null;)MM(t,e,n),n=n.sibling}function MM(t,e,n){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Ry,n)}catch{}switch(n.tag){case 5:En||Zl(n,e);case 6:var r=sn,i=ni;sn=null,Bs(t,e,n),sn=r,ni=i,sn!==null&&(ni?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(ni?(t=sn,n=n.stateNode,t.nodeType===8?Lv(t.parentNode,n):t.nodeType===1&&Lv(t,n),yh(t)):Lv(sn,n.stateNode));break;case 4:r=sn,i=ni,sn=n.stateNode.containerInfo,ni=!0,Bs(t,e,n),sn=r,ni=i;break;case 0:case 11:case 14:case 15:if(!En&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ex(n,e,o),i=i.next}while(i!==r)}Bs(t,e,n);break;case 1:if(!En&&(Zl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(En=(r=En)||n.memoizedState!==null,Bs(t,e,n),En=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function nI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lj),e.forEach(function(r){var i=qj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sn=a.stateNode,ni=!1;break e;case 3:sn=a.stateNode.containerInfo,ni=!0;break e;case 4:sn=a.stateNode.containerInfo,ni=!0;break e}a=a.return}if(sn===null)throw Error(G(160));MM(s,o,i),sn=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OM(e,t),e=e.sibling}function OM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),mi(t),r&4){try{Hd(3,t,t.return),By(3,t)}catch(y){xt(t,t.return,y)}try{Hd(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Yr(e,t),mi(t),r&512&&n!==null&&Zl(n,n.return);break;case 5:if(Yr(e,t),mi(t),r&512&&n!==null&&Zl(n,n.return),t.flags&32){var i=t.stateNode;try{fh(i,"")}catch(y){xt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rD(i,s),Iw(a,o);var c=Iw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?lD(i,d):u==="dangerouslySetInnerHTML"?oD(i,d):u==="children"?fh(i,d):oE(i,u,d,c)}switch(a){case"input":_w(i,s);break;case"textarea":iD(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?hc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?hc(i,!!s.multiple,s.defaultValue,!0):hc(i,!!s.multiple,s.multiple?[]:"",!1))}i[_h]=s}catch(y){xt(t,t.return,y)}}break;case 6:if(Yr(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xt(t,t.return,y)}}break;case 3:if(Yr(e,t),mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yh(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Yr(e,t),mi(t);break;case 13:Yr(e,t),mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(BE=It())),r&4&&nI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(En=(c=En)||u,Yr(e,t),En=c):Yr(e,t),mi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(d=te=u;te!==null;){switch(f=te,p=f.child,f.tag){case 0:case 11:case 14:case 15:Hd(4,f,f.return);break;case 1:Zl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){xt(r,n,y)}}break;case 5:Zl(f,f.return);break;case 22:if(f.memoizedState!==null){iI(d);continue}}p!==null?(p.return=f,te=p):iI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aD("display",o))}catch(y){xt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){xt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yr(e,t),mi(t),r&4&&nI(t);break;case 21:break;default:Yr(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DM(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fh(i,""),r.flags&=-33);var s=tI(t);rx(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tI(t);nx(t,a,o);break;default:throw Error(G(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fj(t,e,n){te=t,LM(t)}function LM(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||En;a=Pm;var c=En;if(Pm=o,(En=l)&&!c)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?sI(i):l!==null?(l.return=o,te=l):sI(i);for(;s!==null;)te=s,LM(s),s=s.sibling;te=i,Pm=a,En=c}rI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):rI(t)}}function rI(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:En||By(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!En)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ei(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jk(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}En||e.flags&512&&tx(e)}catch(f){xt(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function iI(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function sI(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{By(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{tx(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{tx(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Bj=Math.ceil,Cg=As.ReactCurrentDispatcher,VE=As.ReactCurrentOwner,jr=As.ReactCurrentBatchConfig,Oe=0,Xt=null,Dt=null,hn=0,mr=0,ec=jo(0),jt=0,Ch=null,ja=0,$y=0,FE=0,Wd=null,Xn=null,BE=0,Vc=1/0,ss=null,Ag=!1,ix=null,xo=null,Rm=!1,lo=null,Pg=0,qd=0,sx=null,Pp=-1,Rp=0;function $n(){return Oe&6?It():Pp!==-1?Pp:Pp=It()}function _o(t){return t.mode&1?Oe&2&&hn!==0?hn&-hn:_j.transition!==null?(Rp===0&&(Rp=wD()),Rp):(t=ze,t!==0||(t=window.event,t=t===void 0?16:ID(t.type)),t):1}function li(t,e,n,r){if(50<qd)throw qd=0,sx=null,Error(G(185));pf(t,n,r),(!(Oe&2)||t!==Xt)&&(t===Xt&&(!(Oe&2)&&($y|=n),jt===4&&Zs(t,hn)),rr(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Vc=It()+500,Ly&&Uo()))}function rr(t,e){var n=t.callbackNode;_$(t,e);var r=fg(t,t===Xt?hn:0);if(r===0)n!==null&&mk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mk(n),e===1)t.tag===0?xj(oI.bind(null,t)):qD(oI.bind(null,t)),yj(function(){!(Oe&6)&&Uo()}),n=null;else{switch(xD(r)){case 1:n=dE;break;case 4:n=vD;break;case 16:n=hg;break;case 536870912:n=bD;break;default:n=hg}n=HM(n,VM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VM(t,e){if(Pp=-1,Rp=0,Oe&6)throw Error(G(327));var n=t.callbackNode;if(yc()&&t.callbackNode!==n)return null;var r=fg(t,t===Xt?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rg(t,r);else{e=r;var i=Oe;Oe|=2;var s=BM();(Xt!==t||hn!==e)&&(ss=null,Vc=It()+500,Ca(t,e));do try{Uj();break}catch(a){FM(t,a)}while(!0);SE(),Cg.current=s,Oe=i,Dt!==null?e=0:(Xt=null,hn=0,e=jt)}if(e!==0){if(e===2&&(i=Nw(t),i!==0&&(r=i,e=ox(t,i))),e===1)throw n=Ch,Ca(t,0),Zs(t,r),rr(t,It()),n;if(e===6)Zs(t,r);else{if(i=t.current.alternate,!(r&30)&&!$j(i)&&(e=Rg(t,r),e===2&&(s=Nw(t),s!==0&&(r=s,e=ox(t,s))),e===1))throw n=Ch,Ca(t,0),Zs(t,r),rr(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:aa(t,Xn,ss);break;case 3:if(Zs(t,r),(r&130023424)===r&&(e=BE+500-It(),10<e)){if(fg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$w(aa.bind(null,t,Xn,ss),e);break}aa(t,Xn,ss);break;case 4:if(Zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ai(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bj(r/1960))-r,10<r){t.timeoutHandle=$w(aa.bind(null,t,Xn,ss),r);break}aa(t,Xn,ss);break;case 5:aa(t,Xn,ss);break;default:throw Error(G(329))}}}return rr(t,It()),t.callbackNode===n?VM.bind(null,t):null}function ox(t,e){var n=Wd;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=Rg(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&ax(e)),t}function ax(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function $j(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ui(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zs(t,e){for(e&=~FE,e&=~$y,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ai(e),r=1<<n;t[n]=-1,e&=~r}}function oI(t){if(Oe&6)throw Error(G(327));yc();var e=fg(t,0);if(!(e&1))return rr(t,It()),null;var n=Rg(t,e);if(t.tag!==0&&n===2){var r=Nw(t);r!==0&&(e=r,n=ox(t,r))}if(n===1)throw n=Ch,Ca(t,0),Zs(t,e),rr(t,It()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,aa(t,Xn,ss),rr(t,It()),null}function $E(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Vc=It()+500,Ly&&Uo())}}function Ua(t){lo!==null&&lo.tag===0&&!(Oe&6)&&yc();var e=Oe;Oe|=1;var n=jr.transition,r=ze;try{if(jr.transition=null,ze=1,t)return t()}finally{ze=r,jr.transition=n,Oe=e,!(Oe&6)&&Uo()}}function jE(){mr=ec.current,rt(ec)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gj(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(xE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vg();break;case 3:Oc(),rt(tr),rt(An),PE();break;case 5:AE(r);break;case 4:Oc();break;case 13:rt(dt);break;case 19:rt(dt);break;case 10:TE(r.type._context);break;case 22:case 23:jE()}n=n.return}if(Xt=t,Dt=t=Eo(t.current,null),hn=mr=e,jt=0,Ch=null,FE=$y=ja=0,Xn=Wd=null,_a!==null){for(e=0;e<_a.length;e++)if(n=_a[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_a=null}return t}function FM(t,e){do{var n=Dt;try{if(SE(),Ip.current=Ig,kg){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kg=!1}if($a=0,Qt=$t=pt=null,zd=!1,Th=0,VE.current=null,n===null||n.return===null){jt=1,Ch=e,Dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Gk(o);if(p!==null){p.flags&=-257,Kk(p,o,a,s,e),p.mode&1&&qk(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){qk(s,c,e),UE();break e}l=Error(G(426))}}else if(at&&a.mode&1){var v=Gk(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Kk(v,o,a,s,e),_E(Lc(l,a));break e}}s=l=Lc(l,a),jt!==4&&(jt=2),Wd===null?Wd=[s]:Wd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=xM(s,l,e);$k(s,b);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xo===null||!xo.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=_M(s,a,e);$k(s,C);break e}}s=s.return}while(s!==null)}jM(n)}catch(R){e=R,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function BM(){var t=Cg.current;return Cg.current=Ig,t===null?Ig:t}function UE(){(jt===0||jt===3||jt===2)&&(jt=4),Xt===null||!(ja&268435455)&&!($y&268435455)||Zs(Xt,hn)}function Rg(t,e){var n=Oe;Oe|=2;var r=BM();(Xt!==t||hn!==e)&&(ss=null,Ca(t,e));do try{jj();break}catch(i){FM(t,i)}while(!0);if(SE(),Oe=n,Cg.current=r,Dt!==null)throw Error(G(261));return Xt=null,hn=0,jt}function jj(){for(;Dt!==null;)$M(Dt)}function Uj(){for(;Dt!==null&&!f$();)$M(Dt)}function $M(t){var e=zM(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?jM(t):Dt=e,VE.current=null}function jM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Oj(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,Dt=null;return}}else if(n=Mj(n,e,mr),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);jt===0&&(jt=5)}function aa(t,e,n){var r=ze,i=jr.transition;try{jr.transition=null,ze=1,zj(t,e,n,r)}finally{jr.transition=i,ze=r}return null}function zj(t,e,n,r){do yc();while(lo!==null);if(Oe&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(E$(t,s),t===Xt&&(Dt=Xt=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rm||(Rm=!0,HM(hg,function(){return yc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var o=ze;ze=1;var a=Oe;Oe|=4,VE.current=null,Vj(t,n),OM(n,t),cj(Fw),mg=!!Vw,Fw=Vw=null,t.current=n,Fj(n),m$(),Oe=a,ze=o,jr.transition=s}else t.current=n;if(Rm&&(Rm=!1,lo=t,Pg=i),s=t.pendingLanes,s===0&&(xo=null),y$(n.stateNode),rr(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ag)throw Ag=!1,t=ix,ix=null,t;return Pg&1&&t.tag!==0&&yc(),s=t.pendingLanes,s&1?t===sx?qd++:(qd=0,sx=t):qd=0,Uo(),null}function yc(){if(lo!==null){var t=xD(Pg),e=jr.transition,n=ze;try{if(jr.transition=null,ze=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,Pg=0,Oe&6)throw Error(G(331));var i=Oe;for(Oe|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Hd(8,u,s)}var d=u.child;if(d!==null)d.return=u,te=d;else for(;te!==null;){u=te;var f=u.sibling,p=u.return;if(NM(u),u===c){te=null;break}if(f!==null){f.return=p,te=f;break}te=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hd(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,te=b;break e}te=s.return}}var w=t.current;for(te=w;te!==null;){o=te;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,te=E;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:By(9,a)}}catch(R){xt(a,a.return,R)}if(a===o){te=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,te=C;break e}te=a.return}}if(Oe=i,Uo(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Ry,t)}catch{}r=!0}return r}finally{ze=n,jr.transition=e}}return!1}function aI(t,e,n){e=Lc(n,e),e=xM(t,e,1),t=wo(t,e,1),e=$n(),t!==null&&(pf(t,1,e),rr(t,e))}function xt(t,e,n){if(t.tag===3)aI(t,t,n);else for(;e!==null;){if(e.tag===3){aI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xo===null||!xo.has(r))){t=Lc(n,t),t=_M(e,t,1),e=wo(e,t,1),t=$n(),e!==null&&(pf(e,1,t),rr(e,t));break}}e=e.return}}function Hj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(hn&n)===n&&(jt===4||jt===3&&(hn&130023424)===hn&&500>It()-BE?Ca(t,0):FE|=n),rr(t,e)}function UM(t,e){e===0&&(t.mode&1?(e=xm,xm<<=1,!(xm&130023424)&&(xm=4194304)):e=1);var n=$n();t=Es(t,e),t!==null&&(pf(t,e,n),rr(t,n))}function Wj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UM(t,n)}function qj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),UM(t,n)}var zM;zM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)Zn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zn=!1,Dj(t,e,n);Zn=!!(t.flags&131072)}else Zn=!1,at&&e.flags&1048576&&GD(e,xg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ap(t,e),t=e.pendingProps;var i=Nc(e,An.current);gc(e,n),i=NE(null,e,r,t,i,n);var s=DE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(s=!0,bg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IE(e),i.updater=Fy,e.stateNode=i,i._reactInternals=e,Gw(e,r,t,n),e=Yw(null,e,r,!0,s,n)):(e.tag=0,at&&s&&wE(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ap(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kj(r),t=ei(r,t),i){case 0:e=Qw(null,e,r,t,n);break e;case 1:e=Xk(null,e,r,t,n);break e;case 11:e=Qk(null,e,r,t,n);break e;case 14:e=Yk(null,e,r,ei(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Qw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Xk(t,e,r,i,n);case 3:e:{if(kM(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZD(t,e),Sg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lc(Error(G(423)),e),e=Jk(t,e,r,n,i);break e}else if(r!==i){i=Lc(Error(G(424)),e),e=Jk(t,e,r,n,i);break e}else for(pr=bo(e.stateNode.containerInfo.firstChild),br=e,at=!0,ii=null,n=XD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===i){e=Ss(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return eM(e),t===null&&Hw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bw(r,i)?o=null:s!==null&&Bw(r,s)&&(e.flags|=32),TM(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&Hw(e),null;case 13:return IM(t,e,n);case 4:return CE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Qk(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Xe(_g,r._currentValue),r._currentValue=o,s!==null)if(ui(s.value,o)){if(s.children===i.children&&!tr.current){e=Ss(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ww(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ww(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gc(e,n),i=Hr(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=ei(r,e.pendingProps),i=ei(r.type,i),Yk(t,e,r,i,n);case 15:return EM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ei(r,i),Ap(t,e),e.tag=1,nr(r)?(t=!0,bg(e)):t=!1,gc(e,n),wM(e,r,i),Gw(e,r,i,n),Yw(null,e,r,!0,t,n);case 19:return CM(t,e,n);case 22:return SM(t,e,n)}throw Error(G(156,e.tag))};function HM(t,e){return yD(t,e)}function Gj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(t,e,n,r){return new Gj(t,e,n,r)}function zE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kj(t){if(typeof t=="function")return zE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lE)return 11;if(t===cE)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=Fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Np(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hl:return Aa(n.children,i,s,e);case aE:o=8,i|=8;break;case yw:return t=Fr(12,n,e,i|2),t.elementType=yw,t.lanes=s,t;case vw:return t=Fr(13,n,e,i),t.elementType=vw,t.lanes=s,t;case bw:return t=Fr(19,n,e,i),t.elementType=bw,t.lanes=s,t;case eD:return jy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J5:o=10;break e;case Z5:o=9;break e;case lE:o=11;break e;case cE:o=14;break e;case Ys:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Fr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Aa(t,e,n,r){return t=Fr(7,t,r,e),t.lanes=n,t}function jy(t,e,n,r){return t=Fr(22,t,r,e),t.elementType=eD,t.lanes=n,t.stateNode={isHidden:!1},t}function Hv(t,e,n){return t=Fr(6,t,null,e),t.lanes=n,t}function Wv(t,e,n){return e=Fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tv(0),this.expirationTimes=Tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HE(t,e,n,r,i,s,o,a,l){return t=new Qj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},IE(s),t}function Yj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WM(t){if(!t)return Ro;t=t._reactInternals;e:{if(sl(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(nr(n))return WD(t,n,e)}return e}function qM(t,e,n,r,i,s,o,a,l){return t=HE(n,r,!0,t,i,s,o,a,l),t.context=WM(null),n=t.current,r=$n(),i=_o(n),s=gs(r,i),s.callback=e??null,wo(n,s,i),t.current.lanes=i,pf(t,i,r),rr(t,r),t}function Uy(t,e,n,r){var i=e.current,s=$n(),o=_o(i);return n=WM(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,o),t!==null&&(li(t,i,o,s),kp(t,i,o)),o}function Ng(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WE(t,e){lI(t,e),(t=t.alternate)&&lI(t,e)}var GM=typeof reportError=="function"?reportError:function(t){console.error(t)};function qE(t){this._internalRoot=t}zy.prototype.render=qE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Uy(t,e,null,null)};zy.prototype.unmount=qE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ua(function(){Uy(null,t,null,null)}),e[_s]=null}};function zy(t){this._internalRoot=t}zy.prototype.unstable_scheduleHydration=function(t){if(t){var e=SD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&kD(t)}};function GE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cI(){}function Xj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ng(o);s.call(c)}}var o=qM(e,r,t,0,null,!1,!1,"",cI);return t._reactRootContainer=o,t[_s]=o.current,wh(t.nodeType===8?t.parentNode:t),Ua(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ng(l);a.call(c)}}var l=HE(t,0,!1,null,null,!1,!1,"",cI);return t._reactRootContainer=l,t[_s]=l.current,wh(t.nodeType===8?t.parentNode:t),Ua(function(){Uy(e,l,n,r)}),l}function Wy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ng(o);a.call(l)}}Uy(e,o,t,i)}else o=Xj(n,e,t,i,r);return Ng(o)}_D=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pd(e.pendingLanes);n!==0&&(hE(e,n|1),rr(e,It()),!(Oe&6)&&(Vc=It()+500,Uo()))}break;case 13:Ua(function(){var r=Es(t,1);if(r!==null){var i=$n();li(r,t,1,i)}}),WE(t,1)}};fE=function(t){if(t.tag===13){var e=Es(t,134217728);if(e!==null){var n=$n();li(e,t,134217728,n)}WE(t,134217728)}};ED=function(t){if(t.tag===13){var e=_o(t),n=Es(t,e);if(n!==null){var r=$n();li(n,t,e,r)}WE(t,e)}};SD=function(){return ze};TD=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Aw=function(t,e,n){switch(e){case"input":if(_w(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oy(r);if(!i)throw Error(G(90));nD(r),_w(r,i)}}}break;case"textarea":iD(t,n);break;case"select":e=n.value,e!=null&&hc(t,!!n.multiple,e,!1)}};dD=$E;hD=Ua;var Jj={usingClientEntryPoint:!1,Events:[yf,Kl,Oy,cD,uD,$E]},Yu={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zj={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pD(t),t===null?null:t.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{Ry=Nm.inject(Zj),Ri=Nm}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GE(e))throw Error(G(200));return Yj(t,e,null,n)};kr.createRoot=function(t,e){if(!GE(t))throw Error(G(299));var n=!1,r="",i=GM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HE(t,1,!1,null,null,n,!1,r,i),t[_s]=e.current,wh(t.nodeType===8?t.parentNode:t),new qE(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=pD(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Ua(t)};kr.hydrate=function(t,e,n){if(!Hy(e))throw Error(G(200));return Wy(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!GE(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qM(e,null,t,1,n??null,i,!1,s,o),t[_s]=e.current,wh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zy(e)};kr.render=function(t,e,n){if(!Hy(e))throw Error(G(200));return Wy(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!Hy(t))throw Error(G(40));return t._reactRootContainer?(Ua(function(){Wy(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};kr.unstable_batchedUpdates=$E;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hy(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Wy(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function KM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KM)}catch(t){console.error(t)}}KM(),K5.exports=kr;var QM=K5.exports,uI=QM;pw.createRoot=uI.createRoot,pw.hydrateRoot=uI.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}var co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(co||(co={}));const dI="popstate";function e7(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lx("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dg(i)}return n7(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t7(){return Math.random().toString(36).substr(2,8)}function hI(t,e){return{usr:t.state,key:t.key,idx:e}}function lx(t,e,n,r){return n===void 0&&(n=null),Ah({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lu(e):e,{state:n,key:e&&e.key||r||t7()})}function Dg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function n7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=co.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ah({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=co.Pop;let v=u(),b=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:b})}function f(v,b){a=co.Push;let w=lx(y.location,v,b);c=u()+1;let E=hI(w,c),C=y.createHref(w);try{o.pushState(E,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function p(v,b){a=co.Replace;let w=lx(y.location,v,b);c=u();let E=hI(w,c),C=y.createHref(w);o.replaceState(E,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Dg(v);return w=w.replace(/ $/,"%20"),Ot(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dI,d),l=v,()=>{i.removeEventListener(dI,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var fI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fI||(fI={}));function r7(t,e,n){return n===void 0&&(n="/"),i7(t,e,n)}function i7(t,e,n,r){let i=typeof e=="string"?lu(e):e,s=KE(i.pathname||"/",n);if(s==null)return null;let o=XM(t);s7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=y7(s);a=m7(o[l],c)}return a}function XM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=So([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XM(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:h7(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JM(s.path))i(s,o,l)}),e}function JM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o7=/^:[\w-]+$/,a7=3,l7=2,c7=1,u7=10,d7=-2,mI=t=>t==="*";function h7(t,e){let n=t.split("/"),r=n.length;return n.some(mI)&&(r+=d7),e&&(r+=l7),n.filter(i=>!mI(i)).reduce((i,s)=>i+(o7.test(s)?a7:s===""?c7:u7),r)}function f7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function m7(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=p7({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:So([s,d.pathname]),pathnameBase:x7(So([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=So([s,d.pathnameBase]))}return o}function p7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function g7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function y7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lu(t):t;return{pathname:n?n.startsWith("/")?n:b7(n,e):e,search:_7(r),hash:E7(i)}}function b7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZM(t,e){let n=w7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lu(t):(i=Ah({},t),Ot(!i.pathname||!i.pathname.includes("?"),qv("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),qv("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),qv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=v7(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const So=t=>t.join("/").replace(/\/\/+/g,"/"),x7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tO=["post","put","patch","delete"];new Set(tO);const T7=["get",...tO];new Set(T7);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}const QE=x.createContext(null),k7=x.createContext(null),ol=x.createContext(null),qy=x.createContext(null),zo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),nO=x.createContext(null);function I7(t,e){let{relative:n}=e===void 0?{}:e;bf()||Ot(!1);let{basename:r,navigator:i}=x.useContext(ol),{hash:s,pathname:o,search:a}=iO(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:So([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bf(){return x.useContext(qy)!=null}function al(){return bf()||Ot(!1),x.useContext(qy).location}function rO(t){x.useContext(ol).static||x.useLayoutEffect(t)}function Gy(){let{isDataRoute:t}=x.useContext(zo);return t?j7():C7()}function C7(){bf()||Ot(!1);let t=x.useContext(QE),{basename:e,future:n,navigator:r}=x.useContext(ol),{matches:i}=x.useContext(zo),{pathname:s}=al(),o=JSON.stringify(ZM(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return rO(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=eO(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:So([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function A7(){let{matches:t}=x.useContext(zo),e=t[t.length-1];return e?e.params:{}}function iO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(ol),{matches:i}=x.useContext(zo),{pathname:s}=al(),o=JSON.stringify(ZM(i,r.v7_relativeSplatPath));return x.useMemo(()=>eO(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function P7(t,e){return R7(t,e)}function R7(t,e,n,r){bf()||Ot(!1);let{navigator:i}=x.useContext(ol),{matches:s}=x.useContext(zo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=al(),u;if(e){var d;let v=typeof e=="string"?lu(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Ot(!1),u=v}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=r7(t,{pathname:p}),y=L7(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:So([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:So([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&y?x.createElement(qy.Provider,{value:{location:Ph({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:co.Pop}},y):y}function N7(){let t=$7(),e=S7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const D7=x.createElement(N7,null);class M7 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(zo.Provider,{value:this.props.routeContext},x.createElement(nO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O7(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(QE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(zo.Provider,{value:e},r)}function L7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ot(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,g=!1,y=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||D7,l&&(c<0&&f===0?(g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),w=()=>{let E;return p?E=y:g?E=v:d.route.Component?E=x.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,x.createElement(O7,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(M7,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var sO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sO||{}),Mg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mg||{});function V7(t){let e=x.useContext(QE);return e||Ot(!1),e}function F7(t){let e=x.useContext(k7);return e||Ot(!1),e}function B7(t){let e=x.useContext(zo);return e||Ot(!1),e}function oO(t){let e=B7(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function $7(){var t;let e=x.useContext(nO),n=F7(Mg.UseRouteError),r=oO(Mg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j7(){let{router:t}=V7(sO.UseNavigateStable),e=oO(Mg.UseNavigateStable),n=x.useRef(!1);return rO(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ph({fromRouteId:e},s)))},[t,e])}const pI={};function U7(t,e){pI[e]||(pI[e]=!0,console.warn(e))}const gI=(t,e,n)=>U7(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function z7(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&gI("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&gI("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function bt(t){Ot(!1)}function H7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=co.Pop,navigator:s,static:o=!1,future:a}=t;bf()&&Ot(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:Ph({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=lu(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,y=x.useMemo(()=>{let v=KE(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:g},navigationType:i}},[l,u,d,f,p,g,i]);return y==null?null:x.createElement(ol.Provider,{value:c},x.createElement(qy.Provider,{children:n,value:y}))}function W7(t){let{children:e,location:n}=t;return P7(cx(e),n)}new Promise(()=>{});function cx(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,cx(r.props.children,s));return}r.type!==bt&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cx(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}function q7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K7(t,e){return t.button===0&&(!e||e==="_self")&&!G7(t)}const Q7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y7="6";try{window.__reactRouterVersion=Y7}catch{}const X7="startTransition",yI=Pc[X7];function J7(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=e7({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&yI?yI(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>z7(r),[r]),x.createElement(H7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Z7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=q7(e,Q7),{basename:p}=x.useContext(ol),g,y=!1;if(typeof c=="string"&&eU.test(c)&&(g=c,Z7))try{let E=new URL(window.location.href),C=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=KE(C.pathname,p);C.origin===E.origin&&R!=null?c=R+C.search+C.hash:y=!0}catch{}let v=I7(c,{relative:i}),b=tU(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(E){r&&r(E),E.defaultPrevented||b(E)}return x.createElement("a",ux({},f,{href:g||v,onClick:y||s?r:w,ref:n,target:l}))});var vI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vI||(vI={}));var bI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bI||(bI={}));function tU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Gy(),c=al(),u=iO(t,{relative:o});return x.useCallback(d=>{if(K7(d,n)){d.preventDefault();let f=r!==void 0?r:Dg(c)===Dg(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var wI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new rU;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iU=function(t){const e=aO(t);return lO.encodeByteArray(e,!0)},Og=function(t){return iU(t).replace(/\./g,"")},cO=function(t){try{return lO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>sU().__FIREBASE_DEFAULTS__,aU=()=>{if(typeof process>"u"||typeof wI>"u")return;const t=wI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cO(t[1]);return e&&JSON.parse(e)},Ky=()=>{try{return oU()||aU()||lU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uO=t=>{var e,n;return(n=(e=Ky())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cU=t=>{const e=uO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dO=()=>{var t;return(t=Ky())===null||t===void 0?void 0:t.config},hO=t=>{var e;return(e=Ky())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Og(JSON.stringify(n)),Og(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function fU(){var t;const e=(t=Ky())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yU(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fO(){return!fU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mO(){try{return typeof indexedDB=="object"}catch{return!1}}function vU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bU,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zi(i,a,r)}}function wU(t,e){return t.replace(xU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xU=/\{\$([^}]+)}/g;function _U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xI(s)&&xI(o)){if(!Rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EU(t,e){const n=new SU(t,e);return n.subscribe.bind(n)}class SU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gv),i.error===void 0&&(i.error=Gv),i.complete===void 0&&(i.complete=Gv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class No{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CU(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IU(t){return t===la?void 0:t}function CU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const PU={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},RU=ke.INFO,NU={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},DU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YE{constructor(e){this.name=e,this._logLevel=RU,this._logHandler=DU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const MU=(t,e)=>e.some(n=>t instanceof n);let _I,EI;function OU(){return _I||(_I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LU(){return EI||(EI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pO=new WeakMap,dx=new WeakMap,gO=new WeakMap,Kv=new WeakMap,XE=new WeakMap;function VU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(To(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),XE.set(e,t),e}function FU(t){if(dx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dx.set(t,e)}let hx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BU(t){hx=t(hx)}function $U(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qv(this),e,...n);return gO.set(r,e.sort?e.sort():[e]),To(r)}:LU().includes(t)?function(...e){return t.apply(Qv(this),e),To(pO.get(this))}:function(...e){return To(t.apply(Qv(this),e))}}function jU(t){return typeof t=="function"?$U(t):(t instanceof IDBTransaction&&FU(t),MU(t,OU())?new Proxy(t,hx):t)}function To(t){if(t instanceof IDBRequest)return VU(t);if(Kv.has(t))return Kv.get(t);const e=jU(t);return e!==t&&(Kv.set(t,e),XE.set(e,t)),e}const Qv=t=>XE.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=To(o);return r&&o.addEventListener("upgradeneeded",l=>{r(To(o.result),l.oldVersion,l.newVersion,To(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zU=["get","getKey","getAll","getAllKeys","count"],HU=["put","add","delete","clear"],Yv=new Map;function SI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yv.get(e))return Yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Yv.set(e,s),s}BU(t=>({...t,get:(e,n,r)=>SI(e,n)||t.get(e,n,r),has:(e,n)=>!!SI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fx="@firebase/app",TI="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new YE("@firebase/app"),GU="@firebase/app-compat",KU="@firebase/analytics-compat",QU="@firebase/analytics",YU="@firebase/app-check-compat",XU="@firebase/app-check",JU="@firebase/auth",ZU="@firebase/auth-compat",ez="@firebase/database",tz="@firebase/data-connect",nz="@firebase/database-compat",rz="@firebase/functions",iz="@firebase/functions-compat",sz="@firebase/installations",oz="@firebase/installations-compat",az="@firebase/messaging",lz="@firebase/messaging-compat",cz="@firebase/performance",uz="@firebase/performance-compat",dz="@firebase/remote-config",hz="@firebase/remote-config-compat",fz="@firebase/storage",mz="@firebase/storage-compat",pz="@firebase/firestore",gz="@firebase/vertexai-preview",yz="@firebase/firestore-compat",vz="firebase",bz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="[DEFAULT]",wz={[fx]:"fire-core",[GU]:"fire-core-compat",[QU]:"fire-analytics",[KU]:"fire-analytics-compat",[XU]:"fire-app-check",[YU]:"fire-app-check-compat",[JU]:"fire-auth",[ZU]:"fire-auth-compat",[ez]:"fire-rtdb",[tz]:"fire-data-connect",[nz]:"fire-rtdb-compat",[rz]:"fire-fn",[iz]:"fire-fn-compat",[sz]:"fire-iid",[oz]:"fire-iid-compat",[az]:"fire-fcm",[lz]:"fire-fcm-compat",[cz]:"fire-perf",[uz]:"fire-perf-compat",[dz]:"fire-rc",[hz]:"fire-rc-compat",[fz]:"fire-gcs",[mz]:"fire-gcs-compat",[pz]:"fire-fst",[yz]:"fire-fst-compat",[gz]:"fire-vertex","fire-js":"fire-js",[vz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new Map,xz=new Map,px=new Map;function kI(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(px.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;px.set(e,t);for(const n of Lg.values())kI(n,t);for(const n of xz.values())kI(n,t);return!0}function Qy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ki(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new wf("app","Firebase",_z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=bz;function yO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(n||(n=dO()),!n)throw ko.create("no-options");const s=Lg.get(i);if(s){if(Rh(n,s.options)&&Rh(r,s.config))return s;throw ko.create("duplicate-app",{appName:i})}const o=new AU(i);for(const l of px.values())o.addComponent(l);const a=new Ez(n,r,o);return Lg.set(i,a),a}function vO(t=mx){const e=Lg.get(t);if(!e&&t===mx&&dO())return yO();if(!e)throw ko.create("no-app",{appName:t});return e}function Di(t,e,n){var r;let i=(r=wz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(a.join(" "));return}za(new No(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="firebase-heartbeat-database",Tz=1,Nh="firebase-heartbeat-store";let Xv=null;function bO(){return Xv||(Xv=UU(Sz,Tz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ko.create("idb-open",{originalErrorMessage:t.message})})),Xv}async function kz(t){try{const n=(await bO()).transaction(Nh),r=await n.objectStore(Nh).get(wO(t));return await n.done,r}catch(e){if(e instanceof zi)Ts.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function II(t,e){try{const r=(await bO()).transaction(Nh,"readwrite");await r.objectStore(Nh).put(e,wO(t)),await r.done}catch(n){if(n instanceof zi)Ts.warn(n.message);else{const r=ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(r.message)}}}function wO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=1024,Cz=30*24*60*60*1e3;class Az{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Cz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CI(),{heartbeatsToSend:r,unsentEntries:i}=Pz(this._heartbeatsCache.heartbeats),s=Og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ts.warn(n),""}}}function CI(){return new Date().toISOString().substring(0,10)}function Pz(t,e=Iz){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mO()?vU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return II(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return II(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AI(t){return Og(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){za(new No("platform-logger",e=>new WU(e),"PRIVATE")),za(new No("heartbeat",e=>new Az(e),"PRIVATE")),Di(fx,TI,t),Di(fx,TI,"esm2017"),Di("fire-js","")}Nz("");function JE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dz=xO,_O=new wf("auth","Firebase",xO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new YE("@firebase/auth");function Mz(t,...e){Vg.logLevel<=ke.WARN&&Vg.warn(`Auth (${ll}): ${t}`,...e)}function Dp(t,...e){Vg.logLevel<=ke.ERROR&&Vg.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw ZE(t,...e)}function Mi(t,...e){return ZE(t,...e)}function EO(t,e,n){const r=Object.assign(Object.assign({},Dz()),{[e]:n});return new wf("auth","Firebase",r).create(e,{appName:t.name})}function ys(t){return EO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _O.create(t,...e)}function fe(t,e,...n){if(!t)throw ZE(e,...n)}function us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dp(e),new Error(e)}function ks(t,e){t||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Oz(){return PI()==="http:"||PI()==="https:"}function PI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oz()||pU()||"connection"in navigator)?navigator.onLine:!0}function Vz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=hU()||gU()}get(){return Lz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new _f(3e4,6e4);function Ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return TO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return mU()||(c.referrerPolicy="no-referrer"),SO.fetch()(kO(t,t.config.apiHost,n,a),c)})}async function TO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fz),e);try{const i=new jz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dm(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EO(t,u,c);di(t,u)}}catch(i){if(i instanceof zi)throw i;di(t,"network-request-failed",{message:String(i)})}}async function Ef(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&di(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e1(t.config,i):`${t.config.apiScheme}://${i}`}function $z(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),Bz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mi(t,e,r);return i.customData._tokenResponse=n,i}function RI(t){return t!==void 0&&t.enterprise!==void 0}class Uz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $z(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function zz(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function IO(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wz(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=t1(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gd(Jv(i.auth_time)),issuedAtTime:Gd(Jv(i.iat)),expirationTime:Gd(Jv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jv(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=cO(n);return i?JSON.parse(i):(Dp("Failed to decode base64 JWT payload"),null)}catch(i){return Dp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NI(t){const e=t1(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&qz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fc(t,IO(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CO(s.providerUserInfo):[],a=Qz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Kz(t){const e=Ze(t);await Fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CO(t){return t.map(e=>{var{providerId:n}=e,r=JE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e){const n=await TO(t,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xz(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=NI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Yz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vc;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=JE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wz(this,e)}reload(){return Kz(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await Fc(this,Hz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:R,providerData:P,stsTokenManager:I}=n;fe(E&&I,e,"internal-error");const k=vc.fromJSON(this.name,I);fe(typeof E=="string",e,"internal-error"),$s(d,e.name),$s(f,e.name),fe(typeof C=="boolean",e,"internal-error"),fe(typeof R=="boolean",e,"internal-error"),$s(p,e.name),$s(g,e.name),$s(y,e.name),$s(v,e.name),$s(b,e.name),$s(w,e.name);const A=new ds({uid:E,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:R,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:k,createdAt:b,lastLoginAt:w});return P&&Array.isArray(P)&&(A.providerData=P.map(S=>Object.assign({},S))),v&&(A._redirectEventId=v),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new vc;i.updateFromServerResponse(n);const s=new ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new vc;a.updateFromIdToken(r);const l=new ds({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;function hs(t){ks(t instanceof Function,"Expected a class definition");let e=DI.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AO.type="NONE";const MI=AO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e,n){return`firebase:${t}:${e}:${n}`}class bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bc(hs(MI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||hs(MI);const o=Mp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ds._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new bc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OO(e))return"Blackberry";if(LO(e))return"Webos";if(RO(e))return"Safari";if((e.includes("chrome/")||NO(e))&&!e.includes("edge/"))return"Chrome";if(MO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PO(t=zt()){return/firefox\//i.test(t)}function RO(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NO(t=zt()){return/crios\//i.test(t)}function DO(t=zt()){return/iemobile/i.test(t)}function MO(t=zt()){return/android/i.test(t)}function OO(t=zt()){return/blackberry/i.test(t)}function LO(t=zt()){return/webos/i.test(t)}function n1(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jz(t=zt()){var e;return n1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zz(){return yU()&&document.documentMode===10}function VO(t=zt()){return n1(t)||MO(t)||LO(t)||OO(t)||/windows phone/i.test(t)||DO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e=[]){let n;switch(t){case"Browser":n=OI(zt());break;case"Worker":n=`${OI(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=6;class rH{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LI(this),this.idTokenSubscription=new LI(this),this.beforeStateQueue=new eH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_O,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await IO(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ki(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(ys(this));const n=e?Ze(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tH(this),n=new rH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cl(t){return Ze(t)}class LI{constructor(e){this.auth=e,this.observer=null,this.addObserver=EU(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sH(t){Yy=t}function BO(t){return Yy.loadJS(t)}function oH(){return Yy.recaptchaEnterpriseScript}function aH(){return Yy.gapiScript}function lH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cH="recaptcha-enterprise",uH="NO_RECAPTCHA";class dH{constructor(e){this.type=cH,this.auth=cl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{zz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Uz(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;RI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oH();l.length!==0&&(l+=a),BO(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function VI(t,e,n,r=!1){const i=new dH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await VI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await VI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t,e){const n=Qy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rh(s,e??{}))return i;di(i,"already-initialized")}return n.initialize({options:e})}function fH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mH(t,e,n){const r=cl(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$O(e),{host:o,port:a}=pH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),gH()}function $O(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pH(t){const e=$O(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:FI(o)}}}function FI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function yH(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(t,e){return Ef(t,"POST","/v1/accounts:signInWithPassword",Ps(t,e))}async function bH(t,e){return Hi(t,"POST","/v1/accounts:sendOobCode",Ps(t,e))}async function wH(t,e){return bH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}async function _H(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends r1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vx(e,n,"signInWithPassword",vH);case"emailLink":return xH(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vx(e,r,"signUpPassword",yH);case"emailLink":return _H(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e){return Ef(t,"POST","/v1/accounts:signInWithIdp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="http://localhost";class Ha extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=JE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ha(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wc(e,n)}buildRequest(){const e={requestUri:EH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TH(t){const e=yd(vd(t)).link,n=e?yd(vd(e)).deep_link_id:null,r=yd(vd(t)).deep_link_id;return(r?yd(vd(r)).link:null)||r||n||e||t}class i1{constructor(e){var n,r,i,s,o,a;const l=yd(vd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=SH((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TH(e);try{return new i1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.providerId=cu.PROVIDER_ID}static credential(e,n){return Dh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i1.parseLink(n);return fe(r,"argument-error"),Dh._fromEmailAndCode(e,r.code,r.tenantId)}}cu.PROVIDER_ID="password";cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends jO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Sf{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return to.credential(n,r)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Sf{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Sf{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kH(t,e){return Ef(t,"POST","/v1/accounts:signUp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ds._fromIdTokenResponse(e,r,i),o=BI(r);return new Wa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BI(r);return new Wa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bg(e,n,r,i)}}function UO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bg._fromErrorAndOperation(t,s,e,r):s})}async function IH(t,e,n=!1){const r=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(t,e,n=!1){const{auth:r}=t;if(ki(r.app))return Promise.reject(ys(r));const i="reauthenticate";try{const s=await Fc(t,UO(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=t1(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),Wa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e,n=!1){if(ki(t.app))return Promise.reject(ys(t));const r="signIn",i=await UO(t,r,e),s=await Wa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AH(t,e){return zO(cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t){const e=cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PH(t,e,n){if(ki(t.app))return Promise.reject(ys(t));const r=cl(t),o=await vx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&HO(t),l}),a=await Wa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function RH(t,e,n){return ki(t.app)?Promise.reject(ys(t)):AH(Ze(t),cu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HO(t),r})}async function bx(t,e){const n=Ze(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await wH(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e){return Hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ze(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fc(r,NH(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function DH(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function MH(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function OH(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function Mm(t){return Ze(t).signOut()}const $g="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($g,"1"),this.storage.removeItem($g),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=1e3,VH=10;class qO extends WO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Zz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qO.type="LOCAL";const FH=qO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends WO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GO.type="SESSION";const KO=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await BH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=s1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function jH(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function UH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HH(){return QO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebaseLocalStorageDb",WH=1,jg="firebaseLocalStorage",XO="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jy(t,e){return t.transaction([jg],e?"readwrite":"readonly").objectStore(jg)}function qH(){const t=indexedDB.deleteDatabase(YO);return new Tf(t).toPromise()}function wx(){const t=indexedDB.open(YO,WH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jg,{keyPath:XO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jg)?e(r):(r.close(),await qH(),e(await wx()))})})}async function $I(t,e,n){const r=Jy(t,!0).put({[XO]:e,value:n});return new Tf(r).toPromise()}async function GH(t,e){const n=Jy(t,!1).get(e),r=await new Tf(n).toPromise();return r===void 0?null:r.value}function jI(t,e){const n=Jy(t,!0).delete(e);return new Tf(n).toPromise()}const KH=800,QH=3;class JO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xy._getInstance(HH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UH(),!this.activeServiceWorker)return;this.sender=new $H(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wx();return await $I(e,$g,"1"),await jI(e,$g),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$I(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jy(i,!1).getAll();return new Tf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JO.type="LOCAL";const YH=JO;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t,e){return e?hs(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JH(t){return zO(t.auth,new o1(t),t.bypassAuthState)}function ZH(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),CH(n,new o1(t),t.bypassAuthState)}async function eW(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),IH(n,new o1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JH;case"linkViaPopup":case"linkViaRedirect":return eW;case"reauthViaPopup":case"reauthViaRedirect":return ZH;default:di(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=new _f(2e3,1e4);class tc extends ZO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=s1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tW.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW="pendingRedirect",Op=new Map;class rW extends ZO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await iW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iW(t,e){const n=aW(e),r=oW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sW(t,e){Op.set(t._key(),e)}function oW(t){return hs(t._redirectPersistence)}function aW(t){return Mp(nW,t.config.apiKey,t.name)}async function lW(t,e,n=!1){if(ki(t.app))return Promise.reject(ys(t));const r=cl(t),i=XH(r,e),o=await new rW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=10*60*1e3;class uW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!e4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cW&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(e))}saveEventToCache(e){this.cachedEventUids.add(UI(e)),this.lastProcessedEventTime=Date.now()}}function UI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function e4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mW=/^https?/;async function pW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hW(t);for(const n of e)try{if(gW(n))return}catch{}di(t,"unauthorized-domain")}function gW(t){const e=gx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mW.test(n))return!1;if(fW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new _f(3e4,6e4);function zI(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vW(t){return new Promise((e,n)=>{var r,i,s;function o(){zI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zI(),n(Mi(t,"network-request-failed"))},timeout:yW.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Oi().gapi)===null||s===void 0)&&s.load)o();else{const a=lH("iframefcb");return Oi()[a]=()=>{gapi.load?o():n(Mi(t,"network-request-failed"))},BO(`${aH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function bW(t){return Lp=Lp||vW(t),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new _f(5e3,15e3),xW="__/auth/iframe",_W="emulator/auth/iframe",EW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TW(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e1(e,_W):`https://${t.config.authDomain}/${xW}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=SW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xf(r).slice(1)}`}async function kW(t){const e=await bW(t),n=Oi().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:TW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mi(t,"network-request-failed"),a=Oi().setTimeout(()=>{s(o)},wW.get());function l(){Oi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CW=500,AW=600,PW="_blank",RW="http://localhost";class HI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NW(t,e,n,r=CW,i=AW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IW),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zt().toLowerCase();n&&(a=NO(c)?PW:n),PO(c)&&(e=e||RW,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Jz(c)&&a!=="_self")return DW(e||"",a),new HI(null);const d=window.open(e||"",a,u);fe(d,t,"popup-blocked");try{d.focus()}catch{}return new HI(d)}function DW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="__/auth/handler",OW="emulator/auth/handler",LW=encodeURIComponent("fac");async function WI(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof jO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_U(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Sf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${LW}=${encodeURIComponent(l)}`:"";return`${VW(t)}?${xf(a).slice(1)}${c}`}function VW({config:t}){return t.emulator?e1(t,OW):`https://${t.authDomain}/${MW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="webStorageSupport";class FW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KO,this._completeRedirectFn=lW,this._overrideRedirectResult=sW}async _openPopup(e,n,r,i){var s;ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await WI(e,n,r,gx(),i);return NW(e,o,s1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await WI(e,n,r,gx(),i);return jH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kW(e),r=new uW(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eb,{type:eb},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[eb];o!==void 0&&n(!!o),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VO()||RO()||n1()}}const BW=FW;var qI="@firebase/auth",GI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UW(t){za(new No("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FO(t)},c=new iH(r,i,s,l);return fH(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),za(new No("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(r=>new $W(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(qI,GI,jW(t)),Di(qI,GI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=5*60,HW=hO("authIdTokenMaxAge")||zW;let KI=null;const WW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HW)return;const i=n==null?void 0:n.token;KI!==i&&(KI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qW(t=vO()){const e=Qy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hH(t,{popupRedirectResolver:BW,persistence:[YH,FH,KO]}),r=hO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=WW(s.toString());MH(n,o,()=>o(n.currentUser)),DH(n,a=>o(a))}}const i=uO("auth");return i&&mH(n,`http://${i}`),n}function GW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UW("Browser");var QI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,t4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,k){function A(){}A.prototype=k.prototype,I.D=k.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(S,N,O){for(var M=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)M[ne-2]=arguments[ne];return k.prototype[N].apply(S,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,k,A){A||(A=0);var S=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)S[N]=k.charCodeAt(A++)|k.charCodeAt(A++)<<8|k.charCodeAt(A++)<<16|k.charCodeAt(A++)<<24;else for(N=0;16>N;++N)S[N]=k[A++]|k[A++]<<8|k[A++]<<16|k[A++]<<24;k=I.g[0],A=I.g[1],N=I.g[2];var O=I.g[3],M=k+(O^A&(N^O))+S[0]+3614090360&4294967295;k=A+(M<<7&4294967295|M>>>25),M=O+(N^k&(A^N))+S[1]+3905402710&4294967295,O=k+(M<<12&4294967295|M>>>20),M=N+(A^O&(k^A))+S[2]+606105819&4294967295,N=O+(M<<17&4294967295|M>>>15),M=A+(k^N&(O^k))+S[3]+3250441966&4294967295,A=N+(M<<22&4294967295|M>>>10),M=k+(O^A&(N^O))+S[4]+4118548399&4294967295,k=A+(M<<7&4294967295|M>>>25),M=O+(N^k&(A^N))+S[5]+1200080426&4294967295,O=k+(M<<12&4294967295|M>>>20),M=N+(A^O&(k^A))+S[6]+2821735955&4294967295,N=O+(M<<17&4294967295|M>>>15),M=A+(k^N&(O^k))+S[7]+4249261313&4294967295,A=N+(M<<22&4294967295|M>>>10),M=k+(O^A&(N^O))+S[8]+1770035416&4294967295,k=A+(M<<7&4294967295|M>>>25),M=O+(N^k&(A^N))+S[9]+2336552879&4294967295,O=k+(M<<12&4294967295|M>>>20),M=N+(A^O&(k^A))+S[10]+4294925233&4294967295,N=O+(M<<17&4294967295|M>>>15),M=A+(k^N&(O^k))+S[11]+2304563134&4294967295,A=N+(M<<22&4294967295|M>>>10),M=k+(O^A&(N^O))+S[12]+1804603682&4294967295,k=A+(M<<7&4294967295|M>>>25),M=O+(N^k&(A^N))+S[13]+4254626195&4294967295,O=k+(M<<12&4294967295|M>>>20),M=N+(A^O&(k^A))+S[14]+2792965006&4294967295,N=O+(M<<17&4294967295|M>>>15),M=A+(k^N&(O^k))+S[15]+1236535329&4294967295,A=N+(M<<22&4294967295|M>>>10),M=k+(N^O&(A^N))+S[1]+4129170786&4294967295,k=A+(M<<5&4294967295|M>>>27),M=O+(A^N&(k^A))+S[6]+3225465664&4294967295,O=k+(M<<9&4294967295|M>>>23),M=N+(k^A&(O^k))+S[11]+643717713&4294967295,N=O+(M<<14&4294967295|M>>>18),M=A+(O^k&(N^O))+S[0]+3921069994&4294967295,A=N+(M<<20&4294967295|M>>>12),M=k+(N^O&(A^N))+S[5]+3593408605&4294967295,k=A+(M<<5&4294967295|M>>>27),M=O+(A^N&(k^A))+S[10]+38016083&4294967295,O=k+(M<<9&4294967295|M>>>23),M=N+(k^A&(O^k))+S[15]+3634488961&4294967295,N=O+(M<<14&4294967295|M>>>18),M=A+(O^k&(N^O))+S[4]+3889429448&4294967295,A=N+(M<<20&4294967295|M>>>12),M=k+(N^O&(A^N))+S[9]+568446438&4294967295,k=A+(M<<5&4294967295|M>>>27),M=O+(A^N&(k^A))+S[14]+3275163606&4294967295,O=k+(M<<9&4294967295|M>>>23),M=N+(k^A&(O^k))+S[3]+4107603335&4294967295,N=O+(M<<14&4294967295|M>>>18),M=A+(O^k&(N^O))+S[8]+1163531501&4294967295,A=N+(M<<20&4294967295|M>>>12),M=k+(N^O&(A^N))+S[13]+2850285829&4294967295,k=A+(M<<5&4294967295|M>>>27),M=O+(A^N&(k^A))+S[2]+4243563512&4294967295,O=k+(M<<9&4294967295|M>>>23),M=N+(k^A&(O^k))+S[7]+1735328473&4294967295,N=O+(M<<14&4294967295|M>>>18),M=A+(O^k&(N^O))+S[12]+2368359562&4294967295,A=N+(M<<20&4294967295|M>>>12),M=k+(A^N^O)+S[5]+4294588738&4294967295,k=A+(M<<4&4294967295|M>>>28),M=O+(k^A^N)+S[8]+2272392833&4294967295,O=k+(M<<11&4294967295|M>>>21),M=N+(O^k^A)+S[11]+1839030562&4294967295,N=O+(M<<16&4294967295|M>>>16),M=A+(N^O^k)+S[14]+4259657740&4294967295,A=N+(M<<23&4294967295|M>>>9),M=k+(A^N^O)+S[1]+2763975236&4294967295,k=A+(M<<4&4294967295|M>>>28),M=O+(k^A^N)+S[4]+1272893353&4294967295,O=k+(M<<11&4294967295|M>>>21),M=N+(O^k^A)+S[7]+4139469664&4294967295,N=O+(M<<16&4294967295|M>>>16),M=A+(N^O^k)+S[10]+3200236656&4294967295,A=N+(M<<23&4294967295|M>>>9),M=k+(A^N^O)+S[13]+681279174&4294967295,k=A+(M<<4&4294967295|M>>>28),M=O+(k^A^N)+S[0]+3936430074&4294967295,O=k+(M<<11&4294967295|M>>>21),M=N+(O^k^A)+S[3]+3572445317&4294967295,N=O+(M<<16&4294967295|M>>>16),M=A+(N^O^k)+S[6]+76029189&4294967295,A=N+(M<<23&4294967295|M>>>9),M=k+(A^N^O)+S[9]+3654602809&4294967295,k=A+(M<<4&4294967295|M>>>28),M=O+(k^A^N)+S[12]+3873151461&4294967295,O=k+(M<<11&4294967295|M>>>21),M=N+(O^k^A)+S[15]+530742520&4294967295,N=O+(M<<16&4294967295|M>>>16),M=A+(N^O^k)+S[2]+3299628645&4294967295,A=N+(M<<23&4294967295|M>>>9),M=k+(N^(A|~O))+S[0]+4096336452&4294967295,k=A+(M<<6&4294967295|M>>>26),M=O+(A^(k|~N))+S[7]+1126891415&4294967295,O=k+(M<<10&4294967295|M>>>22),M=N+(k^(O|~A))+S[14]+2878612391&4294967295,N=O+(M<<15&4294967295|M>>>17),M=A+(O^(N|~k))+S[5]+4237533241&4294967295,A=N+(M<<21&4294967295|M>>>11),M=k+(N^(A|~O))+S[12]+1700485571&4294967295,k=A+(M<<6&4294967295|M>>>26),M=O+(A^(k|~N))+S[3]+2399980690&4294967295,O=k+(M<<10&4294967295|M>>>22),M=N+(k^(O|~A))+S[10]+4293915773&4294967295,N=O+(M<<15&4294967295|M>>>17),M=A+(O^(N|~k))+S[1]+2240044497&4294967295,A=N+(M<<21&4294967295|M>>>11),M=k+(N^(A|~O))+S[8]+1873313359&4294967295,k=A+(M<<6&4294967295|M>>>26),M=O+(A^(k|~N))+S[15]+4264355552&4294967295,O=k+(M<<10&4294967295|M>>>22),M=N+(k^(O|~A))+S[6]+2734768916&4294967295,N=O+(M<<15&4294967295|M>>>17),M=A+(O^(N|~k))+S[13]+1309151649&4294967295,A=N+(M<<21&4294967295|M>>>11),M=k+(N^(A|~O))+S[4]+4149444226&4294967295,k=A+(M<<6&4294967295|M>>>26),M=O+(A^(k|~N))+S[11]+3174756917&4294967295,O=k+(M<<10&4294967295|M>>>22),M=N+(k^(O|~A))+S[2]+718787259&4294967295,N=O+(M<<15&4294967295|M>>>17),M=A+(O^(N|~k))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,k){k===void 0&&(k=I.length);for(var A=k-this.blockSize,S=this.B,N=this.h,O=0;O<k;){if(N==0)for(;O<=A;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<k;)if(S[N++]=I.charCodeAt(O++),N==this.blockSize){i(this,S),N=0;break}}else for(;O<k;)if(S[N++]=I[O++],N==this.blockSize){i(this,S),N=0;break}}this.h=N,this.o+=k},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;var A=8*this.o;for(k=I.length-8;k<I.length;++k)I[k]=A&255,A/=256;for(this.u(I),I=Array(16),k=A=0;4>k;++k)for(var S=0;32>S;S+=8)I[A++]=this.g[k]>>>S&255;return I};function s(I,k){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=k(I)}function o(I,k){this.h=k;for(var A=[],S=!0,N=I.length-1;0<=N;N--){var O=I[N]|0;S&&O==k||(A[N]=O,S=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(k){return new o([k|0],0>k?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return v(c(-I));for(var k=[],A=1,S=0;I>=A;S++)k[S]=I/A|0,A*=4294967296;return new o(k,0)}function u(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return v(u(I.substring(1),k));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(k,8)),S=d,N=0;N<I.length;N+=8){var O=Math.min(8,I.length-N),M=parseInt(I.substring(N,N+O),k);8>O?(O=c(Math.pow(k,O)),S=S.j(O).add(c(M))):(S=S.j(A),S=S.add(c(M)))}return S}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var I=0,k=1,A=0;A<this.g.length;A++){var S=this.i(A);I+=(0<=S?S:4294967296+S)*k,k*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(y(this))return"-"+v(this).toString(I);for(var k=c(Math.pow(I,6)),A=this,S="";;){var N=C(A,k).g;A=b(A,N.j(k));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=N,g(A))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=b(this,I),y(I)?-1:g(I)?0:1};function v(I){for(var k=I.g.length,A=[],S=0;S<k;S++)A[S]=~I.g[S];return new o(A,~I.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(I){for(var k=Math.max(this.g.length,I.g.length),A=[],S=0,N=0;N<=k;N++){var O=S+(this.i(N)&65535)+(I.i(N)&65535),M=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);S=M>>>16,O&=65535,M&=65535,A[N]=M<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function b(I,k){return I.add(v(k))}t.j=function(I){if(g(this)||g(I))return d;if(y(this))return y(I)?v(this).j(v(I)):v(v(this).j(I));if(y(I))return v(this.j(v(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var k=this.g.length+I.g.length,A=[],S=0;S<2*k;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(var N=0;N<I.g.length;N++){var O=this.i(S)>>>16,M=this.i(S)&65535,ne=I.i(N)>>>16,Q=I.i(N)&65535;A[2*S+2*N]+=M*Q,w(A,2*S+2*N),A[2*S+2*N+1]+=O*Q,w(A,2*S+2*N+1),A[2*S+2*N+1]+=M*ne,w(A,2*S+2*N+1),A[2*S+2*N+2]+=O*ne,w(A,2*S+2*N+2)}for(S=0;S<k;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=k;S<2*k;S++)A[S]=0;return new o(A,0)};function w(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function E(I,k){this.g=I,this.h=k}function C(I,k){if(g(k))throw Error("division by zero");if(g(I))return new E(d,d);if(y(I))return k=C(v(I),k),new E(v(k.g),v(k.h));if(y(k))return k=C(I,v(k)),new E(v(k.g),k.h);if(30<I.g.length){if(y(I)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var A=f,S=k;0>=S.l(I);)A=R(A),S=R(S);var N=P(A,1),O=P(S,1);for(S=P(S,2),A=P(A,2);!g(S);){var M=O.add(S);0>=M.l(I)&&(N=N.add(A),O=M),S=P(S,1),A=P(A,1)}return k=b(I,N.j(k)),new E(N,k)}for(N=d;0<=I.l(k);){for(A=Math.max(1,Math.floor(I.m()/k.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=c(A),M=O.j(k);y(M)||0<M.l(I);)A-=S,O=c(A),M=O.j(k);g(O)&&(O=f),N=N.add(O),I=b(I,M)}return new E(N,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var k=Math.max(this.g.length,I.g.length),A=[],S=0;S<k;S++)A[S]=this.i(S)&I.i(S);return new o(A,this.h&I.h)},t.or=function(I){for(var k=Math.max(this.g.length,I.g.length),A=[],S=0;S<k;S++)A[S]=this.i(S)|I.i(S);return new o(A,this.h|I.h)},t.xor=function(I){for(var k=Math.max(this.g.length,I.g.length),A=[],S=0;S<k;S++)A[S]=this.i(S)^I.i(S);return new o(A,this.h^I.h)};function R(I){for(var k=I.g.length+1,A=[],S=0;S<k;S++)A[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(A,I.h)}function P(I,k){var A=k>>5;k%=32;for(var S=I.g.length-A,N=[],O=0;O<S;O++)N[O]=0<k?I.i(O+A)>>>k|I.i(O+A+1)<<32-k:I.i(O+A);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Pa=o}).apply(typeof QI<"u"?QI:typeof self<"u"?self:typeof window<"u"?window:{});var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n4,bd,r4,Vp,xx,i4,s4,o4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,T){return m==Array.prototype||m==Object.prototype||(m[_]=T.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Om=="object"&&Om];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(m,_){if(_)e:{var T=r;m=m.split(".");for(var D=0;D<m.length-1;D++){var B=m[D];if(!(B in T))break e;T=T[B]}m=m[m.length-1],D=T[m],_=_(D),_!=D&&_!=null&&e(T,m,{configurable:!0,writable:!0,value:_})}}function s(m,_){m instanceof String&&(m+="");var T=0,D=!1,B={next:function(){if(!D&&T<m.length){var j=T++;return{value:_(j,m[j]),done:!1}}return D=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(m){return m||function(){return s(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function c(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function u(m,_,T){return m.call.apply(m.bind,arguments)}function d(m,_,T){if(!m)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,D),m.apply(_,B)}}return function(){return m.apply(_,arguments)}}function f(m,_,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function p(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function g(m,_){function T(){}T.prototype=_.prototype,m.aa=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(D,B,j){for(var X=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)X[Ge-2]=arguments[Ge];return _.prototype[B].apply(D,X)}}function y(m){const _=m.length;if(0<_){const T=Array(_);for(let D=0;D<_;D++)T[D]=m[D];return T}return[]}function v(m,_){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(l(D)){const B=m.length||0,j=D.length||0;m.length=B+j;for(let X=0;X<j;X++)m[B+X]=D[X]}else m.push(D)}}class b{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function w(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function P(m,_,T){for(const D in m)_.call(T,m[D],D,m)}function I(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function k(m){const _={};for(const T in m)_[T]=m[T];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(m,_){let T,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(T in D)m[T]=D[T];for(let j=0;j<A.length;j++)T=A[j],Object.prototype.hasOwnProperty.call(D,T)&&(m[T]=D[T])}}function N(m){var _=1;m=m.split(":");const T=[];for(;0<_&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function O(m){a.setTimeout(()=>{throw m},0)}function M(){var m=J;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,T){const D=Q.get();D.set(_,T),this.h?this.h.next=D:this.g=D,this.h=D}}var Q=new b(()=>new ce,m=>m.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,H=!1,J=new ne,L=()=>{const m=a.Promise.resolve(void 0);ee=()=>{m.then(pe)}};var pe=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(T){O(T)}var _=Q;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}H=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return m}();function st(m,_){if(V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(R){e:{try{C(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&st.aa.h.call(this)}}g(st,V);var Ee={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function Kr(m,_,T,D,B){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!D,this.ha=B,this.key=++Ar,this.da=this.fa=!1}function or(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Le(m){this.src=m,this.g={},this.h=0}Le.prototype.add=function(m,_,T,D,B){var j=m.toString();m=this.g[j],m||(m=this.g[j]=[],this.h++);var X=qt(m,_,D,B);return-1<X?(_=m[X],T||(_.fa=!1)):(_=new Kr(_,this.src,j,!!D,B),_.fa=T,m.push(_)),_};function Nn(m,_){var T=_.type;if(T in m.g){var D=m.g[T],B=Array.prototype.indexOf.call(D,_,void 0),j;(j=0<=B)&&Array.prototype.splice.call(D,B,1),j&&(or(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function qt(m,_,T,D){for(var B=0;B<m.length;++B){var j=m[B];if(!j.da&&j.listener==_&&j.capture==!!T&&j.ha==D)return B}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),yl={};function Iu(m,_,T,D,B){if(Array.isArray(_)){for(var j=0;j<_.length;j++)Iu(m,_[j],T,D,B);return null}return T=em(T),m&&m[nn]?m.K(_,T,c(D)?!!D.capture:!1,B):Jf(m,_,T,!1,D,B)}function Jf(m,_,T,D,B,j){if(!_)throw Error("Invalid event type");var X=c(B)?!!B.capture:!!B,Ge=Au(m);if(Ge||(m[fi]=Ge=new Le(m)),T=Ge.add(_,T,D,X,j),T.proxy)return T;if(D=iv(),T.proxy=D,D.src=m,D.listener=T,m.addEventListener)ve||(B=X),B===void 0&&(B=!1),m.addEventListener(_.toString(),D,B);else if(m.attachEvent)m.attachEvent(Zf(_.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function iv(){function m(T){return _.call(m.src,m.listener,T)}const _=sv;return m}function Cu(m,_,T,D,B){if(Array.isArray(_))for(var j=0;j<_.length;j++)Cu(m,_[j],T,D,B);else D=c(D)?!!D.capture:!!D,T=em(T),m&&m[nn]?(m=m.i,_=String(_).toString(),_ in m.g&&(j=m.g[_],T=qt(j,T,D,B),-1<T&&(or(j[T]),Array.prototype.splice.call(j,T,1),j.length==0&&(delete m.g[_],m.h--)))):m&&(m=Au(m))&&(_=m.g[_.toString()],m=-1,_&&(m=qt(_,T,D,B)),(T=-1<m?_[m]:null)&&vl(T))}function vl(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[nn])Nn(_.i,m);else{var T=m.type,D=m.proxy;_.removeEventListener?_.removeEventListener(T,D,m.capture):_.detachEvent?_.detachEvent(Zf(T),D):_.addListener&&_.removeListener&&_.removeListener(D),(T=Au(_))?(Nn(T,m),T.h==0&&(T.src=null,_[fi]=null)):or(m)}}}function Zf(m){return m in yl?yl[m]:yl[m]="on"+m}function sv(m,_){if(m.da)m=!0;else{_=new st(_,this);var T=m.listener,D=m.ha||m.src;m.fa&&vl(m),m=T.call(D,_)}return m}function Au(m){return m=m[fi],m instanceof Le?m:null}var Pu="__closure_events_fn_"+(1e9*Math.random()>>>0);function em(m){return typeof m=="function"?m:(m[Pu]||(m[Pu]=function(_){return m.handleEvent(_)}),m[Pu])}function U(){ae.call(this),this.i=new Le(this),this.M=this,this.F=null}g(U,ae),U.prototype[nn]=!0,U.prototype.removeEventListener=function(m,_,T,D){Cu(this,m,_,T,D)};function W(m,_){var T,D=m.F;if(D)for(T=[];D;D=D.F)T.push(D);if(m=m.M,D=_.type||_,typeof _=="string")_=new V(_,m);else if(_ instanceof V)_.target=_.target||m;else{var B=_;_=new V(D,m),S(_,B)}if(B=!0,T)for(var j=T.length-1;0<=j;j--){var X=_.g=T[j];B=he(X,D,!0,_)&&B}if(X=_.g=m,B=he(X,D,!0,_)&&B,B=he(X,D,!1,_)&&B,T)for(j=0;j<T.length;j++)X=_.g=T[j],B=he(X,D,!1,_)&&B}U.prototype.N=function(){if(U.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var T=m.g[_],D=0;D<T.length;D++)or(T[D]);delete m.g[_],m.h--}}this.F=null},U.prototype.K=function(m,_,T,D){return this.i.add(String(m),_,!1,T,D)},U.prototype.L=function(m,_,T,D){return this.i.add(String(m),_,!0,T,D)};function he(m,_,T,D){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,j=0;j<_.length;++j){var X=_[j];if(X&&!X.da&&X.capture==T){var Ge=X.listener,rn=X.ha||X.src;X.fa&&Nn(m.i,X),B=Ge.call(rn,D)!==!1&&B}}return B&&!D.defaultPrevented}function xe(m,_,T){if(typeof m=="function")T&&(m=f(m,T));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(m,_||0)}function Be(m){m.g=xe(()=>{m.g=null,m.i&&(m.i=!1,Be(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class ar extends ae{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(m){ae.call(this),this.h=m,this.g={}}g(lr,ae);var Pr=[];function Ms(m){P(m.g,function(_,T){this.g.hasOwnProperty(T)&&vl(_)},m),m.g={}}lr.prototype.N=function(){lr.aa.N.call(this),Ms(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=a.JSON.stringify,Dn=a.JSON.parse,Os=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function cr(){}cr.prototype.h=null;function u2(m){return m.h||(m.h=m.i())}function d2(){}var Ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ov(){V.call(this,"d")}g(ov,V);function av(){V.call(this,"c")}g(av,V);var Yo={},h2=null;function tm(){return h2=h2||new U}Yo.La="serverreachability";function f2(m){V.call(this,Yo.La,m)}g(f2,V);function Nu(m){const _=tm();W(_,new f2(_))}Yo.STAT_EVENT="statevent";function m2(m,_){V.call(this,Yo.STAT_EVENT,m),this.stat=_}g(m2,V);function Mn(m){const _=tm();W(_,new m2(_,m))}Yo.Ma="timingevent";function p2(m,_){V.call(this,Yo.Ma,m),this.size=_}g(p2,V);function Du(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},_)}function Mu(){this.g=!0}Mu.prototype.xa=function(){this.g=!1};function u8(m,_,T,D,B,j){m.info(function(){if(m.g)if(j)for(var X="",Ge=j.split("&"),rn=0;rn<Ge.length;rn++){var Ve=Ge[rn].split("=");if(1<Ve.length){var pn=Ve[0];Ve=Ve[1];var gn=pn.split("_");X=2<=gn.length&&gn[1]=="type"?X+(pn+"="+Ve+"&"):X+(pn+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+_+`
`+T+`
`+X})}function d8(m,_,T,D,B,j,X){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+_+`
`+T+`
`+j+" "+X})}function bl(m,_,T,D){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+f8(m,T)+(D?" "+D:"")})}function h8(m,_){m.info(function(){return"TIMEOUT: "+_})}Mu.prototype.info=function(){};function f8(m,_){if(!m.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var D=T[m];if(!(2>D.length)){var B=D[1];if(Array.isArray(B)&&!(1>B.length)){var j=B[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<B.length;X++)B[X]=""}}}}return Qi(T)}catch{return _}}var nm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lv;function rm(){}g(rm,cr),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},lv=new rm;function Ls(m,_,T,D){this.j=m,this.i=_,this.l=T,this.R=D||1,this.U=new lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y2}function y2(){this.i=null,this.g="",this.h=!1}var v2={},cv={};function uv(m,_,T){m.L=1,m.v=am(Yi(_)),m.m=T,m.P=!0,b2(m,null)}function b2(m,_){m.F=Date.now(),im(m),m.A=Yi(m.v);var T=m.A,D=m.R;Array.isArray(D)||(D=[String(D)]),D2(T.i,"t",D),m.C=0,T=m.j.J,m.h=new y2,m.g=X2(m.j,T?_:null,!m.m),0<m.O&&(m.M=new ar(f(m.Y,m,m.g),m.O)),_=m.U,T=m.g,D=m.ca;var B="readystatechange";Array.isArray(B)||(B&&(Pr[0]=B.toString()),B=Pr);for(var j=0;j<B.length;j++){var X=Iu(T,B[j],D||_.handleEvent,!1,_.h||_);if(!X)break;_.g[X.key]=X}_=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),Nu(),u8(m.i,m.u,m.A,m.l,m.R,m.m)}Ls.prototype.ca=function(m){m=m.target;const _=this.M;_&&Xi(m)==3?_.j():this.Y(m)},Ls.prototype.Y=function(m){try{if(m==this.g)e:{const gn=Xi(this.g);var _=this.g.Ba();const _l=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||$2(this.g)))){this.J||gn!=4||_==7||(_==8||0>=_l?Nu(3):Nu(2)),dv(this);var T=this.g.Z();this.X=T;t:if(w2(this)){var D=$2(this.g);m="";var B=D.length,j=Xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),Ou(this);var X="";break t}this.h.i=new a.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,m+=this.h.i.decode(D[_],{stream:!(j&&_==B-1)});D.length=0,this.h.g+=m,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=T==200,d8(this.i,this.u,this.A,this.l,this.R,gn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,rn=this.g;if((Ge=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ge)){var Ve=Ge;break t}}Ve=null}if(T=Ve)bl(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hv(this,T);else{this.o=!1,this.s=3,Mn(12),Xo(this),Ou(this);break e}}if(this.P){T=!0;let Qr;for(;!this.J&&this.C<X.length;)if(Qr=m8(this,X),Qr==cv){gn==4&&(this.s=4,Mn(14),T=!1),bl(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==v2){this.s=4,Mn(15),bl(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else bl(this.i,this.l,Qr,null),hv(this,Qr);if(w2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||X.length!=0||this.h.h||(this.s=1,Mn(16),T=!1),this.o=this.o&&T,!T)bl(this.i,this.l,X,"[Invalid Chunked Response]"),Xo(this),Ou(this);else if(0<X.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),vv(pn),pn.M=!0,Mn(11))}}else bl(this.i,this.l,X,null),hv(this,X);gn==4&&Xo(this),this.o&&!this.J&&(gn==4?G2(this.j,this):(this.o=!1,im(this)))}else R8(this.g),T==400&&0<X.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),Xo(this),Ou(this)}}}catch{}finally{}};function w2(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function m8(m,_){var T=m.C,D=_.indexOf(`
`,T);return D==-1?cv:(T=Number(_.substring(T,D)),isNaN(T)?v2:(D+=1,D+T>_.length?cv:(_=_.slice(D,D+T),m.C=D+T,_)))}Ls.prototype.cancel=function(){this.J=!0,Xo(this)};function im(m){m.S=Date.now()+m.I,x2(m,m.I)}function x2(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Du(f(m.ba,m),_)}function dv(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Ls.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(h8(this.i,this.A),this.L!=2&&(Nu(),Mn(17)),Xo(this),this.s=2,Ou(this)):x2(this,this.S-m)};function Ou(m){m.j.G==0||m.J||G2(m.j,m)}function Xo(m){dv(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Ms(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function hv(m,_){try{var T=m.j;if(T.G!=0&&(T.g==m||fv(T.h,m))){if(!m.K&&fv(T.h,m)&&T.G==3){try{var D=T.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)fm(T),dm(T);else break e;yv(T),Mn(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=Du(f(T.Za,T),6e3));if(1>=S2(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Zo(T,11)}else if((m.K||T.g==m)&&fm(T),!w(_))for(B=T.Da.g.parse(_),_=0;_<B.length;_++){let Ve=B[_];if(T.T=Ve[0],Ve=Ve[1],T.G==2)if(Ve[0]=="c"){T.K=Ve[1],T.ia=Ve[2];const pn=Ve[3];pn!=null&&(T.la=pn,T.j.info("VER="+T.la));const gn=Ve[4];gn!=null&&(T.Aa=gn,T.j.info("SVER="+T.Aa));const _l=Ve[5];_l!=null&&typeof _l=="number"&&0<_l&&(D=1.5*_l,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Qr=m.g;if(Qr){const pm=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pm){var j=D.h;j.g||pm.indexOf("spdy")==-1&&pm.indexOf("quic")==-1&&pm.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(mv(j,j.h),j.h=null))}if(D.D){const bv=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;bv&&(D.ya=bv,et(D.I,D.D,bv))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var X=m;if(D.qa=Y2(D,D.J?D.ia:null,D.W),X.K){T2(D.h,X);var Ge=X,rn=D.L;rn&&(Ge.I=rn),Ge.B&&(dv(Ge),im(Ge)),D.g=X}else W2(D);0<T.i.length&&hm(T)}else Ve[0]!="stop"&&Ve[0]!="close"||Zo(T,7);else T.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Zo(T,7):gv(T):Ve[0]!="noop"&&T.l&&T.l.ta(Ve),T.v=0)}}Nu(4)}catch{}}var p8=class{constructor(m,_){this.g=m,this.map=_}};function _2(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E2(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function S2(m){return m.h?1:m.g?m.g.size:0}function fv(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function mv(m,_){m.g?m.g.add(_):m.h=_}function T2(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}_2.prototype.cancel=function(){if(this.i=k2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function k2(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.D);return _}return y(m.i)}function g8(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var _=[],T=m.length,D=0;D<T;D++)_.push(m[D]);return _}_=[],T=0;for(D in m)_[T++]=m[D];return _}function y8(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var _=[];m=m.length;for(var T=0;T<m;T++)_.push(T);return _}_=[],T=0;for(const D in m)_[T++]=D;return _}}}function I2(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var T=y8(m),D=g8(m),B=D.length,j=0;j<B;j++)_.call(void 0,D[j],T&&T[j],m)}var C2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v8(m,_){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var D=m[T].indexOf("="),B=null;if(0<=D){var j=m[T].substring(0,D);B=m[T].substring(D+1)}else j=m[T];_(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Jo(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Jo){this.h=m.h,sm(this,m.j),this.o=m.o,this.g=m.g,om(this,m.s),this.l=m.l;var _=m.i,T=new Fu;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),A2(this,T),this.m=m.m}else m&&(_=String(m).match(C2))?(this.h=!1,sm(this,_[1]||"",!0),this.o=Lu(_[2]||""),this.g=Lu(_[3]||"",!0),om(this,_[4]),this.l=Lu(_[5]||"",!0),A2(this,_[6]||"",!0),this.m=Lu(_[7]||"")):(this.h=!1,this.i=new Fu(null,this.h))}Jo.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Vu(_,P2,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Vu(_,P2,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(Vu(T,T.charAt(0)=="/"?x8:w8,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",Vu(T,E8)),m.join("")};function Yi(m){return new Jo(m)}function sm(m,_,T){m.j=T?Lu(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function om(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function A2(m,_,T){_ instanceof Fu?(m.i=_,S8(m.i,m.h)):(T||(_=Vu(_,_8)),m.i=new Fu(_,m.h))}function et(m,_,T){m.i.set(_,T)}function am(m){return et(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Lu(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Vu(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,b8),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function b8(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var P2=/[#\/\?@]/g,w8=/[#\?:]/g,x8=/[#\?]/g,_8=/[#\?@]/g,E8=/#/g;function Fu(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Vs(m){m.g||(m.g=new Map,m.h=0,m.i&&v8(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Fu.prototype,t.add=function(m,_){Vs(this),this.i=null,m=wl(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function R2(m,_){Vs(m),_=wl(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function N2(m,_){return Vs(m),_=wl(m,_),m.g.has(_)}t.forEach=function(m,_){Vs(this),this.g.forEach(function(T,D){T.forEach(function(B){m.call(_,B,D,this)},this)},this)},t.na=function(){Vs(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let D=0;D<_.length;D++){const B=m[D];for(let j=0;j<B.length;j++)T.push(_[D])}return T},t.V=function(m){Vs(this);let _=[];if(typeof m=="string")N2(this,m)&&(_=_.concat(this.g.get(wl(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)_=_.concat(m[T])}return _},t.set=function(m,_){return Vs(this),this.i=null,m=wl(this,m),N2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function D2(m,_,T){R2(m,_),0<T.length&&(m.i=null,m.g.set(wl(m,_),y(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var D=_[T];const j=encodeURIComponent(String(D)),X=this.V(D);for(D=0;D<X.length;D++){var B=j;X[D]!==""&&(B+="="+encodeURIComponent(String(X[D]))),m.push(B)}}return this.i=m.join("&")};function wl(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function S8(m,_){_&&!m.j&&(Vs(m),m.i=null,m.g.forEach(function(T,D){var B=D.toLowerCase();D!=B&&(R2(this,D),D2(this,B,T))},m)),m.j=_}function T8(m,_){const T=new Mu;if(a.Image){const D=new Image;D.onload=p(Fs,T,"TestLoadImage: loaded",!0,_,D),D.onerror=p(Fs,T,"TestLoadImage: error",!1,_,D),D.onabort=p(Fs,T,"TestLoadImage: abort",!1,_,D),D.ontimeout=p(Fs,T,"TestLoadImage: timeout",!1,_,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else _(!1)}function k8(m,_){const T=new Mu,D=new AbortController,B=setTimeout(()=>{D.abort(),Fs(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:D.signal}).then(j=>{clearTimeout(B),j.ok?Fs(T,"TestPingServer: ok",!0,_):Fs(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Fs(T,"TestPingServer: error",!1,_)})}function Fs(m,_,T,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(T)}catch{}}function I8(){this.g=new Os}function C8(m,_,T){const D=T||"";try{I2(m,function(B,j){let X=B;c(B)&&(X=Qi(B)),_.push(D+j+"="+encodeURIComponent(X))})}catch(B){throw _.push(D+"type="+encodeURIComponent("_badmap")),B}}function lm(m){this.l=m.Ub||null,this.j=m.eb||!1}g(lm,cr),lm.prototype.g=function(){return new cm(this.l,this.j)},lm.prototype.i=function(m){return function(){return m}}({});function cm(m,_){U.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(cm,U),t=cm.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,$u(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;M2(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function M2(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Bu(this):$u(this),this.readyState==3&&M2(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Bu(this))},t.Qa=function(m){this.g&&(this.response=m,Bu(this))},t.ga=function(){this.g&&Bu(this)};function Bu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,$u(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function $u(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(cm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function O2(m){let _="";return P(m,function(T,D){_+=D,_+=":",_+=T,_+=`\r
`}),_}function pv(m,_,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=O2(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):et(m,_,T))}function vt(m){U.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vt,U);var A8=/^https?$/i,P8=["POST","PUT"];t=vt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lv.g(),this.v=this.o?u2(this.o):u2(lv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(j){L2(this,j);return}if(m=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)T.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const j of D.keys())T.set(j,D.get(j));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(j=>j.toLowerCase()=="content-type"),B=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(P8,_,void 0))||D||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of T)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{B2(this),this.u=!0,this.g.send(m),this.u=!1}catch(j){L2(this,j)}};function L2(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,V2(m),um(m)}function V2(m){m.A||(m.A=!0,W(m,"complete"),W(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,W(this,"complete"),W(this,"abort"),um(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),um(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?F2(this):this.bb())},t.bb=function(){F2(this)};function F2(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Xi(m)!=4||m.Z()!=2)){if(m.u&&Xi(m)==4)xe(m.Ea,0,m);else if(W(m,"readystatechange"),Xi(m)==4){m.h=!1;try{const X=m.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var D;if(D=X===0){var B=String(m.D).match(C2)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),D=!A8.test(B?B.toLowerCase():"")}T=D}if(T)W(m,"complete"),W(m,"success");else{m.m=6;try{var j=2<Xi(m)?m.g.statusText:""}catch{j=""}m.l=j+" ["+m.Z()+"]",V2(m)}}finally{um(m)}}}}function um(m,_){if(m.g){B2(m);const T=m.g,D=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||W(m,"ready");try{T.onreadystatechange=D}catch{}}}function B2(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Xi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Dn(_)}};function $2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function R8(m){const _={};m=(m.g&&2<=Xi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(w(m[D]))continue;var T=N(m[D]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const j=_[B]||[];_[B]=j,j.push(T)}I(_,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ju(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function j2(m){this.Aa=0,this.i=[],this.j=new Mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ju("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ju("baseRetryDelayMs",5e3,m),this.cb=ju("retryDelaySeedMs",1e4,m),this.Wa=ju("forwardChannelMaxRetries",2,m),this.wa=ju("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new _2(m&&m.concurrentRequestLimit),this.Da=new I8,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=j2.prototype,t.la=8,t.G=1,t.connect=function(m,_,T,D){Mn(0),this.W=m,this.H=_||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=Y2(this,null,this.W),hm(this)};function gv(m){if(U2(m),m.G==3){var _=m.U++,T=Yi(m.I);if(et(T,"SID",m.K),et(T,"RID",_),et(T,"TYPE","terminate"),Uu(m,T),_=new Ls(m,m.j,_),_.L=2,_.v=am(Yi(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=X2(_.j,null),_.g.ea(_.v)),_.F=Date.now(),im(_)}Q2(m)}function dm(m){m.g&&(vv(m),m.g.cancel(),m.g=null)}function U2(m){dm(m),m.u&&(a.clearTimeout(m.u),m.u=null),fm(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function hm(m){if(!E2(m.h)&&!m.s){m.s=!0;var _=m.Ga;ee||L(),H||(ee(),H=!0),J.add(_,m),m.B=0}}function N8(m,_){return S2(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Du(f(m.Ga,m,_),K2(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const B=new Ls(this,this.j,m);let j=this.o;if(this.S&&(j?(j=k(j),S(j,this.S)):j=this.S),this.m!==null||this.O||(B.H=j,j=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=H2(this,B,_),T=Yi(this.I),et(T,"RID",m),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Uu(this,T),j&&(this.O?_="headers="+encodeURIComponent(String(O2(j)))+"&"+_:this.m&&pv(T,this.m,j)),mv(this.h,B),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),B.T=!0,uv(B,T,null)):uv(B,T,_),this.G=2}}else this.G==3&&(m?z2(this,m):this.i.length==0||E2(this.h)||z2(this))};function z2(m,_){var T;_?T=_.l:T=m.U++;const D=Yi(m.I);et(D,"SID",m.K),et(D,"RID",T),et(D,"AID",m.T),Uu(m,D),m.m&&m.o&&pv(D,m.m,m.o),T=new Ls(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),_&&(m.i=_.D.concat(m.i)),_=H2(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),mv(m.h,T),uv(T,D,_)}function Uu(m,_){m.H&&P(m.H,function(T,D){et(_,D,T)}),m.l&&I2({},function(T,D){et(_,D,T)})}function H2(m,_,T){T=Math.min(m.i.length,T);var D=m.l?f(m.l.Na,m.l,m):null;e:{var B=m.i;let j=-1;for(;;){const X=["count="+T];j==-1?0<T?(j=B[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let Ge=!0;for(let rn=0;rn<T;rn++){let Ve=B[rn].g;const pn=B[rn].map;if(Ve-=j,0>Ve)j=Math.max(0,B[rn].g-100),Ge=!1;else try{C8(pn,X,"req"+Ve+"_")}catch{D&&D(pn)}}if(Ge){D=X.join("&");break e}}}return m=m.i.splice(0,T),_.D=m,D}function W2(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ee||L(),H||(ee(),H=!0),J.add(_,m),m.v=0}}function yv(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Du(f(m.Fa,m),K2(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,q2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Du(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mn(10),dm(this),q2(this))};function vv(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function q2(m){m.g=new Ls(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Yi(m.qa);et(_,"RID","rpc"),et(_,"SID",m.K),et(_,"AID",m.T),et(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&et(_,"TO",m.ja),et(_,"TYPE","xmlhttp"),Uu(m,_),m.m&&m.o&&pv(_,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=am(Yi(_)),T.m=null,T.P=!0,b2(T,m)}t.Za=function(){this.C!=null&&(this.C=null,dm(this),yv(this),Mn(19))};function fm(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function G2(m,_){var T=null;if(m.g==_){fm(m),vv(m),m.g=null;var D=2}else if(fv(m.h,_))T=_.D,T2(m.h,_),D=1;else return;if(m.G!=0){if(_.o)if(D==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var B=m.B;D=tm(),W(D,new p2(D,T)),hm(m)}else W2(m);else if(B=_.s,B==3||B==0&&0<_.X||!(D==1&&N8(m,_)||D==2&&yv(m)))switch(T&&0<T.length&&(_=m.h,_.i=_.i.concat(T)),B){case 1:Zo(m,5);break;case 4:Zo(m,10);break;case 3:Zo(m,6);break;default:Zo(m,2)}}}function K2(m,_){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*_}function Zo(m,_){if(m.j.info("Error code "+_),_==2){var T=f(m.fb,m),D=m.Xa;const B=!D;D=new Jo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sm(D,"https"),am(D),B?T8(D.toString(),T):k8(D.toString(),T)}else Mn(2);m.G=0,m.l&&m.l.sa(_),Q2(m),U2(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function Q2(m){if(m.G=0,m.ka=[],m.l){const _=k2(m.h);(_.length!=0||m.i.length!=0)&&(v(m.ka,_),v(m.ka,m.i),m.h.i.length=0,y(m.i),m.i.length=0),m.l.ra()}}function Y2(m,_,T){var D=T instanceof Jo?Yi(T):new Jo(T);if(D.g!="")_&&(D.g=_+"."+D.g),om(D,D.s);else{var B=a.location;D=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var j=new Jo(null);D&&sm(j,D),_&&(j.g=_),B&&om(j,B),T&&(j.l=T),D=j}return T=m.D,_=m.ya,T&&_&&et(D,T,_),et(D,"VER",m.la),Uu(m,D),D}function X2(m,_,T){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new vt(new lm({eb:T})):new vt(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J2(){}t=J2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mm(){}mm.prototype.g=function(m,_){return new ur(m,_)};function ur(m,_){U.call(this),this.g=new j2(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!w(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!w(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new xl(this)}g(ur,U),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){gv(this.g)},ur.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=Qi(m),m=T);_.i.push(new p8(_.Ya++,m)),_.G==3&&hm(_)},ur.prototype.N=function(){this.g.l=null,delete this.j,gv(this.g),delete this.g,ur.aa.N.call(this)};function Z2(m){ov.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const T in _){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}g(Z2,ov);function ek(){av.call(this),this.status=1}g(ek,av);function xl(m){this.g=m}g(xl,J2),xl.prototype.ua=function(){W(this.g,"a")},xl.prototype.ta=function(m){W(this.g,new Z2(m))},xl.prototype.sa=function(m){W(this.g,new ek)},xl.prototype.ra=function(){W(this.g,"b")},mm.prototype.createWebChannel=mm.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,o4=function(){return new mm},s4=function(){return tm()},i4=Yo,xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,Vp=nm,g2.COMPLETE="complete",r4=g2,d2.EventType=Ru,Ru.OPEN="a",Ru.CLOSE="b",Ru.ERROR="c",Ru.MESSAGE="d",U.prototype.listen=U.prototype.K,bd=d2,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,n4=vt}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});const YI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new YE("@firebase/firestore");function Dl(){return qa.logLevel}function q(t,...e){if(qa.logLevel<=ke.DEBUG){const n=e.map(a1);qa.debug(`Firestore (${uu}): ${t}`,...n)}}function Fn(t,...e){if(qa.logLevel<=ke.ERROR){const n=e.map(a1);qa.error(`Firestore (${uu}): ${t}`,...n)}}function Bc(t,...e){if(qa.logLevel<=ke.WARN){const n=e.map(a1);qa.warn(`Firestore (${uu}): ${t}`,...n)}}function a1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function se(t,e){t||ie()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class YW{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new KW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new Vn(e)}}class XW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){se(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string"),this.R=n.token,new ZW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function $c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function l4(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new gt(0,0))}static max(){return new le(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Mh{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const nq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Mh{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return nq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z($e.fromString(e))}static fromName(e){return new Z($e.fromString(e).popFirst(5))}static empty(){return new Z($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function _x(t){return t.fields.find(e=>e.kind===2)}function ca(t){return t.fields.filter(e=>e.kind!==2)}Ug.UNKNOWN_ID=-1;class Fp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Oh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Oh(0,Er.min())}}function rq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Er(i,Z.empty(),e)}function c4(t){return new Er(t.readTime,t.key,-1)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(le.min(),Z.empty(),-1)}static max(){return new Er(le.max(),Z.empty(),-1)}}function l1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==u4)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Li,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Kd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=c1(r.target.error);this.V.reject(new Kd(e,i))}}static open(e,n,r,i){try{return new Zy(n,e.transaction(i,r))}catch(s){throw new Kd(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sq(n)}}class Io{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Io.S(zt())===12.2&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mO())return!1;if(Io.v())return!0;const e=zt(),n=Io.S(e),r=0<n&&n<10,i=h4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Y(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Kd(e,o))},i.onupgradeneeded=s=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Zy.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function h4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class iq{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ma(this.B.delete())}}class Kd extends Y{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ho(t){return t.name==="IndexedDbTransactionError"}class sq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ma(r)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(n=>(n===void 0&&(n=null),q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),ma(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const o=c1(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new $((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new iq(a),c=n(a.primaryKey,a.value,l);if(c instanceof $){const u=c.catch(d=>(l.done(),$.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ma(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=c1(r.target.error);n(i)}})}let XI=!1;function c1(t){const e=Io.S(zt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XI||(XI=!0,setTimeout(()=>{throw r},0)),r}}return t}class oq{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{q("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Ho(n)?q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ul(n)}await this.X(6e4)})}}class aq{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return $.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return q("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=c4(s);l1(o,r)>0&&(r=o)}),new Er(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Br.oe=-1;function e0(t){return t==null}function Lh(t){return t===0&&1/t==-1/0}function lq(t){return typeof t=="number"&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JI(e)),e=cq(t.get(n),e);return JI(e)}function cq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function JI(t){return t+""}function Ii(t){const e=t.length;if(se(e>=2),e===2)return se(t.charAt(0)===""&&t.charAt(1)===""),$e.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ie(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ie()}s=o+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e){return[t,jn(e)]}function f4(t,e,n){return[t,jn(e),n]}const uq={},dq=["prefixPath","collectionGroup","readTime","documentId"],hq=["prefixPath","collectionGroup","documentId"],fq=["collectionGroup","readTime","prefixPath","documentId"],mq=["canonicalId","targetId"],pq=["targetId","path"],gq=["path","targetId"],yq=["collectionId","parent"],vq=["indexId","uid"],bq=["uid","sequenceNumber"],wq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xq=["indexId","uid","orderedDocumentKey"],_q=["userId","collectionPath","documentId"],Eq=["userId","collectionPath","largestBatchId"],Sq=["userId","collectionGroup","largestBatchId"],m4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tq=[...m4,"documentOverlays"],p4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],g4=p4,u1=[...g4,"indexConfiguration","indexState","indexEntries"],kq=u1,Iq=[...u1,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends d4{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ht(t,e){const n=me(t);return Io.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lm(this.root,e,this.comparator,!0)}}class Lm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tC(this.data.getIterator())}getIteratorFrom(e){return new tC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class tC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new er([])}unionWith(e){let n=new qe(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v4("Invalid base64 string: "+s):s}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Cq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(se(!!t),typeof t=="string"){let e=0;const n=Cq.exec(t);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function h1(t){const e=t.mapValue.fields.__previous_value__;return d1(e)?h1(e):e}function Vh(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$p={nullValue:"NULL_VALUE"};function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d1(t)?4:b4(t)?9007199254740991:t0(t)?10:11:ie()}function ji(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vh(t).isEqual(Vh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Do(i.bytesValue).isEqual(Do(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?Lh(o)===Lh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eC(o)!==eC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ji(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function Fh(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Ka(t),r=Ka(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nC(t.timestampValue,e.timestampValue);case 4:return nC(Vh(t),Vh(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Do(s),l=Do(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ge(a[c],l[c]);if(u!==0)return u}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(ot(s.latitude),ot(o.latitude));return a!==0?a:ge(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=ge(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:rC(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===uo.mapValue&&o===uo.mapValue)return 0;if(s===uo.mapValue)return 1;if(o===uo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=ge(l[d],u[d]);if(f!==0)return f;const p=Mo(a[l[d]],c[u[d]]);if(p!==0)return p}return ge(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ie()}}function nC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Is(t),r=Is(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function rC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mo(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function jc(t){return Sx(t)}function Sx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Do(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sx(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sx(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function Bh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tx(t){return!!t&&"integerValue"in t}function $h(t){return!!t&&"arrayValue"in t}function iC(t){return!!t&&"nullValue"in t}function sC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}function t0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const w4={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Pq(t){return"nullValue"in t?$p:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bh(Ga.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?t0(t)?w4:{mapValue:{}}:ie()}function Rq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bh(Ga.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?w4:"mapValue"in t?t0(t)?{mapValue:{}}:uo:ie()}function oC(t,e){const n=Mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function aC(t,e){const n=Mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(Qd(this.value))}}function x4(t){const e=[];return dl(t.fields,(n,r)=>{const i=new ht([n]);if(jp(r)){const s=x4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,le.min(),le.min(),le.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,le.min(),le.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,le.min(),le.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function lC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{}class Ae extends _4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dq(e,n,r):n==="array-contains"?new Lq(e,r):n==="in"?new C4(e,r):n==="not-in"?new Vq(e,r):n==="array-contains-any"?new Fq(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mq(e,r):new Oq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ue extends _4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ue(e,n)}matches(e){return zc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zc(t){return t.op==="and"}function kx(t){return t.op==="or"}function f1(t){return E4(t)&&zc(t)}function E4(t){for(const e of t.filters)if(e instanceof Ue)return!1;return!0}function Ix(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+jc(t.value);if(f1(t))return t.filters.map(e=>Ix(e)).join(",");{const e=t.filters.map(n=>Ix(n)).join(",");return`${t.op}(${e})`}}function S4(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(t,e):t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&S4(o,i.filters[a]),!0):!1}(t,e):void ie()}function T4(t,e){const n=t.filters.concat(e);return Ue.create(n,t.op)}function k4(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${jc(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(k4).join(" ,")+"}"}(t):"Filter"}class Dq extends Ae{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mq extends Ae{constructor(e,n){super(e,"in",n),this.keys=I4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oq extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=I4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function I4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class Lq extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $h(n)&&Fh(n.arrayValue,this.value)}}class C4 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class Vq extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fh(this.value.arrayValue,n)}}class Fq extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$h(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Cx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bq(t,e,n,r,i,s,o)}function Qa(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ix(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),e0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jc(r)).join(",")),e.ue=n}return e.ue}function kf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cC(t.startAt,e.startAt)&&cC(t.endAt,e.endAt)}function zg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hg(t,e){return t.filters.filter(n=>n instanceof Ae&&n.field.isEqual(e))}function uC(t,e,n){let r=$p,i=!0;for(const s of Hg(t,e)){let o=$p,a=!0;switch(s.op){case"<":case"<=":o=Pq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=$p}oC({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];oC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function dC(t,e,n){let r=uo,i=!0;for(const s of Hg(t,e)){let o=uo,a=!0;switch(s.op){case">=":case">":o=Rq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=uo}aC({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];aC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $q(t,e,n,r,i,s,o,a){return new du(t,e,n,r,i,s,o,a)}function n0(t){return new du(t)}function hC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A4(t){return t.collectionGroup!==null}function Yd(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qe(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jh(s,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new jh(ht.keyField(),r))}return e.ce}function Ur(t){const e=me(t);return e.le||(e.le=jq(e,Yd(t))),e.le}function jq(t,e){if(t.limitType==="F")return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jh(i.field,s)});const n=t.endAt?new Uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uc(t.startAt.position,t.startAt.inclusive):null;return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ax(t,e){const n=t.filters.concat([e]);return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function r0(t,e){return kf(Ur(t),Ur(e))&&t.limitType===e.limitType}function P4(t){return`${Qa(Ur(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>k4(i)).join(", ")}]`),e0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jc(i)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Yd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=lC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yd(r),i)||r.endAt&&!function(o,a,l){const c=lC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yd(r),i))}(t,e)}function Uq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R4(t){return(e,n)=>{let r=!1;for(const i of Yd(t)){const s=zq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zq(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Mo(l,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=new ct(Z.comparator);function gr(){return Hq}const N4=new ct(Z.comparator);function wd(...t){let e=N4;for(const n of t)e=e.insert(n.key,n);return e}function D4(t){let e=N4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Xd()}function M4(){return Xd()}function Xd(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wq=new ct(Z.comparator),qq=new qe(Z.comparator);function be(...t){let e=qq;for(const n of t)e=e.add(n);return e}const Gq=new qe(ge);function Kq(){return Gq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function O4(t){return{integerValue:""+t}}function Qq(t,e){return lq(e)?O4(e):m1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this._=void 0}}function Yq(t,e,n){return t instanceof Hc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&d1(s)&&(s=h1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wc?V4(t,e):t instanceof qc?F4(t,e):function(i,s){const o=L4(i,s),a=fC(o)+fC(i.Pe);return Tx(o)&&Tx(i.Pe)?O4(a):m1(i.serializer,a)}(t,e)}function Xq(t,e,n){return t instanceof Wc?V4(t,e):t instanceof qc?F4(t,e):n}function L4(t,e){return t instanceof Uh?function(r){return Tx(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hc extends i0{}class Wc extends i0{constructor(e){super(),this.elements=e}}function V4(t,e){const n=B4(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class qc extends i0{constructor(e){super(),this.elements=e}}function F4(t,e){let n=B4(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class Uh extends i0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fC(t){return ot(t.integerValue||t.doubleValue)}function B4(t){return $h(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.field=e,this.transform=n}}function Jq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wc&&i instanceof Wc||r instanceof qc&&i instanceof qc?$c(r.elements,i.elements,ji):r instanceof Uh&&i instanceof Uh?ji(r.Pe,i.Pe):r instanceof Hc&&i instanceof Hc}(t.transform,e.transform)}class Zq{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Up(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class s0{}function j4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o0(t.key,Yt.none()):new hu(t.key,t.data,Yt.none());{const n=t.data,r=Sn.empty();let i=new qe(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Rs(t.key,r,new er(i.toArray()),Yt.none())}}function eG(t,e,n){t instanceof hu?function(i,s,o){const a=i.value.clone(),l=pC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(i,s,o){if(!Up(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(U4(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jd(t,e,n,r){return t instanceof hu?function(s,o,a,l){if(!Up(s.precondition,o))return a;const c=s.value.clone(),u=gC(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rs?function(s,o,a,l){if(!Up(s.precondition,o))return a;const c=gC(s.fieldTransforms,l,o),u=o.data;return u.setAll(U4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Up(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L4(r.transform,i||null);s!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,s))}return n||null}function mC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$c(r,i,(s,o)=>Jq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends s0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rs extends s0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pC(t,e,n){const r=new Map;se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xq(o,a,n[i]))}return r}function gC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yq(s,o,e))}return r}class o0 extends s0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends s0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=j4(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(n,r)=>mC(n,r))&&$c(this.baseMutations,e.baseMutations,(n,r)=>mC(n,r))}}class g1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){se(e.mutations.length===r.length);let i=function(){return Wq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ne;function rG(t){switch(t){default:return ie();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function H4(t){if(t===void 0)return Fn("GRPC error has no .code"),z.UNKNOWN;switch(t){case Pt.OK:return z.OK;case Pt.CANCELLED:return z.CANCELLED;case Pt.UNKNOWN:return z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return z.INTERNAL;case Pt.UNAVAILABLE:return z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return z.NOT_FOUND;case Pt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Pt.ABORTED:return z.ABORTED;case Pt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Pt.DATA_LOSS:return z.DATA_LOSS;default:return ie()}}(Ne=Pt||(Pt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Pa([4294967295,4294967295],0);function yC(t){const e=iG().encode(t),n=new t4;return n.update(e),new Uint8Array(n.digest())}function vC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,s],0)]}class v1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xd(`Invalid padding: ${n}`);if(r<0)throw new xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(sG)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=yC(e),[r,i]=vC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new v1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=yC(e),[r,i]=vC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new a0(le.min(),i,new ct(ge),gr(),be())}}class Cf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cf(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class W4{constructor(e,n){this.targetId=e,this.me=n}}class q4{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bC{constructor(){this.fe=0,this.ge=xC(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oG{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=wC(),this.Qe=new ct(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zg(s))if(r===0){const o=new Z(s.path);this.Ue(n,o,_t.newNoDocument(o,le.min()))}else se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Do(r).toUint8Array()}catch(l){if(l instanceof v4)return Bc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new v1(o,i,s)}catch(l){return Bc(l instanceof xd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&zg(a.target)){const l=new Z(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_t.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=be();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new a0(e,n,this.Qe,this.ke,r);return this.ke=gr(),this.qe=wC(),this.Qe=new ct(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qe(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wC(){return new ct(Z.comparator)}function xC(){return new ct(Z.comparator)}const aG={asc:"ASCENDING",desc:"DESCENDING"},lG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cG={and:"AND",or:"OR"};class uG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Px(t,e){return t.useProto3Json||e0(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dG(t,e){return Gc(t,e.toTimestamp())}function Un(t){return se(!!t),le.fromTimestamp(function(n){const r=Is(n);return new gt(r.seconds,r.nanos)}(t))}function b1(t,e){return Rx(t,e).canonicalString()}function Rx(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function K4(t){const e=$e.fromString(t);return se(rL(e)),e}function qg(t,e){return b1(t.databaseId,e.path)}function Ra(t,e){const n=K4(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(X4(n))}function Q4(t,e){return b1(t.databaseId,e)}function Y4(t){const e=K4(t);return e.length===4?$e.emptyPath():X4(e)}function Nx(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X4(t){return se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _C(t,e,n){return{name:qg(t,e),fields:n.value.mapValue.fields}}function hG(t,e,n){const r=Ra(t,e.name),i=Un(e.updateTime),s=e.createTime?Un(e.createTime):le.min(),o=new Sn({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(se(u===void 0||typeof u=="string"),Lt.fromBase64String(u||"")):(se(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Lt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?z.UNKNOWN:H4(c.code);return new Y(u,c.message||"")}(o);n=new q4(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ra(t,r.document.name),s=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):le.min(),a=new Sn({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ra(t,r.document),s=r.readTime?Un(r.readTime):le.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ra(t,r.document),s=r.removedTargetIds||[];n=new zp([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nG(i,s),a=r.targetId;n=new W4(a,o)}}return n}function Gg(t,e){let n;if(e instanceof hu)n={update:_C(t,e.key,e.value)};else if(e instanceof o0)n={delete:qg(t,e.key)};else if(e instanceof Rs)n={update:_C(t,e.key,e.data),updateMask:bG(e.fieldMask)};else{if(!(e instanceof z4))return ie();n={verify:qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function Dx(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Yt.updateTime(Un(s.updateTime)):s.exists!==void 0?Yt.exists(s.exists):Yt.none()}(e.currentDocument):Yt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME"),l=new Hc;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Wc(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new qc(u)}else"increment"in a?l=new Uh(o,a.increment):ie();const c=ht.fromServerFormat(a.fieldPath);return new $4(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Ra(t,e.update.name),s=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new er(c.map(u=>ht.fromServerFormat(u)))}(e.updateMask);return new Rs(i,s,o,n,r)}return new hu(i,s,n,r)}if(e.delete){const i=Ra(t,e.delete);return new o0(i,n)}if(e.verify){const i=Ra(t,e.verify);return new z4(i,n)}return ie()}function mG(t,e){return t&&t.length>0?(se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Un(i.updateTime):Un(s);return o.isEqual(le.min())&&(o=Un(s)),new Zq(o,i.transformResults||[])}(n,e))):[]}function J4(t,e){return{documents:[Q4(t,e.path)]}}function Z4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q4(t,i);const s=function(c){if(c.length!==0)return nL(Ue.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ol(f.field),direction:gG(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Px(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function eL(t){let e=Y4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=tL(d);return f instanceof Ue&&f1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new jh(Ll(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,e0(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Uc(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new Uc(p,f)}(n.endAt)),$q(e,i,o,s,a,"F",l,c)}function pG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ll(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ll(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ll(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(Ll(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(r=>tL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function gG(t){return aG[t]}function yG(t){return lG[t]}function vG(t){return cG[t]}function Ol(t){return{fieldPath:t.canonicalString()}}function Ll(t){return ht.fromServerFormat(t.fieldPath)}function nL(t){return t instanceof Ae?function(n){if(n.op==="=="){if(sC(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(iC(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sC(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(iC(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:yG(n.op),value:n.value}}}(t):t instanceof Ue?function(n){const r=n.getFilters().map(i=>nL(i));return r.length===1?r[0]:{compositeFilter:{op:vG(n.op),filters:r}}}(t):ie()}function bG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.ct=e}}function wG(t,e){let n;if(e.document)n=hG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Z.fromSegments(e.noDocument.path),i=Xa(e.noDocument.readTime);n=_t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{const r=Z.fromSegments(e.unknownDocument.path),i=Xa(e.unknownDocument.version);n=_t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new gt(i[0],i[1]);return le.fromTimestamp(s)}(e.readTime)),n}function EC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:qg(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Gc(s,o.version.toTimestamp()),createTime:Gc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ya(e.version)};else{if(!e.isUnknownDocument())return ie();r.unknownDocument={path:n.path.toArray(),version:Ya(e.version)}}return r}function Kg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ya(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xa(t){const e=new gt(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function pa(t,e){const n=(e.baseMutations||[]).map(s=>Dx(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Dx(t.ct,s)),i=gt.fromMillis(e.localWriteTimeMs);return new p1(e.batchId,i,n,r)}function _d(t){const e=Xa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Xa(t.lastLimboFreeSnapshotVersion):le.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return se(s.documents.length===1),Ur(n0(Y4(s.documents[0])))}(t.query):function(s){return Ur(eL(s))}(t.query),new fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Lt.fromBase64String(t.resumeToken))}function sL(t,e){const n=Ya(e.snapshotVersion),r=Ya(e.lastLimboFreeSnapshotVersion);let i;i=zg(e.target)?J4(t.ct,e.target):Z4(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oL(t){const e=eL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}function tb(t,e){return new y1(e.largestBatchId,Dx(t.ct,e.overlayMutation))}function SC(t,e){const n=e.path.lastSegment();return[t,jn(e.path.popLast()),n]}function TC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ya(r.readTime),documentKey:jn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{getBundleMetadata(e,n){return kC(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Xa(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return kC(e).put(function(i){return{bundleId:i.id,createTime:Ya(Un(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return IC(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:oL(s.bundledQuery),readTime:Xa(s.readTime)}}(r)})}saveNamedQuery(e,n){return IC(e).put(function(i){return{name:i.name,readTime:Ya(Un(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function kC(t){return Ht(t,"bundles")}function IC(t){return Ht(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new l0(e,r)}getOverlay(e,n){return Xu(e).get(SC(this.userId,n)).next(r=>r?tb(this.serializer,r):null)}getOverlays(e,n){const r=Ci();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new y1(n,o);i.push(this.ht(e,a))}),$.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(jn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xu(e).j("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ci(),s=jn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=tb(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ci();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=tb(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Xu(e).put(function(i,s,o){const[a,l,c]=SC(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Gg(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Xu(t){return Ht(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{Pt(e){return Ht(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Lt.fromUint8Array(r):Lt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Lh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Is(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Do(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?b4(e)?this.dt(n,Number.MAX_SAFE_INTEGER):t0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ie()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ot(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}ga.vt=new ga;function EG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function CC(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=EG(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class SG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=CC(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=CC(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class kG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ju{constructor(){this.jt=new SG,this.Ht=new TG(this.jt),this.Jt=new kG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ya(this.indexId,this.documentKey,this.arrayValue,r)}}function js(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=AC(t.arrayValue,e.arrayValue),n!==0?n:(n=AC(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function AC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.Xt=new qe((n,r)=>ht.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(se(e.collectionGroup===this.collectionId),this.nn)return!1;const n=_x(e);if(n!==void 0&&!this.sn(n))return!1;const r=ca(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new qe(ht.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Fp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Fp(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Fp(r.field,r.dir==="asc"?0:1)));return new Ug(Ug.UNKNOWN_ID,this.collectionId,n,Oh.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){var e,n;if(se(t instanceof Ae||t instanceof Ue),t instanceof Ae){if(t instanceof C4){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ae.create(t.field,"==",s)))||[];return Ue.create(i,"or")}return t}const r=t.filters.map(i=>aL(i));return Ue.create(r,t.op)}function IG(t){if(t.getFilters().length===0)return[];const e=Lx(aL(t));return se(lL(e)),Mx(e)||Ox(e)?[e]:e.getFilters()}function Mx(t){return t instanceof Ae}function Ox(t){return t instanceof Ue&&f1(t)}function lL(t){return Mx(t)||Ox(t)||function(n){if(n instanceof Ue&&kx(n)){for(const r of n.getFilters())if(!Mx(r)&&!Ox(r))return!1;return!0}return!1}(t)}function Lx(t){if(se(t instanceof Ae||t instanceof Ue),t instanceof Ae)return t;if(t.filters.length===1)return Lx(t.filters[0]);const e=t.filters.map(r=>Lx(r));let n=Ue.create(e,t.op);return n=Qg(n),lL(n)?n:(se(n instanceof Ue),se(zc(n)),se(n.filters.length>1),n.filters.reduce((r,i)=>w1(r,i)))}function w1(t,e){let n;return se(t instanceof Ae||t instanceof Ue),se(e instanceof Ae||e instanceof Ue),n=t instanceof Ae?e instanceof Ae?function(i,s){return Ue.create([i,s],"and")}(t,e):RC(t,e):e instanceof Ae?RC(e,t):function(i,s){if(se(i.filters.length>0&&s.filters.length>0),zc(i)&&zc(s))return T4(i,s.getFilters());const o=kx(i)?i:s,a=kx(i)?s:i,l=o.filters.map(c=>w1(c,a));return Ue.create(l,"or")}(t,e),Qg(n)}function RC(t,e){if(zc(e))return T4(e,t.getFilters());{const n=e.filters.map(r=>w1(t,r));return Ue.create(n,"or")}}function Qg(t){if(se(t instanceof Ae||t instanceof Ue),t instanceof Ae)return t;const e=t.getFilters();if(e.length===1)return Qg(e[0]);if(E4(t))return t;const n=e.map(i=>Qg(i)),r=[];return n.forEach(i=>{i instanceof Ae?r.push(i):i instanceof Ue&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ue.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.un=new x1}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Er.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class x1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Uint8Array(0);class AG{constructor(e,n){this.databaseId=n,this.cn=new x1,this.ln=new Wo(r=>Qa(r),(r,i)=>kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:jn(i)};return NC(e).put(s)}return $.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[l4(n),""],!1,!0);return NC(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ii(o.parent))}return r})}addFieldIndex(e,n){const r=Zu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=kl(e);return s.next(a=>{o.put(TC(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Zu(e),i=kl(e),s=Tl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Zu(e),r=Tl(e),i=kl(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return $.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new PC(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Tl(e);let i=!0;const s=new Map;return $.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=be();const a=[];return $.forEach(s,(l,c)=>{q("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${Qa(n)}`);const u=function(E,C){const R=_x(C);if(R===void 0)return null;for(const P of Hg(E,R.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(c,l),d=function(E,C){const R=new Map;for(const P of ca(C))for(const I of Hg(E,P.fieldPath))switch(I.op){case"==":case"in":R.set(P.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return R.set(P.fieldPath.canonicalString(),I.value),Array.from(R.values())}return null}(c,l),f=function(E,C){const R=[];let P=!0;for(const I of ca(C)){const k=I.kind===0?uC(E,I.fieldPath,E.startAt):dC(E,I.fieldPath,E.startAt);R.push(k.value),P&&(P=k.inclusive)}return new Uc(R,P)}(c,l),p=function(E,C){const R=[];let P=!0;for(const I of ca(C)){const k=I.kind===0?dC(E,I.fieldPath,E.endAt):uC(E,I.fieldPath,E.endAt);R.push(k.value),P&&(P=k.inclusive)}return new Uc(R,P)}(c,l),g=this.In(l,c,f),y=this.In(l,c,p),v=this.Tn(l,c,d),b=this.En(l.indexId,u,g,f.inclusive,y,p.inclusive,v);return $.forEach(b,w=>r.G(w,n.limit).next(E=>{E.forEach(C=>{const R=Z.fromSegments(C.documentKey);o.has(R)||(o=o.add(R),a.push(R))})}))}).next(()=>a)}return $.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=IG(Ue.create(e.filters,"and")).map(r=>Cx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/c]):Vm,p=this.An(e,f,r[d%c],i),g=this.Rn(e,f,s[d%c],o),y=a.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(p,g,y))}return u}An(e,n,r,i){const s=new ya(e,Z.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new ya(e,Z.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new PC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return $.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new qe(ht.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Ju;for(const i of ca(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);ga.vt.It(s,o)}return r.zt()}dn(e){const n=new Ju;return ga.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Ju;return ga.vt.It(Bh(this.databaseId,n),r.Yt(function(s){const o=ca(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Ju);let s=0;for(const o of ca(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&$h(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);ga.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ju;l.seed(a.zt()),ga.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof Ae&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Zu(e),i=kl(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return $.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const f=d?new Oh(d.sequenceNumber,new Er(Xa(d.readTime),new Z(Ii(d.documentKey)),d.largestBatchId)):Oh.empty(),p=u.fields.map(([g,y])=>new Fp(ht.fromServerFormat(g),y));return new Ug(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Zu(e),s=kl(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>$.forEach(a,l=>s.put(TC(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),$.forEach(a,l=>this.wn(e,i,l).next(c=>{const u=this.Sn(s,l);return c.isEqual(u)?$.resolve():this.bn(e,s,l,c,u)}))))})}Dn(e,n,r,i){return Tl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Tl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Tl(e);let s=new qe(js);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new ya(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new qe(js);const i=this.Vn(n,e);if(i==null)return r;const s=_x(n);if(s!=null){const o=e.data.field(s.fieldPath);if($h(o))for(const a of o.arrayValue.values||[])r=r.add(new ya(n.indexId,e.key,this.dn(a),i))}else r=r.add(new ya(n.indexId,e.key,Vm,i));return r}bn(e,n,r,i,s){q("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,f){const p=l.getIterator(),g=c.getIterator();let y=Sl(p),v=Sl(g);for(;y||v;){let b=!1,w=!1;if(y&&v){const E=u(y,v);E<0?w=!0:E>0&&(b=!0)}else y!=null?w=!0:b=!0;b?(d(v),v=Sl(g)):w?(f(y),y=Sl(p)):(y=Sl(p),v=Sl(g))}}(i,s,js,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),$.waitFor(o)}yn(e){let n=1;return kl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>js(o,a)).filter((o,a,l)=>!a||js(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=js(o,e),l=js(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Vm,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Vm,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return js(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(DC)}getMinOffset(e,n){return $.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ie())).next(DC)}}function NC(t){return Ht(t,"collectionParents")}function Tl(t){return Ht(t,"indexEntries")}function Zu(t){return Ht(t,"indexConfiguration")}function kl(t){return Ht(t,"indexState")}function DC(t){se(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;l1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Er(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{se(a===1)}));const c=[];for(const u of n.mutations){const d=f4(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return $.waitFor(s).next(()=>c)}function Yg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class c0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){se(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new c0(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vl(e),o=Us(e);return o.add({}).next(a=>{se(typeof a=="number");const l=new p1(a,n,r,i),c=function(p,g,y){const v=y.baseMutations.map(w=>Gg(p.ct,w)),b=y.mutations.map(w=>Gg(p.ct,w));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,l),u=[];let d=new qe((f,p)=>ge(f.canonicalString(),p.canonicalString()));for(const f of i){const p=f4(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,uq))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),$.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Us(e).get(n).next(r=>r?(se(r.userId===this.userId),pa(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?$.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Us(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(se(a.batchId>=r),s=pa(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Us(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).U("userMutationsIndex",n).next(r=>r.map(i=>pa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Bp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vl(e).J({range:i},(o,a,l)=>{const[c,u,d]=o,f=Ii(u);if(c===this.userId&&n.path.isEqual(f))return Us(e).get(d).next(p=>{if(!p)throw ie();se(p.userId===this.userId),s.push(pa(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ge);const i=[];return n.forEach(s=>{const o=Bp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vl(e).J({range:a},(c,u,d)=>{const[f,p,g]=c,y=Ii(p);f===this.userId&&s.path.isEqual(y)?r=r.add(g):d.done()});i.push(l)}),$.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Bp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new qe(ge);return Vl(e).J({range:o},(l,c,u)=>{const[d,f,p]=l,g=Ii(f);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Us(e).get(s).next(o=>{if(o===null)throw ie();se(o.userId===this.userId),r.push(pa(this.serializer,o))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return cL(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Vl(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ii(s[1]);i.push(l)}else a.done()}).next(()=>{se(i.length===0)})})}containsKey(e,n){return uL(e,this.userId,n)}Nn(e){return dL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uL(t,e,n){const r=Bp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vl(t).J({range:s,H:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Us(t){return Ht(t,"mutations")}function Vl(t){return Ht(t,"documentMutations")}function dL(t){return Ht(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ja(0)}static kn(){return new Ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ja(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>le.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Il(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(se(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Il(e).J((o,a)=>{const l=_d(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Il(e).J((r,i)=>{const s=_d(i);n(s)})}qn(e){return OC(e).get("targetGlobalKey").next(n=>(se(n!==null),n))}Qn(e,n){return OC(e).put("targetGlobalKey",n)}Kn(e,n){return Il(e).put(sL(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Qa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Il(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=_d(a);kf(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=io(e);return n.forEach(o=>{const a=jn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),$.waitFor(i)}removeMatchingKeys(e,n,r){const i=io(e);return $.forEach(n,s=>{const o=jn(s.path);return $.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=io(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=io(e);let s=be();return i.J({range:r,H:!0},(o,a,l)=>{const c=Ii(o[1]),u=new Z(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=jn(n.path),i=IDBKeyRange.bound([r],[l4(r)],!1,!0);let s=0;return io(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return Il(e).get(n).next(r=>r?_d(r):null)}}function Il(t){return Ht(t,"targets")}function OC(t){return Ht(t,"targetGlobal")}function io(t){return Ht(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class RG{constructor(e){this.Un=e,this.buffer=new qe(LC),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Hn(3e5)})}}class DG{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Br.oe);const r=new RG(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(MC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MC):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Dl()<=ke.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function MG(t,e){return new DG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n){this.db=e,this.garbageCollector=MG(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Fm(e,r)}removeReference(e,n,r){return Fm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Fm(e,n)}nr(e,n){return function(i,s){let o=!1;return dL(i).Y(a=>uL(i,a,s).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,le.min()),io(e).delete(function(d){return[0,jn(d.path)]}(o))))});i.push(l)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Fm(e,n)}tr(e,n){const r=io(e);let i,s=Br.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Br.oe&&n(new Z(Ii(i)),s),s=c,i=l):s=Br.oe}).next(()=>{s!==Br.oe&&n(new Z(Ii(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fm(t,e){return io(t).put(function(r,i){return{targetId:0,path:jn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ea(e).put(r)}removeEntry(e,n,r){return ea(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Kg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=_t.newInvalidDocument(n);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ed(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:_t.newInvalidDocument(n)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ed(n))},(i,s)=>{r={document:this.ir(n,s),size:Yg(s)}}).next(()=>r)}getEntries(e,n){let r=gr();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=gr(),i=new ct(Z.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Yg(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return $.resolve();let i=new qe(BC);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ed(i.first()),ed(i.last())),o=i.getIterator();let a=o.getNext();return ea(e).J({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=Z.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&BC(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.$(ed(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Kg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=gr();for(const d of c){const f=this.ir(Z.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(If(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=gr();const o=FC(n,r),a=FC(n,Er.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.ir(Z.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new VG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return VC(e).get("remoteDocumentGlobalKey").next(n=>(se(!!n),n))}rr(e,n){return VC(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=wG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(le.min())))return r}return _t.newInvalidDocument(e)}}function fL(t){return new LG(t)}class VG extends hL{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Wo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new qe((s,o)=>ge(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=EC(this.cr.serializer,o);i=i.add(s.path.popLast());const c=Yg(l);r+=c-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=EC(this.cr.serializer,o.convertToNoDocument(le.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function VC(t){return Ht(t,"remoteDocumentGlobal")}function ea(t){return Ht(t,"remoteDocumentsV14")}function ed(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FC(t,e){const n=e.documentKey.path.toArray();return[t,Kg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function BC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ge(n[s],r[s]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jd(r.mutation,i,er.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=Xd(),a=function(){return Xd()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Rs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Jd(u.mutation,c,u.mutation.getFieldMask(),gt.now())):o.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new FG(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xd();let i=new ct((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||er.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=M4();u.forEach(f=>{if(!s.has(f)){const p=j4(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Ci());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,be())).next(u=>({batchId:a,changes:D4(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wd();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(d,f){return new du(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let a=wd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Jd(u.mutation,c,er.empty(),gt.now()),If(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:oL(i.bundledQuery),readTime:Un(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.overlays=new ct(Z.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Ci(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ci(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ci(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y1(n,r));let s=this.Ir.get(n);s===void 0&&(s=be(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Tr=new qe(Kt.Er),this.dr=new qe(Kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Z(new $e([])),r=new Kt(n,e),i=new Kt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Z(new $e([])),r=new Kt(n,e),i=new Kt(n,e+1);let s=be();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qe(Kt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p1(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ge);return n.forEach(i=>{const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new Kt(new Z(s),0);let a=new qe(ge);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new Kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Kt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e){this.Mr=e,this.docs=function(){return new ct(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||l1(c4(u),r)<=0||(i.has(u.key)||If(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HG(this)}getSize(e){return $.resolve(this.size)}}class HG extends hL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.persistence=e,this.Nr=new Wo(n=>Qa(n),kf),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _1,this.targetCount=0,this.kr=Ja.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Br(0),this.Kr=!1,this.Kr=!0,this.$r=new jG,this.referenceDelegate=e(this),this.Ur=new WG(this),this.indexManager=new CG,this.remoteDocumentCache=function(i){return new zG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iL(n),this.Gr=new BG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $G,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new qG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qG extends d4{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Jr=new _1,this.Yr=null}static Zr(e){return new u0(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Zy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZI,{unique:!0}),l.createObjectStore("documentMutations")}(e),$C(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),$C(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZI,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return $.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:_q});c.createIndex("collectionPathOverlayIndex",Eq,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Sq,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:dq});c.createIndex("documentKeyIndex",hq),c.createIndex("collectionGroupIndex",fq)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:vq}).createIndex("sequenceNumberIndex",bq,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:wq}).createIndex("documentKeyIndex",xq,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Yg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>$.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>$.forEach(a,l=>{se(l.userId===s.userId);const c=pa(this.serializer,l);return cL(e,s.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new $e(o),c=function(d){return[0,jn(d)]}(l);s.push(n.get(c).next(u=>u?$.resolve():(d=>n.put({targetId:0,path:jn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:yq});const r=n.store("collectionParents"),i=new x1,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:jn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new $e(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const u=Ii(a);return s(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=_d(i),o=sL(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Z($e.fromString(d.document.name).popFirst(5)):d.noDocument?Z.fromSegments(d.noDocument.path):d.unknownDocument?Z.fromSegments(d.unknownDocument.path):ie()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>$.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=fL(this.serializer),s=new pL(u0.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:be();pa(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),$.forEach(a,(l,c)=>{const u=new Vn(c),d=l0.lt(this.serializer,u),f=s.getIndexManager(u),p=c0.lt(u,this.serializer,f,s.referenceDelegate);return new mL(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Ex(n,Br.oe),l).next()})})}}function $C(t){t.createObjectStore("targetDocuments",{keyPath:pq}).createIndex("documentTargetsIndex",gq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mq,{unique:!0}),t.createObjectStore("targetGlobal")}const nb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class E1{constructor(e,n,r,i,s,o,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!E1.D())throw new Y(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OG(this,i),this.Ai=n+"main",this.serializer=new iL(l),this.Ri=new Io(this.Ai,this.hi,new GG(this.serializer)),this.$r=new _G,this.Ur=new PG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fL(this.serializer),this.Gr=new xG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(z.FAILED_PRECONDITION,nb);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Br(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Ho(e))return q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return td(e).get("owner").next(n=>$.resolve(this.vi(n)))}Ci(e){return Bm(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ht(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?$.resolve(!0):td(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Y(z.FAILED_PRECONDITION,nb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bm(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&q("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Ex(e,Br.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Bm(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return c0.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new AG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return l0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?Iq:l===16?kq:l===15?u1:l===14?g4:l===13?p4:l===12?Tq:l===11?m4:void ie()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new Ex(a,this.Qr?this.Qr.next():Br.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Y(z.FAILED_PRECONDITION,u4);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return td(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(z.FAILED_PRECONDITION,nb)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(e).put("owner",n)}static D(){return Io.D()}bi(e){const n=td(e);return n.get("owner").next(r=>this.vi(r)?(q("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Fn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;fO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Fn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function td(t){return Ht(t,"owner")}function Bm(t){return Ht(t,"clientMetadata")}function KG(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fO()?8:h4(zt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QG;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Dl()<=ke.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Dl()<=ke.DEBUG&&q("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Dl()<=ke.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):$.resolve())}Yi(e,n){if(hC(n))return $.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wg(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Wg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return hC(n)||i.isEqual(le.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Dl()<=ke.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ml(n)),this.rs(e,o,n,rq(i,-1)).next(a=>a))})}ts(e,n){let r=new qe(R4(e));return n.forEach((i,s)=>{If(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Dl()<=ke.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.Ji.getDocumentsMatchingQuery(e,n,Er.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ct(ge),this._s=new Wo(s=>Qa(s),kf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function yL(t,e,n,r){return new YG(t,e,n,r)}async function vL(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function XG(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);se(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bL(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function JG(t,e){const n=me(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Ur.updateTargetData(s,p))});let l=gr(),c=be();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(ZG(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(le.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function ZG(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function eK(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tK(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Vx(t,e,n){const r=me(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ho(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function jC(t,e,n){const r=me(t);let i=le.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=me(l),f=d._s.get(u);return f!==void 0?$.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:be())).next(a=>(nK(r,Uq(e),a),{documents:a,Ts:s})))}function nK(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class UC{constructor(){this.activeTargetIds=Kq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wL{constructor(){this.so=new UC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new UC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m=null;function rb(){return $m===null?$m=function(){return 268435456+Math.round(2147483648*Math.random())}():$m++,"0x"+$m.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class oK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=rb(),l=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Bc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=iK[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=rb();return new Promise((o,a)=>{const l=new n4;l.setWithCredentials(!0),l.listenOnce(r4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vp.NO_ERROR:const u=l.getResponseJson();q(bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Vp.TIMEOUT:q(bn,`RPC '${e}' ${s} timed out`),a(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Vp.HTTP_ERROR:const d=l.getStatus();if(q(bn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(p.status);a(new Y(g,p.message))}else a(new Y(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{q(bn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(bn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=rb(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o4(),a=s4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");q(bn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const g=new sK({Io:v=>{p?q(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(q(bn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(bn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,b,w)=>{v.listen(b,E=>{try{w(E)}catch(C){setTimeout(()=>{throw C},0)}})};return y(d,bd.EventType.OPEN,()=>{p||(q(bn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,bd.EventType.CLOSE,()=>{p||(p=!0,q(bn,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,bd.EventType.ERROR,v=>{p||(p=!0,Bc(bn,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),y(d,bd.EventType.MESSAGE,v=>{var b;if(!p){const w=v.data[0];se(!!w);const E=w,C=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(C){q(bn,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let P=function(A){const S=Pt[A];if(S!==void 0)return H4(S)}(R),I=C.message;P===void 0&&(P=z.INTERNAL,I="Unknown error status: "+R+" with message "+C.message),p=!0,g.So(new Y(P,I)),d.close()}else q(bn,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),y(a,i4.STAT_EVENT,v=>{v.stat===xx.PROXY?q(bn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===xx.NOPROXY&&q(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(){return typeof window<"u"?window:null}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return new uG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lK extends _L{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fG(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Un(o.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nx(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zg(l)?{documents:J4(s,l)}:{query:Z4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=G4(s,o.resumeToken);const c=Px(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Gc(s,o.snapshotVersion.toTimestamp());const c=Px(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nx(this.serializer),n.removeTarget=e,this.a_(n)}}class cK extends _L{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return se(!!e.streamToken),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mG(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Gg(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Rx(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Rx(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{hl(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=me(l);c.L_.add(4),await fu(c),c.q_.set("Unknown"),c.L_.delete(4),await Af(c)}(this))})}),this.q_=new dK(r,i)}}async function Af(t){if(hl(t))for(const e of t.B_)await e(!0)}async function fu(t){for(const e of t.B_)await e(!1)}function EL(t,e){const n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),C1(n)?I1(n):mu(n).r_()&&k1(n,e))}function T1(t,e){const n=me(t),r=mu(n);n.N_.delete(e),r.r_()&&SL(n,e),n.N_.size===0&&(r.r_()?r.o_():hl(n)&&n.q_.set("Unknown"))}function k1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).A_(e)}function SL(t,e){t.Q_.xe(e),mu(t).R_(e)}function I1(t){t.Q_=new oG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.q_.v_()}function C1(t){return hl(t)&&!mu(t).n_()&&t.N_.size>0}function hl(t){return me(t).L_.size===0}function TL(t){t.Q_=void 0}async function fK(t){t.q_.set("Online")}async function mK(t){t.N_.forEach((e,n)=>{k1(t,e)})}async function pK(t,e){TL(t),C1(t)?(t.q_.M_(e),I1(t)):t.q_.set("Unknown")}async function gK(t,e,n){if(t.q_.set("Online"),e instanceof q4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xg(t,r)}else if(e instanceof zp?t.Q_.Ke(e):e instanceof W4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{const r=await bL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Lt.EMPTY_BYTE_STRING,u.snapshotVersion)),SL(s,l);const d=new fs(u.target,l,c,u.sequenceNumber);k1(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Xg(t,r)}}async function Xg(t,e,n){if(!Ho(e))throw e;t.L_.add(1),await fu(t),t.q_.set("Offline"),n||(n=()=>bL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Af(t)})}function kL(t,e){return e().catch(n=>Xg(t,n,e))}async function Pf(t){const e=me(t),n=Oo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yK(e);)try{const i=await eK(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,vK(e,i)}catch(i){await Xg(e,i)}IL(e)&&CL(e)}function yK(t){return hl(t)&&t.O_.length<10}function vK(t,e){t.O_.push(e);const n=Oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function IL(t){return hl(t)&&!Oo(t).n_()&&t.O_.length>0}function CL(t){Oo(t).start()}async function bK(t){Oo(t).p_()}async function wK(t){const e=Oo(t);for(const n of t.O_)e.m_(n.mutations)}async function xK(t,e,n){const r=t.O_.shift(),i=g1.from(r,e,n);await kL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pf(t)}async function _K(t,e){e&&Oo(t).V_&&await async function(r,i){if(function(o){return rG(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Oo(r).s_(),await kL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pf(r)}}(t,e),IL(t)&&CL(t)}async function HC(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=hl(n);n.L_.add(3),await fu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Af(n)}async function EK(t,e){const n=me(t);e?(n.L_.delete(2),await Af(n)):e||(n.L_.add(2),await fu(n),n.q_.set("Unknown"))}function mu(t){return t.K_||(t.K_=function(n,r,i){const s=me(n);return s.w_(),new lK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:fK.bind(null,t),Ro:mK.bind(null,t),mo:pK.bind(null,t),d_:gK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),C1(t)?I1(t):t.q_.set("Unknown")):(await t.K_.stop(),TL(t))})),t.K_}function Oo(t){return t.U_||(t.U_=function(n,r,i){const s=me(n);return s.w_(),new cK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:bK.bind(null,t),mo:_K.bind(null,t),f_:wK.bind(null,t),g_:xK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Pf(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new A1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P1(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),Ho(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=wd(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new xc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.W_=new ct(Z.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kc(e,n,xc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TK{constructor(){this.queries=qC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=me(n),s=i.queries;i.queries=qC(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function qC(){return new Wo(t=>P4(t),r0)}async function AL(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new SK,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=P1(o,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&R1(n)}async function PL(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kK(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&R1(n)}function IK(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function R1(t){t.Y_.forEach(e=>{e.next()})}var Fx,GC;(GC=Fx||(Fx={})).ea="default",GC.Cache="cache";class RL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.key=e}}class DL{constructor(e){this.key=e}}class CK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=R4(e),this.Ra=new xc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new WC,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=If(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.ga(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return y(p)-y(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Kc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new WC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new DL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new NL(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PK{constructor(e){this.key=e,this.va=!1}}class RK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wo(a=>P4(a),r0),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(Z.comparator),this.Na=new Map,this.La=new _1,this.Ba={},this.ka=new Map,this.qa=Ja.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function NK(t,e,n=!0){const r=BL(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ML(r,e,n,!0),i}async function DK(t,e){const n=BL(t);await ML(n,e,!0,!1)}async function ML(t,e,n,r){const i=await tK(t.localStore,Ur(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await MK(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EL(t.remoteStore,i),a}async function MK(t,e,n,r,i){t.Ka=(d,f,p)=>async function(y,v,b,w){let E=v.view.ma(b);E.ns&&(E=await jC(y.localStore,v.query,!1).then(({documents:I})=>v.view.ma(I,E)));const C=w&&w.targetChanges.get(v.targetId),R=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(E,y.isPrimaryClient,C,R);return QC(y,v.targetId,P.wa),P.snapshot}(t,d,f,p);const s=await jC(t.localStore,e,!0),o=new CK(e,s.Ts),a=o.ma(s.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);QC(t,n,c.wa);const u=new AK(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function OK(t,e,n){const r=me(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!r0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T1(r.remoteStore,i.targetId),Bx(r,i.targetId)}).catch(ul)):(Bx(r,i.targetId),await Vx(r.localStore,i.targetId,!0))}async function LK(t,e){const n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T1(n.remoteStore,r.targetId))}async function VK(t,e,n){const r=$L(t);try{const i=await function(o,a){const l=me(o),c=gt.now(),u=a.reduce((p,g)=>p.add(g.key),be());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=gr(),y=be();return l.cs.getEntries(p,u).next(v=>{g=v,g.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const b=[];for(const w of a){const E=tG(w,d.get(w.key).overlayedDocument);E!=null&&b.push(new Rs(w.key,E,x4(E.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(v=>{f=v;const b=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:f.batchId,changes:D4(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ct(ge)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Rf(r,i.changes),await Pf(r.remoteStore)}catch(i){const s=P1(i,"Failed to persist write");n.reject(s)}}async function OL(t,e){const n=me(t);try{const r=await JG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?se(o.va):i.removedDocuments.size>0&&(se(o.va),o.va=!1))}),await Rf(n,r,e)}catch(r){await ul(r)}}function KC(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&R1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FK(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ct(Z.comparator);o=o.insert(s,_t.newNoDocument(s,le.min()));const a=be().add(s),l=new a0(le.min(),new Map,new ct(ge),o,a);await OL(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),N1(r)}else await Vx(r.localStore,e,!1).then(()=>Bx(r,e,n)).catch(ul)}async function BK(t,e){const n=me(t),r=e.batch.batchId;try{const i=await XG(n.localStore,e);VL(n,r,null),LL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rf(n,i)}catch(i){await ul(i)}}async function $K(t,e,n){const r=me(t);try{const i=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(se(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);VL(r,e,n),LL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rf(r,i)}catch(i){await ul(i)}}function LL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VL(t,e,n){const r=me(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||FL(t,r)})}function FL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(T1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),N1(t))}function QC(t,e,n){for(const r of n)r instanceof NL?(t.La.addReference(r.key,e),jK(t,r)):r instanceof DL?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||FL(t,r.key)):ie()}function jK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),N1(t))}function N1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Z($e.fromString(e)),r=t.qa.next();t.Na.set(r,new PK(n)),t.Oa=t.Oa.insert(n,r),EL(t.remoteStore,new fs(Ur(n0(n.path)),r,"TargetPurposeLimboResolution",Br.oe))}}async function Rf(t,e,n){const r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=S1.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,f=>$.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>$.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Ho(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.os.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(f,y)}}}(r.localStore,s))}async function UK(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await vL(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Y(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rf(n,r.hs)}}function zK(t,e){const n=me(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function BL(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FK.bind(null,e),e.Ca.d_=kK.bind(null,e.eventManager),e.Ca.$a=IK.bind(null,e.eventManager),e}function $L(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$K.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=d0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return yL(this.persistence,new gL,e.initialUser,this.serializer)}Ga(e){return new pL(u0.Zr,this.serializer)}Wa(e){return new wL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class jL extends zh{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await $L(this.Ja.syncEngine),await Pf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return yL(this.persistence,new gL,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new NG(r,e.asyncQueue,n)}Ha(e,n){const r=new aq(n,this.persistence);return new oq(e.asyncQueue,r)}Ga(e){const n=KG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new E1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,aK(),Hp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new wL}}class Hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UK.bind(null,this.syncEngine),await EK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TK}()}createDatastore(e){const n=d0(e.databaseInfo.databaseId),r=function(s){return new oK(s)}(e.databaseInfo);return function(s,o,a,l){return new uK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new hK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KC(this.syncEngine,n,0),function(){return zC.D()?new zC:new rK}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new RK(i,s,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=me(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await fu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hh.provider={build:()=>new Hh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=a4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ib(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zL(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HC(e.remoteStore,i)),t._onlineComponents=e}async function zL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await ib(t,new zh)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await ib(t,new zh);return t._offlineComponents}async function D1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await YC(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await YC(t,new Hh))),t._onlineComponents}function HL(t){return zL(t).then(e=>e.persistence)}function WL(t){return D1(t).then(e=>e.remoteStore)}function WK(t){return D1(t).then(e=>e.syncEngine)}async function qL(t){const e=await D1(t),n=e.eventManager;return n.onListen=NK.bind(null,e.syncEngine),n.onUnlisten=OK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LK.bind(null,e.syncEngine),n}function qK(t){return t.asyncQueue.enqueue(async()=>{const e=await HL(t),n=await WL(t);return e.setNetworkEnabled(!0),function(i){const s=me(i);return s.L_.delete(0),Af(s)}(n)})}function GK(t){return t.asyncQueue.enqueue(async()=>{const e=await HL(t),n=await WL(t);return e.setNetworkEnabled(!1),async function(i){const s=me(i);s.L_.add(0),await fu(s),s.q_.set("Offline")}(n)})}function KK(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new UL({next:f=>{u.Za(),o.enqueueAndForget(()=>PL(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Y(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new RL(n0(a.path),u,{includeMetadataChanges:!0,_a:!0});return AL(s,d)}(await qL(t),t.asyncQueue,e,n,r)),r.promise}function QK(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new UL({next:f=>{u.Za(),o.enqueueAndForget(()=>PL(s,d)),f.fromCache&&l.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new RL(a,u,{includeMetadataChanges:!0,_a:!0});return AL(s,d)}(await qL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YK(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JC(t){if(!Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZC(t){if(Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function h0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h0(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QW;switch(r.type){case"firstParty":return new JW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XC.get(n);r&&(q("ComponentProvider","Removing Datastore"),XC.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Co extends qo{constructor(e,n,r){super(e,n,n0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Z(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Ze(t),KL("collection","path",e),t instanceof M1){const r=$e.fromString(e,...n);return ZC(r),new Co(t,null,r)}{if(!(t instanceof zn||t instanceof Co))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return ZC(r),new Co(t.firestore,null,r)}}function Lr(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=a4.newId()),KL("doc","path",e),t instanceof M1){const r=$e.fromString(e,...n);return JC(r),new zn(t,null,new Z(r))}{if(!(t instanceof zn||t instanceof Co))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return JC(r),new zn(t.firestore,t instanceof Co?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xL(this,"async_queue_retry"),this.Vu=()=>{const r=Hp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ho(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=A1.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=-1;class Wi extends M1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tA(e),this._firestoreClient=void 0,await e}}}function JK(t,e,n){n||(n="(default)");const r=Qy(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Rh(s,e))return i;throw new Y(z.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Y(z.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function pu(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QL(t),t._firestoreClient}function QL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new Aq(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HK(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function ZK(t,e){Bc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return eQ(t,Hh.provider,{build:r=>new jL(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function eQ(t,e,n){if((t=Sr(t,Wi))._firestoreClient||t._terminated)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Y(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},QL(t)}function tQ(t){return qK(pu(t=Sr(t,Wi)))}function nQ(t){return GK(pu(t=Sr(t,Wi)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(Lt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qc(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=/^__.*__$/;class iQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class YL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class V1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new V1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XL(this.Cu)&&rQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||d0(e)}Qu(e,n,r,i=!1){return new V1({Cu:e,methodName:n,qu:r,path:ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Df(t){const e=t._freezeSettings(),n=d0(t._databaseId);return new sQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F1(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);$1("Data must be an object, but it was:",o,r);const a=eV(r,o);let l,c;if(s.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=$x(e,d,n);if(!o.contains(f))throw new Y(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nV(u,f)||u.push(f)}l=new er(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new iQ(new Sn(a),l,c)}class m0 extends f0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}class B1 extends f0{_toFieldTransform(e){return new $4(e.path,new Hc)}isEqual(e){return e instanceof B1}}function JL(t,e,n,r){const i=t.Qu(1,e,n);$1("Data must be an object, but it was:",i,r);const s=[],o=Sn.empty();dl(r,(l,c)=>{const u=j1(e,l,n);c=Ze(c);const d=i.Nu(u);if(c instanceof m0)s.push(u);else{const f=Mf(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new er(s);return new YL(o,a,i.fieldTransforms)}function ZL(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[$x(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push($x(e,s[f])),l.push(s[f+1]);const c=[],u=Sn.empty();for(let f=a.length-1;f>=0;--f)if(!nV(c,a[f])){const p=a[f];let g=l[f];g=Ze(g);const y=o.Nu(p);if(g instanceof m0)c.push(p);else{const v=Mf(g,y);v!=null&&(c.push(p),u.set(p,v))}}const d=new er(c);return new YL(u,d,o.fieldTransforms)}function oQ(t,e,n,r=!1){return Mf(n,t.Qu(r?4:3,e))}function Mf(t,e){if(tV(t=Ze(t)))return $1("Unsupported field value:",e,t),eV(t,e);if(t instanceof f0)return function(r,i){if(!XL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Mf(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:Gc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gc(i.serializer,s)}}if(r instanceof O1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qc)return{bytesValue:G4(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof L1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return m1(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${h0(r)}`)}(t,e)}function eV(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(t,(r,i)=>{const s=Mf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof O1||t instanceof Qc||t instanceof zn||t instanceof f0||t instanceof L1)}function $1(t,e,n){if(!tV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=h0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $x(t,e,n){if((e=Ze(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return j1(t,e);throw Jg("Field path arguments must be of type string or ",t,!1,void 0,n)}const aQ=new RegExp("[~\\*/\\[\\]]");function j1(t,e,n){if(e.search(aQ)>=0)throw Jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw Jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(z.INVALID_ARGUMENT,a+t+l)}function nV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lQ extends rV{data(){return super.data()}}function p0(t,e){return typeof e=="string"?j1(t,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U1{}class z1 extends U1{}function nA(t,e,...n){let r=[];e instanceof U1&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof H1).length,a=s.filter(l=>l instanceof g0).length;if(o>1||o>0&&a>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class g0 extends z1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new g0(e,n,r)}_apply(e){const n=this._parse(e);return iV(e._query,n),new qo(e.firestore,e.converter,Ax(e._query,n))}_parse(e){const n=Df(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){oA(d,u);const p=[];for(const g of d)p.push(sA(l,s,g));f={arrayValue:{values:p}}}else f=sA(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||oA(d,u),f=oQ(a,o,d,u==="in"||u==="not-in");return Ae.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rA(t,e,n){const r=e,i=p0("where",t);return g0._create(i,r,n)}class H1 extends U1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)iV(o,l),o=Ax(o,l)}(e._query,n),new qo(e.firestore,e.converter,Ax(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W1 extends z1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W1(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(s,o)}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new du(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function uQ(t,e="asc"){const n=e,r=p0("orderBy",t);return W1._create(r,n)}class q1 extends z1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new q1(e,n,r)}_apply(e){return new qo(e.firestore,e.converter,Wg(e._query,this._limit,this._limitType))}}function iA(t){return q1._create("limit",t,"F")}function sA(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A4(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!Z.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bh(t,new Z(r))}if(n instanceof zn)return Bh(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h0(n)}.`)}function oA(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iV(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dQ{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new L1(s)}convertGeoPoint(e){return new O1(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=h1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const n=Is(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);se(rL(r));const i=new Ga(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sV extends rV{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(p0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wp extends sV{data(e={}){return super.data(e)}}class hQ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wp(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:fQ(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){t=Sr(t,zn);const e=Sr(t.firestore,Wi);return KK(pu(e),t._key).then(n=>pQ(e,t,n))}class oV extends dQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Zg(t){t=Sr(t,qo);const e=Sr(t.firestore,Wi),n=pu(e),r=new oV(e);return cQ(t._query),QK(n,t._query).then(i=>new hQ(e,r,t,i))}function mQ(t,e,n){t=Sr(t,zn);const r=Sr(t.firestore,Wi),i=G1(t.converter,e,n);return y0(r,[F1(Df(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yt.none())])}function sb(t,e,n,...r){t=Sr(t,zn);const i=Sr(t.firestore,Wi),s=Df(i);let o;return o=typeof(e=Ze(e))=="string"||e instanceof Nf?ZL(s,"updateDoc",t._key,e,n,r):JL(s,"updateDoc",t._key,e),y0(i,[o.toMutation(t._key,Yt.exists(!0))])}function aV(t,e){const n=Sr(t.firestore,Wi),r=Lr(t),i=G1(t.converter,e);return y0(n,[F1(Df(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function y0(t,e){return function(r,i){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>VK(await WK(r),i,s)),s.promise}(pu(t),e)}function pQ(t,e,n){const r=n.docs.get(e._key),i=new oV(t);return new sV(t,i,e._key,r,new Ed(n.hasPendingWrites,n.fromCache),e.converter)}class gQ{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=lV(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function yQ(t){return new gQ(t)}class vQ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Hh.provider,this._offlineComponentProvider={build:n=>new jL(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function lV(t){return new vQ(void 0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Df(e)}set(e,n,r){this._verifyNotCommitted();const i=ob(e,this._firestore),s=G1(i.converter,n,r),o=F1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Yt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ob(e,this._firestore);let o;return o=typeof(n=Ze(n))=="string"||n instanceof Nf?ZL(this._dataReader,"WriteBatch.update",s._key,n,r,i):JL(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Yt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ob(e,this._firestore);return this._mutations=this._mutations.concat(new o0(n._key,Yt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ob(t,e){if((t=Ze(t)).firestore!==e)throw new Y(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function va(){return new B1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(t){return pu(t=Sr(t,Wi)),new bQ(t,e=>y0(t,e))}(function(e,n=!0){(function(i){uu=i})(ll),za(new No("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Wi(new YW(r.getProvider("auth-internal")),new eq(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Di(YI,"4.7.3",e),Di(YI,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="firebasestorage.googleapis.com",uV="storageBucket",xQ=2*60*1e3,_Q=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends zi{constructor(e,n,r=0){super(ab(e),`Firebase Storage: ${n} (${ab(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ab(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function ab(t){return"storage/"+t}function K1(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(St.UNKNOWN,t)}function EQ(t){return new Tt(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SQ(t){return new Tt(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(St.UNAUTHENTICATED,t)}function kQ(){return new Tt(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IQ(t){return new Tt(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function CQ(){return new Tt(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AQ(){return new Tt(St.CANCELED,"User canceled the upload/download.")}function PQ(t){return new Tt(St.INVALID_URL,"Invalid URL '"+t+"'.")}function RQ(t){return new Tt(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NQ(){return new Tt(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uV+"' property when initializing the app?")}function DQ(){return new Tt(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MQ(){return new Tt(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OQ(t){return new Tt(St.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ux(t){return new Tt(St.INVALID_ARGUMENT,t)}function dV(){return new Tt(St.APP_DELETED,"The Firebase app was deleted.")}function LQ(t){return new Tt(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zd(t,e){return new Tt(St.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nd(t){throw new Tt(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw RQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===cV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${v}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<E.length;C++){const R=E[C],P=R.regex.exec(e);if(P){const I=P[R.indices.bucket];let k=P[R.indices.path];k||(k=""),r=new yr(I,k),R.postModify(r);break}}if(r==null)throw PQ(e);return r}}class VQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function f(){s&&clearTimeout(s)}function p(v,...b){if(c){f();return}if(v){f(),u.call(null,v,...b);return}if(l()||o){f(),u.call(null,v,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let g=!1;function y(v){g||(g=!0,f(),!c&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function BQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t){return t!==void 0}function jQ(t){return typeof t=="object"&&!Array.isArray(t)}function Q1(t){return typeof t=="string"||t instanceof String}function aA(t){return Y1()&&t instanceof Blob}function Y1(){return typeof Blob<"u"}function lA(t,e,n,r){if(r<e)throw Ux(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ux(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Na;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Na||(Na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new jm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Na.NO_ERROR,l=s.getStatus();if(!a||UQ(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Na.ABORT;r(!1,new jm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new jm(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$Q(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=K1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?dV():AQ();o(l)}else{const l=CQ();o(l)}};this.canceled_?n(!1,new jm(!1,null,!0)):this.backoffId_=FQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KQ(t,e,n,r,i,s,o=!0){const a=hV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return qQ(c,e),HQ(c,n),WQ(c,s),GQ(c,r),new zQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YQ(...t){const e=QQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Y1())return new Blob(t);throw new Tt(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){if(typeof atob>"u")throw OQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lb{constructor(e,n){this.data=e,this.contentType=n||null}}function ZQ(t,e){switch(t){case Ai.RAW:return new lb(fV(e));case Ai.BASE64:case Ai.BASE64URL:return new lb(mV(t,e));case Ai.DATA_URL:return new lb(tY(e),nY(e))}throw K1()}function fV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eY(t){let e;try{e=decodeURIComponent(t)}catch{throw Zd(Ai.DATA_URL,"Malformed data URL.")}return fV(e)}function mV(t,e){switch(t){case Ai.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JQ(e)}catch(i){throw i.message.includes("polyfill")?i:Zd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zd(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tY(t){const e=new pV(t);return e.base64?mV(Ai.BASE64,e.rest):eY(e.rest)}function nY(t){return new pV(t).contentType}function rY(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){let r=0,i="";aA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(aA(this.data_)){const r=this.data_,i=XQ(r,e,n);return i===null?null:new so(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new so(r,!0)}}static getBlob(...e){if(Y1()){const n=e.map(r=>r instanceof so?r.data_:r);return new so(YQ.apply(null,n))}else{const n=e.map(o=>Q1(o)?ZQ(Ai.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new so(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){let e;try{e=JSON.parse(t)}catch{return null}return jQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t,e){return e}class On{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||oY}}let Um=null;function aY(t){return!Q1(t)||t.length<2?t:yV(t)}function vV(){if(Um)return Um;const t=[];t.push(new On("bucket")),t.push(new On("generation")),t.push(new On("metageneration")),t.push(new On("name","fullPath",!0));function e(s,o){return aY(o)}const n=new On("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new On("size");return i.xform=r,t.push(i),t.push(new On("timeCreated")),t.push(new On("updated")),t.push(new On("md5Hash",null,!0)),t.push(new On("cacheControl",null,!0)),t.push(new On("contentDisposition",null,!0)),t.push(new On("contentEncoding",null,!0)),t.push(new On("contentLanguage",null,!0)),t.push(new On("contentType",null,!0)),t.push(new On("metadata","customMetadata",!0)),Um=t,Um}function lY(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function cY(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return lY(r,t),r}function bV(t,e,n){const r=gV(e);return r===null?null:cY(t,r,n)}function uY(t,e,n,r){const i=gV(e);if(i===null||!Q1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=X1(f,n,r),g=hV({alt:"media",token:c});return p+g})[0]}function dY(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class wV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){if(!t)throw K1()}function hY(t,e){function n(r,i){const s=bV(t,i,e);return xV(s!==null),s}return n}function fY(t,e){function n(r,i){const s=bV(t,i,e);return xV(s!==null),uY(s,i,t.host,t._protocol)}return n}function _V(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kQ():i=TQ():n.getStatus()===402?i=SQ(t.bucket):n.getStatus()===403?i=IQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function mY(t){const e=_V(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=EQ(t.path)),s.serverResponse=i.serverResponse,s}return n}function pY(t,e,n){const r=e.fullServerUrl(),i=X1(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new wV(i,s,fY(t,n),o);return a.errorHandler=mY(e),a}function gY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gY(null,e)),r}function vY(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let C=0;C<2;C++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=yY(e,r,i),u=dY(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=so.getBlob(d,r,f);if(p===null)throw DQ();const g={name:c.fullPath},y=X1(s,t.host,t._protocol),v="POST",b=t.maxUploadRetryTime,w=new wV(y,v,hY(t,n),b);return w.urlParams=g,w.headers=o,w.body=p.uploadData(),w.errorHandler=_V(e),w}class bY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Na.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Na.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Na.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw nd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wY extends bY{initXhr(){this.xhr_.responseType="text"}}function EV(){return new wY}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Za(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yV(this._location.path)}get storage(){return this._service}get parent(){const e=iY(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new Za(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LQ(e)}}function xY(t,e,n){t._throwIfRoot("uploadBytes");const r=vY(t.storage,t._location,vV(),new so(e,!0),n);return t.storage.makeRequestWithTokens(r,EV).then(i=>({metadata:i,ref:t}))}function _Y(t){t._throwIfRoot("getDownloadURL");const e=pY(t.storage,t._location,vV());return t.storage.makeRequestWithTokens(e,EV).then(n=>{if(n===null)throw MQ();return n})}function EY(t,e){const n=sY(t._location.path,e),r=new yr(t._location.bucket,n);return new Za(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){return/^[A-Za-z]+:\/\//.test(t)}function TY(t,e){return new Za(t,e)}function SV(t,e){if(t instanceof J1){const n=t;if(n._bucket==null)throw NQ();const r=new Za(n,n._bucket);return e!=null?SV(r,e):r}else return e!==void 0?EY(t,e):t}function kY(t,e){if(e&&SY(e)){if(t instanceof J1)return TY(t,e);throw Ux("To use ref(service, url), the first argument must be a Storage instance.")}else return SV(t,e)}function cA(t,e){const n=e==null?void 0:e[uV];return n==null?null:yr.makeFromBucketSpec(n,t)}function IY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dU(i,t.app.options.projectId))}class J1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=cV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xQ,this._maxUploadRetryTime=_Q,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=cA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=cA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Za(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new VQ(dV());{const o=KQ(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const uA="@firebase/storage",dA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="storage";function CY(t,e,n){return t=Ze(t),xY(t,e,n)}function AY(t){return t=Ze(t),_Y(t)}function PY(t,e){return t=Ze(t),kY(t,e)}function RY(t=vO(),e){t=Ze(t);const r=Qy(t,TV).getImmediate({identifier:e}),i=cU("storage");return i&&NY(r,...i),r}function NY(t,e,n,r={}){IY(t,e,n,r)}function DY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new J1(n,r,i,e,ll)}function MY(){za(new No(TV,DY,"PUBLIC").setMultipleInstances(!0)),Di(uA,dA,""),Di(uA,dA,"esm2017")}MY();var OY="firebase",LY="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(OY,LY,"app");const VY={apiKey:"AIzaSyBg5oJij5yV7Kr3jrvnRtBrMnufm6WW74I",authDomain:"website-cyber-987ae.firebaseapp.com",projectId:"website-cyber-987ae",storageBucket:"website-cyber-987ae.firebasestorage.app",messagingSenderId:"72601101616",appId:"1:72601101616:web:ee3924f39aa3022d31d4f5",measurementId:"G-R0JBTBNRTJ"},Z1=yO(VY),zs=qW(Z1),FY=RY(Z1),Nt=JK(Z1,{localCache:yQ({tabManager:lV(),cacheSizeBytes:XK})});let eS=navigator.onLine,Wh=!1,nc=0;const kV=3,hA=5e3,BY=1e4,$Y=new Set,Da=()=>{const t=jY();$Y.forEach(e=>e(t))},IV=async()=>{try{const t=new Promise(async(n,r)=>{try{const i=ri(Nt,"connectionTest");await Zg(i),n(!0)}catch(i){r(i)}}),e=new Promise((n,r)=>{setTimeout(()=>r(new Error("Connection timeout")),BY)});return await Promise.race([t,e]),Wh=!1,nc=0,Da(),!0}catch(t){return console.warn("Problème de connexion à Firestore:",t.message),Wh=!0,Da(),!1}},zx=async()=>{if(nc>=kV){console.warn("Nombre maximum de tentatives de reconnexion atteint"),Wh=!0,Da();return}try{await tQ(Nt),await IV()?(console.log("Reconnexion à Firestore réussie"),Wh=!1,nc=0):(nc++,setTimeout(zx,hA)),Da()}catch(t){console.error("Erreur lors de la tentative de reconnexion:",t),nc++,setTimeout(zx,hA),Da()}};window.addEventListener("online",async()=>{eS=!0,console.log("Connexion Internet rétablie - Tentative de reconnexion à Firestore"),await zx(),Da()});window.addEventListener("offline",async()=>{eS=!1,console.warn("Connexion Internet perdue - Passage en mode hors ligne");try{await nQ(Nt)}catch(t){console.error("Erreur lors du passage en mode hors ligne:",t)}Da()});const jY=()=>({isOnline:eS,hasConnectivityIssues:Wh,reconnectAttempts:nc,maxReconnectAttempts:kV});IV().catch(console.error);const Fl={DOCUMENT:"document",PROFILE:"profile",SECURITY:"security",LOGIN:"login",SYSTEM:"system"};try{ZK(Nt).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}async function Bl(t,e,n,r={}){if(!t){console.warn("No user ID provided for activity logging");return}try{const i=ri(Nt,"activities");await aV(i,{userId:t,type:e,message:n,metadata:r,timestamp:va()})}catch(i){console.error("Erreur lors de l'enregistrement de l'activité:",i)}}const CV=x.createContext({}),fl=()=>x.useContext(CV);function UY({children:t}){const[e,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>OH(zs,async d=>{if(d)if(!d.emailVerified)await Mm(zs),n(null);else{const f=Lr(Nt,"users",d.uid),p=await jx(f);if(p.exists()){const g=p.data();await sb(f,{lastLoginAt:va()}),await Bl(d.uid,Fl.LOGIN,"Connexion au compte"),g.photoURL&&d.photoURL!==g.photoURL&&await Zv(d,{photoURL:g.photoURL}),n({...d,...g})}else n(d)}else n(null);i(!1)}),[]);const c={user:e,signUp:async({email:u,password:d,nomComplet:f,telephone:p,societe:g,fonction:y=""})=>{try{const{user:v}=await PH(zs,u,d);return await Zv(v,{displayName:f}),await bx(v),await mQ(Lr(Nt,"users",v.uid),{nomComplet:f,telephone:p,societe:g,fonction:y,email:u,createdAt:va(),lastLoginAt:va(),disabled:!1,documents:[]}),await Bl(v.uid,Fl.SYSTEM,"Création du compte"),await Mm(zs),v}catch(v){throw v.code==="auth/email-already-in-use"?new Error("Cette adresse email est déjà utilisée"):v}},signIn:async(u,d)=>{try{const{user:f}=await RH(zs,u,d);if(!f.emailVerified)throw await Mm(zs),new Error("email-not-verified");const p=Lr(Nt,"users",f.uid),g=await jx(p);if(g.exists()){const y=g.data();return await sb(p,{lastLoginAt:va()}),await Bl(f.uid,Fl.LOGIN,"Connexion au compte"),{...f,...y}}return f}catch(f){throw f.code==="auth/user-not-found"||f.code==="auth/wrong-password"?new Error("Email ou mot de passe incorrect"):f}},signOut:async()=>(e&&await Bl(e.uid,Fl.SECURITY,"Déconnexion du compte"),Mm(zs)),updateUserProfile:async u=>{if(!e)throw new Error("Aucun utilisateur connecté");try{const d={},f={};if(u.photoURL&&u.photoURL.startsWith("data:image")){const y=await(await fetch(u.photoURL)).blob(),v=PY(FY,`profile-photos/${e.uid}`);await CY(v,y);const b=await AY(v);d.photoURL=b,f.photoURL=b}u.nomComplet&&(d.nomComplet=u.nomComplet,f.displayName=u.nomComplet),u.telephone&&(d.telephone=u.telephone),u.societe&&(d.societe=u.societe),u.fonction&&(d.fonction=u.fonction),u.biographie&&(d.biographie=u.biographie),Object.keys(f).length>0&&await Zv(zs.currentUser,f);const p=Lr(Nt,"users",e.uid);return await sb(p,{...d,updatedAt:va()}),await Bl(e.uid,Fl.PROFILE,"Mise à jour du profil"),n(g=>({...g,...d})),!0}catch(d){throw console.error("Erreur lors de la mise à jour du profil:",d),d}}};return h.createElement(CV.Provider,{value:c},!r&&t)}var zY=Object.defineProperty,HY=(t,e,n)=>e in t?zY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cb=(t,e,n)=>(HY(t,typeof e!="symbol"?e+"":e,n),n);let WY=class{constructor(){cb(this,"current",this.detect()),cb(this,"handoffState","pending"),cb(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},vs=new WY,Zt=(t,e)=>{vs.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function vr(t){let e=x.useRef(t);return Zt(()=>{e.current=t},[t]),e}let Re=function(t){let e=vr(t);return h.useCallback((...n)=>e.current(...n),[e])};function Of(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ml(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Of(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ml();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function tS(){let[t]=x.useState(ml);return x.useEffect(()=>()=>t.dispose(),[t]),t}function qY(){let t=typeof document>"u";return"useSyncExternalStore"in Pc?(e=>e.useSyncExternalStore)(Pc)(()=>()=>{},()=>!1,()=>!t):!1}function gu(){let t=qY(),[e,n]=x.useState(vs.isHandoffComplete);return e&&vs.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>vs.handoff(),[]),t?!1:e}var fA;let qi=(fA=h.useId)!=null?fA:function(){let t=gu(),[e,n]=h.useState(t?()=>vs.nextId():null);return Zt(()=>{e===null&&n(vs.nextId())},[e]),e!=null?""+e:void 0};function lt(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,lt),r}function v0(t){return vs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Hx=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var an=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(an||{}),rc=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(rc||{}),GY=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(GY||{});function KY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Hx)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var AV=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(AV||{});function QY(t,e=0){var n;return t===((n=v0(t))==null?void 0:n.body)?!1:lt(e,{0(){return t.matches(Hx)},1(){let r=t;for(;r!==null;){if(r.matches(Hx))return!0;r=r.parentElement}return!1}})}var YY=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(YY||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ma(t){t==null||t.focus({preventScroll:!0})}let XY=["textarea","input"].join(",");function JY(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,XY))!=null?n:!1}function ic(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Si(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?ic(t):t:KY(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.includes(p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=o.length,f;do{if(u>=d||u+d<=0)return 0;let p=l+u;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==s.activeElement);return e&6&&JY(f)&&f.select(),2}function PV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ZY(){return/Android/gi.test(window.navigator.userAgent)}function eX(){return PV()||ZY()}function zm(t,e,n){let r=vr(e);x.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function RV(t,e,n){let r=vr(e);x.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function tX(t,e,n=!0){let r=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:u.current;if(d!=null&&d.contains(l)||o.composed&&o.composedPath().includes(d))return}return!QY(l,AV.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=x.useRef(null);zm("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),zm("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),zm("click",o=>{eX()||s.current&&(i(o,()=>s.current),s.current=null)},!0),zm("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),RV("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Lf(...t){return x.useMemo(()=>v0(...t),[...t])}function mA(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function NV(t,e){let[n,r]=x.useState(()=>mA(t));return Zt(()=>{r(mA(t))},[t.type,t.as]),Zt(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let DV=Symbol();function MV(t,e=!0){return Object.assign(t,{[DV]:e})}function Wt(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Re(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[DV]))?void 0:n}function nS(t,e){let n=x.useRef([]),r=Re(t);x.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function ey(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Lo=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Lo||{}),ho=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ho||{});function Vt({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??nX;let l=LV(e,t);if(s)return Hm(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...d}=l;if(u)return Hm(d,n,r,o,a)}if(c&1){let{unmount:u=!0,...d}=l;return lt(u?0:1,{0(){return null},1(){return Hm({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Hm(l,n,r,o,a)}function Hm(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=ub(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let d={};if(e){let f=!1,p=[];for(let[g,y]of Object.entries(e))typeof y=="boolean"&&(f=!0),y===!0&&p.push(g);f&&(d["data-headlessui-state"]=p.join(" "))}if(s===x.Fragment&&Object.keys(pA(l)).length>0){if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let f=u.props,p=typeof(f==null?void 0:f.className)=="function"?(...y)=>ey(f==null?void 0:f.className(...y),l.className):ey(f==null?void 0:f.className,l.className),g=p?{className:p}:{};return x.cloneElement(u,Object.assign({},LV(u.props,pA(ub(l,["ref"]))),d,c,{ref:i(u.ref,c.ref)},g))}return x.createElement(s,Object.assign({},ub(l,["ref"]),s!==x.Fragment&&c,s!==x.Fragment&&d),u)}function OV(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function nX(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function LV(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function At(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function pA(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ub(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let rX="div";var qh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(qh||{});function iX(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Vt({ourProps:s,theirProps:i,slot:{},defaultTag:rX,name:"Hidden"})}let Gh=At(iX),rS=x.createContext(null);rS.displayName="OpenClosedContext";var dn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(dn||{});function b0(){return x.useContext(rS)}function VV({value:t,children:e}){return h.createElement(rS.Provider,{value:t},e)}function sX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let oo=[];sX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&oo[0]!==e.target&&(oo.unshift(e.target),oo=oo.filter(n=>n!=null&&n.isConnected),oo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function FV(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&oX(n)?!1:r}function oX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var ln=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ln||{});function BV(t,e,n,r){let i=vr(n);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function yu(){let t=x.useRef(!1);return Zt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function $V(t){let e=Re(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,Of(()=>{n.current&&e()})}),[e])}var Sd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Sd||{});function aX(){let t=x.useRef(0);return RV("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function jV(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let lX="div";var UV=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(UV||{});function cX(t,e){let n=x.useRef(null),r=Wt(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;gu()||(o=1);let l=Lf(n);hX({ownerDocument:l},!!(o&16));let c=fX({ownerDocument:l,container:n,initialFocus:i},!!(o&2));mX({ownerDocument:l,container:n,containers:s,previousActiveElement:c},!!(o&8));let u=aX(),d=Re(y=>{let v=n.current;v&&(b=>b())(()=>{lt(u.current,{[Sd.Forwards]:()=>{Si(v,an.First,{skipElements:[y.relatedTarget]})},[Sd.Backwards]:()=>{Si(v,an.Last,{skipElements:[y.relatedTarget]})}})})}),f=tS(),p=x.useRef(!1),g={ref:r,onKeyDown(y){y.key=="Tab"&&(p.current=!0,f.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let v=jV(s);n.current instanceof HTMLElement&&v.add(n.current);let b=y.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(zV(v,b)||(p.current?Si(n.current,lt(u.current,{[Sd.Forwards]:()=>an.Next,[Sd.Backwards]:()=>an.Previous})|an.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Ma(y.target)))}};return h.createElement(h.Fragment,null,!!(o&4)&&h.createElement(Gh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:qh.Focusable}),Vt({ourProps:g,theirProps:a,defaultTag:lX,name:"FocusTrap"}),!!(o&4)&&h.createElement(Gh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:qh.Focusable}))}let uX=At(cX),rd=Object.assign(uX,{features:UV});function dX(t=!0){let e=x.useRef(oo.slice());return nS(([n],[r])=>{r===!0&&n===!1&&Of(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=oo.slice())},[t,oo,e]),Re(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function hX({ownerDocument:t},e){let n=dX(e);nS(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ma(n())},[e]),$V(()=>{e&&Ma(n())})}function fX({ownerDocument:t,container:e,initialFocus:n},r){let i=x.useRef(null),s=yu();return nS(()=>{if(!r)return;let o=e.current;o&&Of(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?Ma(n.current):Si(o,an.First)===rc.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function mX({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=yu();BV(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=jV(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?zV(a,c)?(r.current=c,Ma(c)):(o.preventDefault(),o.stopPropagation(),Ma(l)):Ma(r.current)},!0)}function zV(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let HV=x.createContext(!1);function pX(){return x.useContext(HV)}function Wx(t){return h.createElement(HV.Provider,{value:t.force},t.children)}function gX(t){let e=pX(),n=x.useContext(WV),r=Lf(t),[i,s]=x.useState(()=>{if(!e&&n!==null||vs.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return x.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),x.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let yX=x.Fragment;function vX(t,e){let n=t,r=x.useRef(null),i=Wt(MV(u=>{r.current=u}),e),s=Lf(r),o=gX(r),[a]=x.useState(()=>{var u;return vs.isServer?null:(u=s==null?void 0:s.createElement("div"))!=null?u:null}),l=x.useContext(qx),c=gu();return Zt(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),Zt(()=>{if(a&&l)return l.register(a)},[l,a]),$V(()=>{var u;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((u=o.parentElement)==null||u.removeChild(o)))}),c?!o||!a?null:QM.createPortal(Vt({ourProps:{ref:i},theirProps:n,defaultTag:yX,name:"Portal"}),a):null}let bX=x.Fragment,WV=x.createContext(null);function wX(t,e){let{target:n,...r}=t,i={ref:Wt(e)};return h.createElement(WV.Provider,{value:n},Vt({ourProps:i,theirProps:r,defaultTag:bX,name:"Popover.Group"}))}let qx=x.createContext(null);function xX(){let t=x.useContext(qx),e=x.useRef([]),n=Re(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Re(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:s}){return h.createElement(qx.Provider,{value:i},s)},[i])]}let _X=At(vX),EX=At(wX),Gx=Object.assign(_X,{Group:EX});function SX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const TX=typeof Object.is=="function"?Object.is:SX,{useState:kX,useEffect:IX,useLayoutEffect:CX,useDebugValue:AX}=Pc;function PX(t,e,n){const r=e(),[{inst:i},s]=kX({inst:{value:r,getSnapshot:e}});return CX(()=>{i.value=r,i.getSnapshot=e,db(i)&&s({inst:i})},[t,r,e]),IX(()=>(db(i)&&s({inst:i}),t(()=>{db(i)&&s({inst:i})})),[t]),AX(r),r}function db(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!TX(n,r)}catch{return!0}}function RX(t,e,n){return e()}const NX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DX=!NX,MX=DX?RX:PX,OX="useSyncExternalStore"in Pc?(t=>t.useSyncExternalStore)(Pc):MX;function LX(t){return OX(t.subscribe,t.getSnapshot,t.getSnapshot)}function VX(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function FX(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function BX(){return PV()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ml();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!r(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function $X(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function jX(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Sa=VX(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ml(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:jX(n)},i=[BX(),FX(),$X()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Sa.subscribe(()=>{let t=Sa.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Sa.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Sa.dispatch("TEARDOWN",n)}});function UX(t,e,n){let r=LX(Sa),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Zt(()=>{if(!(!t||!e))return Sa.dispatch("PUSH",t,n),()=>Sa.dispatch("POP",t,n)},[e,t]),s}let hb=new Map,id=new Map;function gA(t,e=!0){Zt(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=id.get(r))!=null?o:1;if(a===1?id.delete(r):id.set(r,a-1),a!==1)return;let l=hb.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,hb.delete(r))}let s=(n=id.get(r))!=null?n:0;return id.set(r,s+1),s!==0||(hb.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function zX({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let i=x.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Lf(i),o=Re(()=>{var a,l,c;let u=[];for(let d of t)d!==null&&(d instanceof HTMLElement?u.push(d):"current"in d&&d.current instanceof HTMLElement&&u.push(d.current));if(e!=null&&e.current)for(let d of e.current)u.push(d);for(let d of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(i.current)||d.contains((c=(l=i.current)==null?void 0:l.getRootNode())==null?void 0:c.host)||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:o,contains:Re(a=>o().some(l=>l.contains(a))),mainTreeNodeRef:i,MainTreeNode:x.useMemo(()=>function(){return n!=null?null:h.createElement(Gh,{features:qh.Hidden,ref:i})},[i,n])}}let iS=x.createContext(()=>{});iS.displayName="StackContext";var Kx=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Kx||{});function HX(){return x.useContext(iS)}function WX({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=HX(),o=Re((...a)=>{e==null||e(...a),s(...a)});return Zt(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),h.createElement(iS.Provider,{value:o},t)}let qV=x.createContext(null);function GV(){let t=x.useContext(qV);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,GV),e}return t}function qX(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Re(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return h.createElement(qV.Provider,{value:i},n.children)},[e])]}let GX="p";function KX(t,e){let n=qi(),{id:r=`headlessui-description-${n}`,...i}=t,s=GV(),o=Wt(e);Zt(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return Vt({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:GX,name:s.name||"Description"})}let QX=At(KX),YX=Object.assign(QX,{});var XX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(XX||{}),JX=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(JX||{});let ZX={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},ty=x.createContext(null);ty.displayName="DialogContext";function Vf(t){let e=x.useContext(ty);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vf),n}return e}function eJ(t,e,n=()=>[document.body]){UX(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function tJ(t,e){return lt(e.type,ZX,t,e)}let nJ="div",rJ=Lo.RenderStrategy|Lo.Static;function iJ(t,e){let n=qi(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",__demoMode:l=!1,...c}=t,[u,d]=x.useState(0),f=x.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=b0();i===void 0&&p!==null&&(i=(p&dn.Open)===dn.Open);let g=x.useRef(null),y=Wt(g,e),v=Lf(g),b=t.hasOwnProperty("open")||p!==null,w=t.hasOwnProperty("onClose");if(!b&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let E=i?0:1,[C,R]=x.useReducer(tJ,{titleId:null,descriptionId:null,panelRef:x.createRef()}),P=Re(()=>s(!1)),I=Re(Le=>R({type:0,id:Le})),k=gu()?l?!1:E===0:!1,A=u>1,S=x.useContext(ty)!==null,[N,O]=xX(),M={get current(){var Le;return(Le=C.panelRef.current)!=null?Le:g.current}},{resolveContainers:ne,mainTreeNodeRef:Q,MainTreeNode:ce}=zX({portals:N,defaultContainers:[M]}),ee=A?"parent":"leaf",H=p!==null?(p&dn.Closing)===dn.Closing:!1,J=S||H?!1:k,L=x.useCallback(()=>{var Le,Nn;return(Nn=Array.from((Le=v==null?void 0:v.querySelectorAll("body > *"))!=null?Le:[]).find(qt=>qt.id==="headlessui-portal-root"?!1:qt.contains(Q.current)&&qt instanceof HTMLElement))!=null?Nn:null},[Q]);gA(L,J);let pe=A?!0:k,ae=x.useCallback(()=>{var Le,Nn;return(Nn=Array.from((Le=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?Le:[]).find(qt=>qt.contains(Q.current)&&qt instanceof HTMLElement))!=null?Nn:null},[Q]);gA(ae,pe),tX(ne,Le=>{Le.preventDefault(),P()},!(!k||A));let ve=!(A||E!==0);BV(v==null?void 0:v.defaultView,"keydown",Le=>{ve&&(Le.defaultPrevented||Le.key===ln.Escape&&(Le.preventDefault(),Le.stopPropagation(),P()))}),eJ(v,!(H||E!==0||S),ne),x.useEffect(()=>{if(E!==0||!g.current)return;let Le=new ResizeObserver(Nn=>{for(let qt of Nn){let fi=qt.target.getBoundingClientRect();fi.x===0&&fi.y===0&&fi.width===0&&fi.height===0&&P()}});return Le.observe(g.current),()=>Le.disconnect()},[E,g,P]);let[Ee,nn]=qX(),Ar=x.useMemo(()=>[{dialogState:E,close:P,setTitleId:I},C],[E,C,P,I]),Kr=x.useMemo(()=>({open:E===0}),[E]),or={ref:y,id:r,role:a,"aria-modal":E===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":Ee};return h.createElement(WX,{type:"Dialog",enabled:E===0,element:g,onUpdate:Re((Le,Nn)=>{Nn==="Dialog"&&lt(Le,{[Kx.Add]:()=>d(qt=>qt+1),[Kx.Remove]:()=>d(qt=>qt-1)})})},h.createElement(Wx,{force:!0},h.createElement(Gx,null,h.createElement(ty.Provider,{value:Ar},h.createElement(Gx.Group,{target:g},h.createElement(Wx,{force:!1},h.createElement(nn,{slot:Kr,name:"Dialog.Description"},h.createElement(rd,{initialFocus:o,containers:ne,features:k?lt(ee,{parent:rd.features.RestoreFocus,leaf:rd.features.All&~rd.features.FocusLock}):rd.features.None},h.createElement(O,null,Vt({ourProps:or,theirProps:c,slot:Kr,defaultTag:nJ,features:rJ,visible:E===0,name:"Dialog"}))))))))),h.createElement(ce,null))}let sJ="div";function oJ(t,e){let n=qi(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Vf("Dialog.Overlay"),a=Wt(e),l=Re(u=>{if(u.target===u.currentTarget){if(FV(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),o()}}),c=x.useMemo(()=>({open:s===0}),[s]);return Vt({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:c,defaultTag:sJ,name:"Dialog.Overlay"})}let aJ="div";function lJ(t,e){let n=qi(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Vf("Dialog.Backdrop"),a=Wt(e);x.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=x.useMemo(()=>({open:s===0}),[s]);return h.createElement(Wx,{force:!0},h.createElement(Gx,null,Vt({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:aJ,name:"Dialog.Backdrop"})))}let cJ="div";function uJ(t,e){let n=qi(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Vf("Dialog.Panel"),a=Wt(e,o.panelRef),l=x.useMemo(()=>({open:s===0}),[s]),c=Re(u=>{u.stopPropagation()});return Vt({ourProps:{ref:a,id:r,onClick:c},theirProps:i,slot:l,defaultTag:cJ,name:"Dialog.Panel"})}let dJ="h2";function hJ(t,e){let n=qi(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Vf("Dialog.Title"),a=Wt(e);x.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=x.useMemo(()=>({open:s===0}),[s]);return Vt({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:dJ,name:"Dialog.Title"})}let fJ=At(iJ),mJ=At(lJ),pJ=At(uJ),gJ=At(oJ),yJ=At(hJ),fb=Object.assign(fJ,{Backdrop:mJ,Panel:pJ,Overlay:gJ,Title:yJ,Description:YX});var yA;let vJ=(yA=h.startTransition)!=null?yA:function(t){t()};var bJ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(bJ||{}),wJ=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.LinkPanel=4]="LinkPanel",t[t.UnlinkPanel=5]="UnlinkPanel",t))(wJ||{});let xJ={0:t=>({...t,disclosureState:lt(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},4(t){return t.linkedPanel===!0?t:{...t,linkedPanel:!0}},5(t){return t.linkedPanel===!1?t:{...t,linkedPanel:!1}},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},sS=x.createContext(null);sS.displayName="DisclosureContext";function oS(t){let e=x.useContext(sS);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,oS),n}return e}let aS=x.createContext(null);aS.displayName="DisclosureAPIContext";function KV(t){let e=x.useContext(aS);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,KV),n}return e}let lS=x.createContext(null);lS.displayName="DisclosurePanelContext";function _J(){return x.useContext(lS)}function EJ(t,e){return lt(e.type,xJ,t,e)}let SJ=x.Fragment;function TJ(t,e){let{defaultOpen:n=!1,...r}=t,i=x.useRef(null),s=Wt(e,MV(v=>{i.current=v},t.as===void 0||t.as===x.Fragment)),o=x.useRef(null),a=x.useRef(null),l=x.useReducer(EJ,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:a,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:c,buttonId:u},d]=l,f=Re(v=>{d({type:1});let b=v0(i);if(!b||!u)return;let w=v?v instanceof HTMLElement?v:v.current instanceof HTMLElement?v.current:b.getElementById(u):b.getElementById(u);w==null||w.focus()}),p=x.useMemo(()=>({close:f}),[f]),g=x.useMemo(()=>({open:c===0,close:f}),[c,f]),y={ref:s};return h.createElement(sS.Provider,{value:l},h.createElement(aS.Provider,{value:p},h.createElement(VV,{value:lt(c,{0:dn.Open,1:dn.Closed})},Vt({ourProps:y,theirProps:r,slot:g,defaultTag:SJ,name:"Disclosure"}))))}let kJ="button";function IJ(t,e){let n=qi(),{id:r=`headlessui-disclosure-button-${n}`,...i}=t,[s,o]=oS("Disclosure.Button"),a=_J(),l=a===null?!1:a===s.panelId,c=x.useRef(null),u=Wt(c,e,l?null:s.buttonRef),d=OV();x.useEffect(()=>{if(!l)return o({type:2,buttonId:r}),()=>{o({type:2,buttonId:null})}},[r,o,l]);let f=Re(w=>{var E;if(l){if(s.disclosureState===1)return;switch(w.key){case ln.Space:case ln.Enter:w.preventDefault(),w.stopPropagation(),o({type:0}),(E=s.buttonRef.current)==null||E.focus();break}}else switch(w.key){case ln.Space:case ln.Enter:w.preventDefault(),w.stopPropagation(),o({type:0});break}}),p=Re(w=>{switch(w.key){case ln.Space:w.preventDefault();break}}),g=Re(w=>{var E;FV(w.currentTarget)||t.disabled||(l?(o({type:0}),(E=s.buttonRef.current)==null||E.focus()):o({type:0}))}),y=x.useMemo(()=>({open:s.disclosureState===0}),[s]),v=NV(t,c),b=l?{ref:u,type:v,onKeyDown:f,onClick:g}:{ref:u,id:r,type:v,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:f,onKeyUp:p,onClick:g};return Vt({mergeRefs:d,ourProps:b,theirProps:i,slot:y,defaultTag:kJ,name:"Disclosure.Button"})}let CJ="div",AJ=Lo.RenderStrategy|Lo.Static;function PJ(t,e){let n=qi(),{id:r=`headlessui-disclosure-panel-${n}`,...i}=t,[s,o]=oS("Disclosure.Panel"),{close:a}=KV("Disclosure.Panel"),l=OV(),c=Wt(e,s.panelRef,g=>{vJ(()=>o({type:g?4:5}))});x.useEffect(()=>(o({type:3,panelId:r}),()=>{o({type:3,panelId:null})}),[r,o]);let u=b0(),d=u!==null?(u&dn.Open)===dn.Open:s.disclosureState===0,f=x.useMemo(()=>({open:s.disclosureState===0,close:a}),[s,a]),p={ref:c,id:r};return h.createElement(lS.Provider,{value:s.panelId},Vt({mergeRefs:l,ourProps:p,theirProps:i,slot:f,defaultTag:CJ,features:AJ,visible:d,name:"Disclosure.Panel"}))}let RJ=At(TJ),NJ=At(IJ),DJ=At(PJ),mb=Object.assign(RJ,{Button:NJ,Panel:DJ});function MJ(t=0){let[e,n]=x.useState(t),r=yu(),i=x.useCallback(l=>{r.current&&n(c=>c|l)},[e,r]),s=x.useCallback(l=>!!(e&l),[e]),o=x.useCallback(l=>{r.current&&n(c=>c&~l)},[n,r]),a=x.useCallback(l=>{r.current&&n(c=>c^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function OJ({onFocus:t}){let[e,n]=x.useState(!0),r=yu();return e?h.createElement(Gh,{as:"button",type:"button",features:qh.Focusable,onFocus:i=>{i.preventDefault();let s,o=50;function a(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(t()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const QV=x.createContext(null);function LJ(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let s=Array.from(r.keys()).indexOf(e);function o(){let a=r.get(e);a>1?r.set(e,a-1):r.delete(e)}return[s,o]}}}function VJ({children:t}){let e=x.useRef(LJ());return x.createElement(QV.Provider,{value:e},t)}function YV(t){let e=x.useContext(QV);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=FJ(),[r,i]=e.current.get(t,n);return x.useEffect(()=>i,[]),r}function FJ(){var t,e,n;let r=(n=(e=(t=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:e.current)!=null?n:null;if(!r)return Symbol();let i=[],s=r;for(;s;)i.push(s.index),s=s.return;return"$."+i.join(".")}var BJ=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(BJ||{}),$J=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))($J||{}),jJ=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(jJ||{});let UJ={0(t,e){var n;let r=ic(t.tabs,u=>u.current),i=ic(t.panels,u=>u.current),s=r.filter(u=>{var d;return!((d=u.current)!=null&&d.hasAttribute("disabled"))}),o={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let u=lt(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>lt(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let d=lt(u,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...o,selectedIndex:d===-1?t.selectedIndex:d}}let a=r.slice(0,e.index),l=[...r.slice(e.index),...a].find(u=>s.includes(u));if(!l)return o;let c=(n=r.indexOf(l))!=null?n:t.selectedIndex;return c===-1&&(c=t.selectedIndex),{...o,selectedIndex:c}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=ic([...t.tabs,e.tab],s=>s.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:ic([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},cS=x.createContext(null);cS.displayName="TabsDataContext";function Yc(t){let e=x.useContext(cS);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yc),n}return e}let uS=x.createContext(null);uS.displayName="TabsActionsContext";function dS(t){let e=x.useContext(uS);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,dS),n}return e}function zJ(t,e){return lt(e.type,UJ,t,e)}let HJ=x.Fragment;function WJ(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:s,selectedIndex:o=null,...a}=t;const l=r?"vertical":"horizontal",c=i?"manual":"auto";let u=o!==null,d=vr({isControlled:u}),f=Wt(e),[p,g]=x.useReducer(zJ,{info:d,selectedIndex:o??n,tabs:[],panels:[]}),y=x.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),v=vr(s||(()=>{})),b=vr(p.tabs),w=x.useMemo(()=>({orientation:l,activation:c,...p}),[l,c,p]),E=Re(A=>(g({type:1,tab:A}),()=>g({type:2,tab:A}))),C=Re(A=>(g({type:3,panel:A}),()=>g({type:4,panel:A}))),R=Re(A=>{P.current!==A&&v.current(A),u||g({type:0,index:A})}),P=vr(u?t.selectedIndex:p.selectedIndex),I=x.useMemo(()=>({registerTab:E,registerPanel:C,change:R}),[]);Zt(()=>{g({type:0,index:o??n})},[o]),Zt(()=>{if(P.current===void 0||p.tabs.length<=0)return;let A=ic(p.tabs,S=>S.current);A.some((S,N)=>p.tabs[N]!==S)&&R(A.indexOf(p.tabs[P.current]))});let k={ref:f};return h.createElement(VJ,null,h.createElement(uS.Provider,{value:I},h.createElement(cS.Provider,{value:w},w.tabs.length<=0&&h.createElement(OJ,{onFocus:()=>{var A,S;for(let N of b.current)if(((A=N.current)==null?void 0:A.tabIndex)===0)return(S=N.current)==null||S.focus(),!0;return!1}}),Vt({ourProps:k,theirProps:a,slot:y,defaultTag:HJ,name:"Tabs"}))))}let qJ="div";function GJ(t,e){let{orientation:n,selectedIndex:r}=Yc("Tab.List"),i=Wt(e);return Vt({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:qJ,name:"Tabs.List"})}let KJ="button";function QJ(t,e){var n,r;let i=qi(),{id:s=`headlessui-tabs-tab-${i}`,...o}=t,{orientation:a,activation:l,selectedIndex:c,tabs:u,panels:d}=Yc("Tab"),f=dS("Tab"),p=Yc("Tab"),g=x.useRef(null),y=Wt(g,e);Zt(()=>f.registerTab(g),[f,g]);let v=YV("tabs"),b=u.indexOf(g);b===-1&&(b=v);let w=b===c,E=Re(S=>{var N;let O=S();if(O===rc.Success&&l==="auto"){let M=(N=v0(g))==null?void 0:N.activeElement,ne=p.tabs.findIndex(Q=>Q.current===M);ne!==-1&&f.change(ne)}return O}),C=Re(S=>{let N=u.map(O=>O.current).filter(Boolean);if(S.key===ln.Space||S.key===ln.Enter){S.preventDefault(),S.stopPropagation(),f.change(b);return}switch(S.key){case ln.Home:case ln.PageUp:return S.preventDefault(),S.stopPropagation(),E(()=>Si(N,an.First));case ln.End:case ln.PageDown:return S.preventDefault(),S.stopPropagation(),E(()=>Si(N,an.Last))}if(E(()=>lt(a,{vertical(){return S.key===ln.ArrowUp?Si(N,an.Previous|an.WrapAround):S.key===ln.ArrowDown?Si(N,an.Next|an.WrapAround):rc.Error},horizontal(){return S.key===ln.ArrowLeft?Si(N,an.Previous|an.WrapAround):S.key===ln.ArrowRight?Si(N,an.Next|an.WrapAround):rc.Error}}))===rc.Success)return S.preventDefault()}),R=x.useRef(!1),P=Re(()=>{var S;R.current||(R.current=!0,(S=g.current)==null||S.focus({preventScroll:!0}),f.change(b),Of(()=>{R.current=!1}))}),I=Re(S=>{S.preventDefault()}),k=x.useMemo(()=>{var S;return{selected:w,disabled:(S=t.disabled)!=null?S:!1}},[w,t.disabled]),A={ref:y,onKeyDown:C,onMouseDown:I,onClick:P,id:s,role:"tab",type:NV(t,g),"aria-controls":(r=(n=d[b])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":w,tabIndex:w?0:-1};return Vt({ourProps:A,theirProps:o,slot:k,defaultTag:KJ,name:"Tabs.Tab"})}let YJ="div";function XJ(t,e){let{selectedIndex:n}=Yc("Tab.Panels"),r=Wt(e),i=x.useMemo(()=>({selectedIndex:n}),[n]);return Vt({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:YJ,name:"Tabs.Panels"})}let JJ="div",ZJ=Lo.RenderStrategy|Lo.Static;function eZ(t,e){var n,r,i,s;let o=qi(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...c}=t,{selectedIndex:u,tabs:d,panels:f}=Yc("Tab.Panel"),p=dS("Tab.Panel"),g=x.useRef(null),y=Wt(g,e);Zt(()=>p.registerPanel(g),[p,g,a]);let v=YV("panels"),b=f.indexOf(g);b===-1&&(b=v);let w=b===u,E=x.useMemo(()=>({selected:w}),[w]),C={ref:y,id:a,role:"tabpanel","aria-labelledby":(r=(n=d[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:w?l:-1};return!w&&((i=c.unmount)==null||i)&&!((s=c.static)!=null&&s)?h.createElement(Gh,{as:"span","aria-hidden":"true",...C}):Vt({ourProps:C,theirProps:c,slot:E,defaultTag:JJ,features:ZJ,visible:w,name:"Tabs.Panel"})}let tZ=At(QJ),nZ=At(WJ),rZ=At(GJ),iZ=At(XJ),sZ=At(eZ),Ji=Object.assign(tZ,{Group:nZ,List:rZ,Panels:iZ,Panel:sZ});function oZ(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function pb(t,...e){t&&e.length>0&&t.classList.add(...e)}function gb(t,...e){t&&e.length>0&&t.classList.remove(...e)}function aZ(t,e){let n=ml();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return c}),a=s+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},a),c.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let l=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function lZ(t,e,n,r){let i=n?"enter":"leave",s=ml(),o=r!==void 0?oZ(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=lt(i,{enter:()=>e.enter,leave:()=>e.leave}),l=lt(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=lt(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return gb(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),pb(t,...e.base,...a,...c),s.nextFrame(()=>{gb(t,...e.base,...a,...c),pb(t,...e.base,...a,...l),aZ(t,()=>(gb(t,...e.base,...a),pb(t,...e.base,...e.entered),o()))}),s.dispose}function cZ({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=yu(),a=tS(),l=vr(n);Zt(()=>{t&&(l.current="enter")},[t]),Zt(()=>{let c=ml();a.add(c.dispose);let u=e.current;if(u&&l.current!=="idle"&&o.current)return c.dispose(),i.current(l.current),c.add(lZ(u,r.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[n])}function Hs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let w0=x.createContext(null);w0.displayName="TransitionContext";var uZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(uZ||{});function dZ(){let t=x.useContext(w0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function hZ(){let t=x.useContext(x0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let x0=x.createContext(null);x0.displayName="NestingContext";function _0(t){return"children"in t?_0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function XV(t,e){let n=vr(t),r=x.useRef([]),i=yu(),s=tS(),o=Re((p,g=ho.Hidden)=>{let y=r.current.findIndex(({el:v})=>v===p);y!==-1&&(lt(g,{[ho.Unmount](){r.current.splice(y,1)},[ho.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var v;!_0(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),a=Re(p=>{let g=r.current.find(({el:y})=>y===p);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,ho.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[],idle:[]}),d=Re((p,g,y)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([v])=>v!==p)),e==null||e.chains.current[g].push([p,new Promise(v=>{l.current.push(v)})]),e==null||e.chains.current[g].push([p,new Promise(v=>{Promise.all(u.current[g].map(([b,w])=>w)).then(()=>v())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),f=Re((p,g,y)=>{Promise.all(u.current[g].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>y(g))});return x.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:c,chains:u}),[a,o,r,d,f,u,c])}function fZ(){}let mZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function vA(t){var e;let n={};for(let r of mZ)n[r]=(e=t[r])!=null?e:fZ;return n}function pZ(t){let e=x.useRef(vA(t));return x.useEffect(()=>{e.current=vA(t)},[t]),e}let gZ="div",JV=Lo.RenderStrategy;function yZ(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:c,enterTo:u,entered:d,leave:f,leaveFrom:p,leaveTo:g,...y}=t,v=x.useRef(null),b=Wt(v,e),w=(n=y.unmount)==null||n?ho.Unmount:ho.Hidden,{show:E,appear:C,initial:R}=dZ(),[P,I]=x.useState(E?"visible":"hidden"),k=hZ(),{register:A,unregister:S}=k;x.useEffect(()=>A(v),[A,v]),x.useEffect(()=>{if(w===ho.Hidden&&v.current){if(E&&P!=="visible"){I("visible");return}return lt(P,{hidden:()=>S(v),visible:()=>A(v)})}},[P,v,A,S,E,w]);let N=vr({base:Hs(y.className),enter:Hs(l),enterFrom:Hs(c),enterTo:Hs(u),entered:Hs(d),leave:Hs(f),leaveFrom:Hs(p),leaveTo:Hs(g)}),O=pZ({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),M=gu();x.useEffect(()=>{if(M&&P==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,P,M]);let ne=R&&!C,Q=C&&E&&R,ce=!M||ne?"idle":E?"enter":"leave",ee=MJ(0),H=Re(ve=>lt(ve,{enter:()=>{ee.addFlag(dn.Opening),O.current.beforeEnter()},leave:()=>{ee.addFlag(dn.Closing),O.current.beforeLeave()},idle:()=>{}})),J=Re(ve=>lt(ve,{enter:()=>{ee.removeFlag(dn.Opening),O.current.afterEnter()},leave:()=>{ee.removeFlag(dn.Closing),O.current.afterLeave()},idle:()=>{}})),L=XV(()=>{I("hidden"),S(v)},k),pe=x.useRef(!1);cZ({immediate:Q,container:v,classes:N,direction:ce,onStart:vr(ve=>{pe.current=!0,L.onStart(v,ve,H)}),onStop:vr(ve=>{pe.current=!1,L.onStop(v,ve,J),ve==="leave"&&!_0(L)&&(I("hidden"),S(v))})});let ae=y,V={ref:b};return Q?ae={...ae,className:ey(y.className,...N.current.enter,...N.current.enterFrom)}:pe.current&&(ae.className=ey(y.className,(r=v.current)==null?void 0:r.className),ae.className===""&&delete ae.className),h.createElement(x0.Provider,{value:L},h.createElement(VV,{value:lt(P,{visible:dn.Open,hidden:dn.Closed})|ee.flags},Vt({ourProps:V,theirProps:ae,defaultTag:gZ,features:JV,visible:P==="visible",name:"Transition.Child"})))}function vZ(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=Wt(o,e);gu();let l=b0();if(n===void 0&&l!==null&&(n=(l&dn.Open)===dn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=x.useState(n?"visible":"hidden"),d=XV(()=>{u("hidden")}),[f,p]=x.useState(!0),g=x.useRef([n]);Zt(()=>{f!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),p(!1))},[g,n]);let y=x.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);x.useEffect(()=>{if(n)u("visible");else if(!_0(d))u("hidden");else{let E=o.current;if(!E)return;let C=E.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&u("hidden")}},[n,d]);let v={unmount:i},b=Re(()=>{var E;f&&p(!1),(E=t.beforeEnter)==null||E.call(t)}),w=Re(()=>{var E;f&&p(!1),(E=t.beforeLeave)==null||E.call(t)});return h.createElement(x0.Provider,{value:d},h.createElement(w0.Provider,{value:y},Vt({ourProps:{...v,as:x.Fragment,children:h.createElement(ZV,{ref:a,...v,...s,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:x.Fragment,features:JV,visible:c==="visible",name:"Transition"})))}function bZ(t,e){let n=x.useContext(w0)!==null,r=b0()!==null;return h.createElement(h.Fragment,null,!n&&r?h.createElement(Qx,{ref:e,...t}):h.createElement(ZV,{ref:e,...t}))}let Qx=At(vZ),ZV=At(yZ),wZ=At(bZ),xZ=Object.assign(Qx,{Child:wZ,Root:Qx});function _Z({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Vi=x.forwardRef(_Z);function EZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const e3=x.forwardRef(EZ);function SZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const we=x.forwardRef(SZ);function TZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const hS=x.forwardRef(TZ);function kZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const bA=x.forwardRef(kZ);function IZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const CZ=x.forwardRef(IZ);function AZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const PZ=x.forwardRef(AZ);function RZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const t3=x.forwardRef(RZ);function NZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const DZ=x.forwardRef(NZ);function MZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const OZ=x.forwardRef(MZ);function LZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const VZ=x.forwardRef(LZ);function FZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Kh=x.forwardRef(FZ);function BZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const $Z=x.forwardRef(BZ);function jZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const en=x.forwardRef(jZ);function UZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const fS=x.forwardRef(UZ);function zZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const HZ=x.forwardRef(zZ);function WZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xc=x.forwardRef(WZ);function qZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const wA=x.forwardRef(qZ);function GZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const n3=x.forwardRef(GZ);function KZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const QZ=x.forwardRef(KZ);function YZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const XZ=x.forwardRef(YZ);function JZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ny=x.forwardRef(JZ);function ZZ({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ir=x.forwardRef(ZZ);function eee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const r3=x.forwardRef(eee);function tee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const nee=x.forwardRef(tee);function ree({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const i3=x.forwardRef(ree);function iee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const see=x.forwardRef(iee);function oee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const aee=x.forwardRef(oee);function lee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qh=x.forwardRef(lee);function cee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const uee=x.forwardRef(cee);function dee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const xA=x.forwardRef(dee);function hee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const s3=x.forwardRef(hee);function fee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const mee=x.forwardRef(fee);function pee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const mS=x.forwardRef(pee);function gee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const o3=x.forwardRef(gee);function yee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const _A=x.forwardRef(yee);function vee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const bee=x.forwardRef(vee);function wee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const xee=x.forwardRef(wee);function _ee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Yx=x.forwardRef(_ee);function Eee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const See=x.forwardRef(Eee);function Tee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const a3=x.forwardRef(Tee);function kee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const E0=x.forwardRef(kee);function Iee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const pS=x.forwardRef(Iee);function Cee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Aee=x.forwardRef(Cee);function Pee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Ree=x.forwardRef(Pee);function Nee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const l3=x.forwardRef(Nee);function Dee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const ry=x.forwardRef(Dee);function Mee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"}))}const Oee=x.forwardRef(Mee);function Lee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605"}))}const S0=x.forwardRef(Lee);function Vee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const iy=x.forwardRef(Vee);function Fee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Jt=x.forwardRef(Fee);function Bee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const gS=x.forwardRef(Bee);function $ee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Gi=x.forwardRef($ee);function jee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Uee=x.forwardRef(jee);function zee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Hee=x.forwardRef(zee);function Wee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const sy=x.forwardRef(Wee);function qee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const EA=x.forwardRef(qee);function Gee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Ui=x.forwardRef(Gee);function Kee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const c3=x.forwardRef(Kee);function Qee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const yS=x.forwardRef(Qee);function Yee({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const _c=x.forwardRef(Yee);function Xee({className:t=""}){return h.createElement("div",{className:`flex items-center group ${t}`},h.createElement("svg",{className:"w-8 h-8 text-blue-600 transition-colors duration-200 group-hover:text-green-600",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M12 2L3 7V17L12 22L21 17V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M12 8V16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),h.createElement("span",{className:"ml-2 text-xl font-bold text-gray-900"},"Cyber",h.createElement("span",{className:"text-blue-600 transition-colors duration-200 group-hover:text-green-600"},"TM")))}const SA=[{name:"Accueil",href:"/"},{name:"Services",href:"/services"},{name:"Pourquoi Nous",href:"/why-us"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact"}],TA="https://calendar.app.google/aWm3jnUJTJ9FCsFHA";function Jee(){const t=al(),{user:e,signOut:n}=fl(),r=Gy(),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),u=()=>{s(!0)},d=async()=>{if(!e)return null;try{c(!0);const p=await jx(Lr(Nt,"users",e.uid));if(!p.exists())return null;const y={...p.data(),backupDate:new Date().toISOString(),userId:e.uid};return localStorage.setItem(`userBackup_${e.uid}`,JSON.stringify(y)),y}catch(p){return console.error("Erreur lors de la sauvegarde:",p),null}finally{c(!1)}},f=async()=>{try{await d(),await n(),s(!1),a(!0),setTimeout(()=>{a(!1),r("/")},3e3)}catch(p){console.error("Erreur lors de la déconnexion:",p.message)}};return h.createElement(h.Fragment,null,h.createElement(mb,{as:"nav",className:"bg-white shadow-lg"},({open:p})=>h.createElement(h.Fragment,null,h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"flex justify-between h-16"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"flex-shrink-0 flex items-center"},h.createElement(Ce,{to:"/"},h.createElement(Xee,null))),h.createElement("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8"},SA.map(g=>h.createElement(Ce,{key:g.name,to:g.href,className:`inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 ${t.pathname===g.href?"border-blue-600 text-blue-600":"border-transparent text-gray-700 hover:text-blue-600 hover:border-blue-300"}`},g.name)))),h.createElement("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4"},e&&h.createElement("span",{className:"inline-flex items-center text-xs bg-gray-50 px-2.5 py-0.5 rounded-full border border-gray-200 whitespace-nowrap"},h.createElement(EA,{className:"h-3 w-3 mr-1 text-gray-500"}),h.createElement("span",{className:"text-gray-600 font-medium truncate max-w-[150px]"},e.nomComplet)),h.createElement("a",{href:TA,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 transition-colors"},h.createElement(Kh,{className:"h-5 w-5 mr-2"}),"Prendre RDV"),e?h.createElement(h.Fragment,null,h.createElement(Ce,{to:"/profile",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600"},"Mon espace"),h.createElement("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},"Déconnexion")):h.createElement(Ce,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},"Connexion")),h.createElement("div",{className:"-mr-2 flex items-center sm:hidden"},h.createElement(mb.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"},h.createElement("span",{className:"sr-only"},"Open main menu"),p?h.createElement(_c,{className:"block h-6 w-6","aria-hidden":"true"}):h.createElement(PZ,{className:"block h-6 w-6","aria-hidden":"true"}))))),h.createElement(mb.Panel,{className:"sm:hidden"},h.createElement("div",{className:"pt-2 pb-3 space-y-1"},e&&h.createElement("div",{className:"mx-3 px-2.5 py-0.5 text-xs bg-gray-50 rounded-full border border-gray-200 flex items-center whitespace-nowrap"},h.createElement(EA,{className:"h-3 w-3 mr-1 text-gray-500"}),h.createElement("span",{className:"text-gray-600 font-medium truncate"},e.nomComplet)),SA.map(g=>h.createElement(Ce,{key:g.name,to:g.href,className:`block pl-3 pr-4 py-2 text-base font-medium ${t.pathname===g.href?"bg-blue-50 border-l-4 border-blue-600 text-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`},g.name)),h.createElement("a",{href:TA,target:"_blank",rel:"noopener noreferrer",className:"block pl-3 pr-4 py-2 text-base font-medium text-white bg-green-600 hover:bg-green-700"},h.createElement("div",{className:"flex items-center"},h.createElement(Kh,{className:"h-5 w-5 mr-2"}),"Prendre RDV")),e?h.createElement(h.Fragment,null,h.createElement(Ce,{to:"/profile",className:"block pl-3 pr-4 py-2 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50"},"Mon espace"),h.createElement("button",{onClick:u,className:"block w-full text-left pl-3 pr-4 py-2 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50"},"Déconnexion")):h.createElement(Ce,{to:"/login",className:"block pl-3 pr-4 py-2 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50"},"Connexion"))))),h.createElement(xZ,{show:i,as:h.Fragment},h.createElement(fb,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:()=>s(!1)},h.createElement("div",{className:"flex items-center justify-center min-h-screen"},h.createElement(fb.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),h.createElement("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-4 p-6"},h.createElement(fb.Title,{className:"text-lg font-medium text-gray-900"},"Confirmation de déconnexion"),h.createElement("div",{className:"mt-2 text-gray-600"},l?h.createElement("div",{className:"flex items-center"},h.createElement("svg",{className:"animate-spin h-5 w-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Sauvegarde des données en cours..."):"Êtes-vous sûr de vouloir vous déconnecter ?"),h.createElement("div",{className:"mt-4 flex justify-end space-x-3"},h.createElement("button",{onClick:()=>s(!1),disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 border border-gray-300 rounded-md disabled:opacity-50"},"Annuler"),h.createElement("button",{onClick:f,disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50"},"Confirmer")))))),o&&h.createElement("div",{className:"fixed bottom-4 right-4 bg-green-50 text-green-800 px-4 py-3 rounded-md shadow-lg"},"Vous êtes déconnecté"))}function Zee(){const t=al();return h.createElement("footer",{className:"bg-gray-900 text-white"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8"},h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"CyberTM"),h.createElement("p",{className:"mt-4 text-gray-400"},"Solutions innovantes de télémarketing pour la cybersécurité")),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Services"),h.createElement("ul",{className:"mt-4 space-y-2"},h.createElement("li",null,h.createElement(Ce,{to:"/services",className:`text-gray-400 hover:text-white ${t.pathname==="/services"?"text-white":""}`},"Télémarketing B2B")),h.createElement("li",null,h.createElement(Ce,{to:"/services",className:`text-gray-400 hover:text-white ${t.pathname==="/services"?"text-white":""}`},"Génération de leads")),h.createElement("li",null,h.createElement(Ce,{to:"/services",className:`text-gray-400 hover:text-white ${t.pathname==="/services"?"text-white":""}`},"Conseil en cybersécurité")))),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Ressources"),h.createElement("ul",{className:"mt-4 space-y-2"},h.createElement("li",null,h.createElement(Ce,{to:"/blog",className:`text-gray-400 hover:text-white ${t.pathname==="/blog"?"text-white":""}`},"Blog")),h.createElement("li",null,h.createElement(Ce,{to:"/why-us",className:`text-gray-400 hover:text-white ${t.pathname==="/why-us"?"text-white":""}`},"Études de cas")),h.createElement("li",null,h.createElement(Ce,{to:"/contact",className:`text-gray-400 hover:text-white ${t.pathname==="/contact"?"text-white":""}`},"FAQ")))),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Contact"),h.createElement("ul",{className:"mt-4 space-y-2"},h.createElement("li",{className:"text-gray-400"},"123 Avenue de la Cybersécurité"),h.createElement("li",{className:"text-gray-400"},"75001 Paris"),h.createElement("li",{className:"text-gray-400"},"+33 1 23 45 67 89"),h.createElement("li",{className:"text-gray-400"},"contact@cybertm.fr")))),h.createElement("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-gray-400"},h.createElement("p",null,"© ",new Date().getFullYear()," CyberTM. Tous droits réservés."))))}var u3={exports:{}},T0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ete=x,tte=Symbol.for("react.element"),nte=Symbol.for("react.fragment"),rte=Object.prototype.hasOwnProperty,ite=ete.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ste={key:!0,ref:!0,__self:!0,__source:!0};function d3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rte.call(e,r)&&!ste.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tte,type:t,key:s,ref:o,props:i,_owner:ite.current}}T0.Fragment=nte;T0.jsx=d3;T0.jsxs=d3;u3.exports=T0;var zr=u3.exports;const vS=x.createContext({});function bS(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const k0=x.createContext(null),wS=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ote extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ate({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(wS);return x.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),zr.jsx(ote,{isPresent:e,childRef:r,sizeRef:i,children:x.cloneElement(t,{ref:r})})}const lte=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=bS(cte),l=x.useId(),c=x.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=zr.jsx(ate,{isPresent:n,children:t})),zr.jsx(k0.Provider,{value:u,children:t})};function cte(){return new Map}function h3(t=!0){const e=x.useContext(k0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{t&&i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Wm=t=>t.key||"";function kA(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const xS=typeof window<"u",f3=xS?x.useLayoutEffect:x.useEffect,ute=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=h3(o),c=x.useMemo(()=>kA(t),[t]),u=o&&!a?[]:c.map(Wm),d=x.useRef(!0),f=x.useRef(c),p=bS(()=>new Map),[g,y]=x.useState(c),[v,b]=x.useState(c);f3(()=>{d.current=!1,f.current=c;for(let C=0;C<v.length;C++){const R=Wm(v[C]);u.includes(R)?p.delete(R):p.get(R)!==!0&&p.set(R,!1)}},[v,u.length,u.join("-")]);const w=[];if(c!==g){let C=[...c];for(let R=0;R<v.length;R++){const P=v[R],I=Wm(P);u.includes(I)||(C.splice(R,0,P),w.push(P))}s==="wait"&&w.length&&(C=w),b(kA(C)),y(c);return}const{forceRender:E}=x.useContext(vS);return zr.jsx(zr.Fragment,{children:v.map(C=>{const R=Wm(C),P=o&&!a?!1:c===v||u.includes(R),I=()=>{if(p.has(R))p.set(R,!0);else return;let k=!0;p.forEach(A=>{A||(k=!1)}),k&&(E==null||E(),b(f.current),o&&(l==null||l()),r&&r())};return zr.jsx(lte,{isPresent:P,initial:!d.current||n?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:I,children:C},R)})})},wr=t=>t;let Xx=wr;function _S(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},bs=t=>t*1e3,ws=t=>t/1e3,dte={skipAnimations:!1,useManualTiming:!1};function hte(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const qm=["read","resolveKeyframes","update","preRender","render","postRender"],fte=40;function m3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=qm.reduce((b,w)=>(b[w]=hte(s),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,p=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,fte),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:qm.reduce((b,w)=>{const E=o[w];return b[w]=(C,R=!1,P=!1)=>(n||g(),E.schedule(C,R,P)),b},{}),cancel:b=>{for(let w=0;w<qm.length;w++)o[qm[w]].cancel(b)},state:i,steps:o}}const{schedule:it,cancel:Vo,state:on,steps:yb}=m3(typeof requestAnimationFrame<"u"?requestAnimationFrame:wr,!0),p3=x.createContext({strict:!1}),IA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zc={};for(const t in IA)Zc[t]={isEnabled:e=>IA[t].some(n=>!!e[n])};function mte(t){for(const e in t)Zc[e]={...Zc[e],...t[e]}}const pte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pte.has(t)}let g3=t=>!oy(t);function gte(t){t&&(g3=e=>e.startsWith("on")?!oy(e):t(e))}try{gte(require("@emotion/is-prop-valid").default)}catch{}function yte(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(g3(i)||n===!0&&oy(i)||!e&&!oy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vte(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const I0=x.createContext({});function Yh(t){return typeof t=="string"||Array.isArray(t)}function C0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ES=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SS=["initial",...ES];function A0(t){return C0(t.animate)||SS.some(e=>Yh(t[e]))}function y3(t){return!!(A0(t)||t.variants)}function bte(t,e){if(A0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yh(n)?n:void 0,animate:Yh(r)?r:void 0}}return t.inherit!==!1?e:{}}function wte(t){const{initial:e,animate:n}=bte(t,x.useContext(I0));return x.useMemo(()=>({initial:e,animate:n}),[CA(e),CA(n)])}function CA(t){return Array.isArray(t)?t.join(" "):t}const xte=Symbol.for("motionComponentSymbol");function sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _te(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sc(n)&&(n.current=r))},[e])}const TS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ete="framerAppearId",v3="data-"+TS(Ete),{schedule:kS,cancel:Ive}=m3(queueMicrotask,!1),b3=x.createContext({});function Ste(t,e,n,r,i){var s,o;const{visualElement:a}=x.useContext(I0),l=x.useContext(p3),c=x.useContext(k0),u=x.useContext(wS).reducedMotion,d=x.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=x.useContext(b3);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Tte(d.current,n,i,p);const g=x.useRef(!1);x.useInsertionEffect(()=>{f&&g.current&&f.update(n,c)});const y=n[v3],v=x.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return f3(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),kS.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),v.current=!1))}),f}function Tte(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:w3(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&sc(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function w3(t){if(t)return t.options.allowProjection!==!1?t.projection:w3(t.parent)}function kte({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&mte(t);function a(c,u){let d;const f={...x.useContext(wS),...c,layoutId:Ite(c)},{isStatic:p}=f,g=wte(c),y=r(c,p);if(!p&&xS){Cte();const v=Ate(f);d=v.MeasureLayout,g.visualElement=Ste(i,y,f,e,v.ProjectionNode)}return zr.jsxs(I0.Provider,{value:g,children:[d&&g.visualElement?zr.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,c,_te(y,g.visualElement,u),y,p,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(a);return l[xte]=i,l}function Ite({layoutId:t}){const e=x.useContext(vS).id;return e&&t!==void 0?e+"-"+t:t}function Cte(t,e){x.useContext(p3).strict}function Ate(t){const{drag:e,layout:n}=Zc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Pte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IS(t){return typeof t!="string"||t.includes("-")?!1:!!(Pte.indexOf(t)>-1||/[A-Z]/u.test(t))}function x3(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const _3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E3(t,e,n,r){x3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_3.has(i)?i:TS(i),e.attrs[i])}const Tn=t=>!!(t&&t.getVelocity),vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bu=new Set(vu),ay={};function Rte(t){Object.assign(ay,t)}function S3(t,{layout:e,layoutId:n}){return bu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ay[t]||t==="opacity")}function CS(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Tn(i[o])||e.style&&Tn(e.style[o])||S3(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function T3(t,e,n){const r=CS(t,e,n);for(const i in t)if(Tn(t[i])||Tn(e[i])){const s=vu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function AA(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function AS(t,e,n,r){if(typeof e=="function"){const[i,s]=AA(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=AA(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Jx=t=>Array.isArray(t),Nte=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Dte=t=>Jx(t)?t[t.length-1]||0:t;function qp(t){const e=Tn(t)?t.get():t;return Nte(e)?e.toValue():e}function Mte({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Ote(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const k3=t=>(e,n)=>{const r=x.useContext(I0),i=x.useContext(k0),s=()=>Mte(t,e,r,i);return n?s():bS(s)};function Ote(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=qp(s[f]);let{initial:o,animate:a}=t;const l=A0(t),c=y3(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!C0(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=AS(t,f[p]);if(g){const{transitionEnd:y,transition:v,...b}=g;for(const w in b){let E=b[w];if(Array.isArray(E)){const C=u?E.length-1:0;E=E[C]}E!==null&&(i[w]=E)}for(const w in y)i[w]=y[w]}}}return i}const PS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),I3=()=>({...PS(),attrs:{}}),C3=t=>e=>typeof e=="string"&&e.startsWith(t),A3=C3("--"),Lte=C3("var(--"),RS=t=>Lte(t)?Vte.test(t.split("/*")[0].trim()):!1,Vte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,P3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cs=(t,e,n)=>n>e?e:n<t?t:n,wu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xh={...wu,transform:t=>Cs(0,1,t)},Gm={...wu,default:1},Ff=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qs=Ff("deg"),Fi=Ff("%"),de=Ff("px"),Fte=Ff("vh"),Bte=Ff("vw"),PA={...Fi,parse:t=>Fi.parse(t)/100,transform:t=>Fi.transform(t*100)},$te={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},jte={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:Gm,scaleX:Gm,scaleY:Gm,scaleZ:Gm,skew:Qs,skewX:Qs,skewY:Qs,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Xh,originX:PA,originY:PA,originZ:de},RA={...wu,transform:Math.round},NS={...$te,...jte,zIndex:RA,size:de,fillOpacity:Xh,strokeOpacity:Xh,numOctaves:RA},Ute={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zte=vu.length;function Hte(t,e,n){let r="",i=!0;for(let s=0;s<zte;s++){const o=vu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=P3(a,NS[o]);if(!l){i=!1;const u=Ute[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function DS(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(bu.has(l)){o=!0;continue}else if(A3(l)){i[l]=c;continue}else{const u=P3(c,NS[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=Hte(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function NA(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function Wte(t,e,n){const r=NA(e,t.x,t.width),i=NA(n,t.y,t.height);return`${r} ${i}`}const qte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gte={offset:"strokeDashoffset",array:"strokeDasharray"};function Kte(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?qte:Gte;t[s.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[s.array]=`${o} ${a}`}function MS(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(DS(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:g}=t;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Wte(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Kte(f,o,a,l,!1)}const OS=t=>typeof t=="string"&&t.toLowerCase()==="svg",Qte={useVisualState:k3({scrapeMotionValuesFromProps:T3,createRenderState:I3,onMount:(t,e,{renderState:n,latestValues:r})=>{it.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{MS(n,r,OS(e.tagName),t.transformTemplate),E3(e,n)})}})},Yte={useVisualState:k3({scrapeMotionValuesFromProps:CS,createRenderState:PS})};function R3(t,e,n){for(const r in e)!Tn(e[r])&&!S3(r,n)&&(t[r]=e[r])}function Xte({transformTemplate:t},e){return x.useMemo(()=>{const n=PS();return DS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Jte(t,e){const n=t.style||{},r={};return R3(r,n,t),Object.assign(r,Xte(t,e)),r}function Zte(t,e){const n={},r=Jte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function ene(t,e,n,r){const i=x.useMemo(()=>{const s=I3();return MS(s,e,OS(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};R3(s,t.style,t),i.style={...s,...i.style}}return i}function tne(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(IS(n)?ene:Zte)(r,s,o,n),c=yte(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=x.useMemo(()=>Tn(d)?d.get():d,[d]);return x.createElement(n,{...u,children:f})}}function nne(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...IS(r)?Qte:Yte,preloadedFeatures:t,useRender:tne(i),createVisualElement:e,Component:r};return kte(o)}}function N3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function P0(t,e,n){const r=t.getProps();return AS(r,e,n!==void 0?n:r.custom,t)}const rne=_S(()=>window.ScrollTimeline!==void 0);class ine{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(rne()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sne extends ine{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function LS(t,e){return t?t[e]||t.default||t:void 0}const Zx=2e4;function D3(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zx;)e+=n,r=t.next(e);return e>=Zx?1/0:e}function VS(t){return typeof t=="function"}function DA(t,e){t.timeline=e,t.onfinish=null}const FS=t=>Array.isArray(t)&&typeof t[0]=="number",one={linearEasing:void 0};function ane(t,e){const n=_S(t);return()=>{var r;return(r=one[e])!==null&&r!==void 0?r:n()}}const ly=ane(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),M3=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Jc(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function O3(t){return!!(typeof t=="function"&&ly()||!t||typeof t=="string"&&(t in e_||ly())||FS(t)||Array.isArray(t)&&t.every(O3))}const Td=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,e_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Td([0,.65,.55,1]),circOut:Td([.55,0,1,.45]),backIn:Td([.31,.01,.66,-.59]),backOut:Td([.33,1.53,.69,.99])};function L3(t,e){if(t)return typeof t=="function"&&ly()?M3(t,e):FS(t)?Td(t):Array.isArray(t)?t.map(n=>L3(n,e)||e_.easeOut):e_[t]}const Jr={x:!1,y:!1};function V3(){return Jr.x||Jr.y}function lne(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function F3(t,e){const n=lne(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function MA(t){return e=>{e.pointerType==="touch"||V3()||t(e)}}function cne(t,e,n={}){const[r,i,s]=F3(t,n),o=MA(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=MA(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const B3=(t,e)=>e?t===e?!0:B3(t,e.parentElement):!1,BS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,une=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dne(t){return une.has(t.tagName)||t.tabIndex!==-1}const kd=new WeakSet;function OA(t){return e=>{e.key==="Enter"&&t(e)}}function vb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hne=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OA(()=>{if(kd.has(n))return;vb(n,"down");const i=OA(()=>{vb(n,"up")}),s=()=>vb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function LA(t){return BS(t)&&!V3()}function fne(t,e,n={}){const[r,i,s]=F3(t,n),o=a=>{const l=a.currentTarget;if(!LA(a)||kd.has(l))return;kd.add(l);const c=e(a),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!LA(p)||!kd.has(l))&&(kd.delete(l),typeof c=="function"&&c(p,{success:g}))},d=p=>{u(p,n.useGlobalTarget||B3(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!dne(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>hne(c,i),i)}),s}function mne(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}const $3=new Set(["width","height","top","left","right","bottom",...vu]);let Gp;function pne(){Gp=void 0}const Bi={now:()=>(Gp===void 0&&Bi.set(on.isProcessing||dte.useManualTiming?on.timestamp:performance.now()),Gp),set:t=>{Gp=t,queueMicrotask(pne)}};function $S(t,e){t.indexOf(e)===-1&&t.push(e)}function jS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class US{constructor(){this.subscriptions=[]}add(e){return $S(this.subscriptions,e),()=>jS(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function j3(t,e){return e?t*(1e3/e):0}const VA=30,gne=t=>!isNaN(parseFloat(t));class yne{constructor(e,n={}){this.version="11.17.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Bi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gne(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new US);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VA);return j3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jh(t,e){return new yne(t,e)}function vne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jh(n))}function bne(t,e){const n=P0(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Dte(s[o]);vne(t,o,a)}}function wne(t){return!!(Tn(t)&&t.add)}function t_(t,e){const n=t.getValue("willChange");if(wne(n))return n.add(e)}function U3(t){return t.props[v3]}const z3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xne=1e-7,_ne=12;function Ene(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=z3(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>xne&&++a<_ne);return o}function Bf(t,e,n,r){if(t===e&&n===r)return wr;const i=s=>Ene(s,0,1,t,n);return s=>s===0||s===1?s:z3(i(s),e,r)}const H3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,W3=t=>e=>1-t(1-e),q3=Bf(.33,1.53,.69,.99),zS=W3(q3),G3=H3(zS),K3=t=>(t*=2)<1?.5*zS(t):.5*(2-Math.pow(2,-10*(t-1))),HS=t=>1-Math.sin(Math.acos(t)),Q3=W3(HS),Y3=H3(HS),X3=t=>/^0[^.\s]+$/u.test(t);function Sne(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||X3(t):!0}const eh=t=>Math.round(t*1e5)/1e5,WS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tne(t){return t==null}const kne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qS=(t,e)=>n=>!!(typeof n=="string"&&kne.test(n)&&n.startsWith(t)||e&&!Tne(n)&&Object.prototype.hasOwnProperty.call(n,e)),J3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(WS);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ine=t=>Cs(0,255,t),bb={...wu,transform:t=>Math.round(Ine(t))},Ta={test:qS("rgb","red"),parse:J3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bb.transform(t)+", "+bb.transform(e)+", "+bb.transform(n)+", "+eh(Xh.transform(r))+")"};function Cne(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const n_={test:qS("#"),parse:Cne,transform:Ta.transform},oc={test:qS("hsl","hue"),parse:J3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fi.transform(eh(e))+", "+Fi.transform(eh(n))+", "+eh(Xh.transform(r))+")"},_n={test:t=>Ta.test(t)||n_.test(t)||oc.test(t),parse:t=>Ta.test(t)?Ta.parse(t):oc.test(t)?oc.parse(t):n_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ta.transform(t):oc.transform(t)},Ane=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pne(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(WS))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ane))===null||n===void 0?void 0:n.length)||0)>0}const Z3="number",eF="color",Rne="var",Nne="var(",FA="${}",Dne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Dne,l=>(_n.test(l)?(r.color.push(s),i.push(eF),n.push(_n.parse(l))):l.startsWith(Nne)?(r.var.push(s),i.push(Rne),n.push(l)):(r.number.push(s),i.push(Z3),n.push(parseFloat(l))),++s,FA)).split(FA);return{values:n,split:a,indexes:r,types:i}}function tF(t){return Zh(t).values}function nF(t){const{split:e,types:n}=Zh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Z3?s+=eh(i[o]):a===eF?s+=_n.transform(i[o]):s+=i[o]}return s}}const Mne=t=>typeof t=="number"?0:t;function One(t){const e=tF(t);return nF(t)(e.map(Mne))}const Fo={test:Pne,parse:tF,createTransformer:nF,getAnimatableNone:One},Lne=new Set(["brightness","contrast","saturate","opacity"]);function Vne(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(WS)||[];if(!r)return t;const i=n.replace(r,"");let s=Lne.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Fne=/\b([a-z-]*)\(.*?\)/gu,r_={...Fo,getAnimatableNone:t=>{const e=t.match(Fne);return e?e.map(Vne).join(" "):t}},Bne={...NS,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:r_,WebkitFilter:r_},GS=t=>Bne[t];function rF(t,e){let n=GS(t);return n!==r_&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $ne=new Set(["auto","none","0"]);function jne(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!$ne.has(s)&&Zh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=rF(n,i)}const BA=t=>t===wu||t===de,$A=(t,e)=>parseFloat(t.split(", ")[e]),jA=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $A(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?$A(s[1],t):0}},Une=new Set(["x","y","z"]),zne=vu.filter(t=>!Une.has(t));function Hne(t){const e=[];return zne.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const eu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jA(4,13),y:jA(5,14)};eu.translateX=eu.x;eu.translateY=eu.y;const Oa=new Set;let i_=!1,s_=!1;function iF(){if(s_){const t=Array.from(Oa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Hne(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}s_=!1,i_=!1,Oa.forEach(t=>t.complete()),Oa.clear()}function sF(){Oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(s_=!0)})}function Wne(){sF(),iF()}class KS{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oa.add(this),i_||(i_=!0,it.read(sF),it.resolveKeyframes(iF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),qne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gne(t){const e=qne.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function aF(t,e,n=1){const[r,i]=Gne(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return oF(o)?parseFloat(o):o}return RS(i)?aF(i,e,n+1):i}const lF=t=>e=>e.test(t),Kne={test:t=>t==="auto",parse:t=>t},cF=[wu,de,Fi,Qs,Bte,Fte,Kne],UA=t=>cF.find(lF(t));class uF extends KS{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),RS(c))){const u=aF(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$3.has(r)||e.length!==2)return;const[i,s]=e,o=UA(i),a=UA(s);if(o!==a)if(BA(o)&&BA(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Sne(e[i])&&r.push(i);r.length&&jne(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=eu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const zA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fo.test(t)||t==="0")&&!t.startsWith("url("));function Qne(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Yne(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=zA(i,e),a=zA(s,e);return!o||!a?!1:Qne(t)||(n==="spring"||VS(n))&&r}const Xne=t=>t!==null;function R0(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Xne),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Jne=40;class dF{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bi.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Jne?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Wne(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Bi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Yne(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(R0(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function wb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zne({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=wb(l,a,t+1/3),s=wb(l,a,t),o=wb(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function cy(t,e){return n=>n>0?e:t}const xb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ere=[n_,Ta,oc],tre=t=>ere.find(e=>e.test(t));function HA(t){const e=tre(t);if(!e)return!1;let n=e.parse(t);return e===oc&&(n=Zne(n)),n}const WA=(t,e)=>{const n=HA(t),r=HA(e);if(!n||!r)return cy(t,e);const i={...n};return s=>(i.red=xb(n.red,r.red,s),i.green=xb(n.green,r.green,s),i.blue=xb(n.blue,r.blue,s),i.alpha=ft(n.alpha,r.alpha,s),Ta.transform(i))},nre=(t,e)=>n=>e(t(n)),$f=(...t)=>t.reduce(nre),o_=new Set(["none","hidden"]);function rre(t,e){return o_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ire(t,e){return n=>ft(t,e,n)}function QS(t){return typeof t=="number"?ire:typeof t=="string"?RS(t)?cy:_n.test(t)?WA:are:Array.isArray(t)?hF:typeof t=="object"?_n.test(t)?WA:sre:cy}function hF(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>QS(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function sre(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QS(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function ore(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const are=(t,e)=>{const n=Fo.createTransformer(e),r=Zh(t),i=Zh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?o_.has(t)&&!i.values.length||o_.has(e)&&!r.values.length?rre(t,e):$f(hF(ore(r,i),i.values),n):cy(t,e)};function fF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):QS(t)(t,e)}const lre=5;function mF(t,e,n){const r=Math.max(e-lre,0);return j3(n-t(r),e-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qA=.001;function cre({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let i,s,o=1-e;o=Cs(wt.minDamping,wt.maxDamping,o),t=Cs(wt.minDuration,wt.maxDuration,ws(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,p=a_(c,o),g=Math.exp(-d);return qA-f/p*g},s=c=>{const d=c*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=a_(Math.pow(c,2),o);return(-i(c)+qA>0?-1:1)*((f-p)*g)/y}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-.001+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=dre(i,s,a);if(t=bs(t),isNaN(l))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const ure=12;function dre(t,e,n){let r=n;for(let i=1;i<ure;i++)r=r-t(r)/e(r);return r}function a_(t,e){return t*Math.sqrt(1-e*e)}const hre=["duration","bounce"],fre=["stiffness","damping","mass"];function GA(t,e){return e.some(n=>t[n]!==void 0)}function mre(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!GA(t,fre)&&GA(t,hre))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Cs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:wt.mass,stiffness:i,damping:s}}else{const n=cre(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function pF(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=mre({...n,velocity:-ws(n.velocity||0)}),g=f||0,y=c/(2*Math.sqrt(l*u)),v=o-s,b=ws(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?wt.restSpeed.granular:wt.restSpeed.default),i||(i=w?wt.restDelta.granular:wt.restDelta.default);let E;if(y<1){const R=a_(b,y);E=P=>{const I=Math.exp(-y*b*P);return o-I*((g+y*b*v)/R*Math.sin(R*P)+v*Math.cos(R*P))}}else if(y===1)E=R=>o-Math.exp(-b*R)*(v+(g+b*v)*R);else{const R=b*Math.sqrt(y*y-1);E=P=>{const I=Math.exp(-y*b*P),k=Math.min(R*P,300);return o-I*((g+y*b*v)*Math.sinh(k)+R*v*Math.cosh(k))/R}}const C={calculatedDuration:p&&d||null,next:R=>{const P=E(R);if(p)a.done=R>=d;else{let I=0;y<1&&(I=R===0?bs(g):mF(E,R,P));const k=Math.abs(I)<=r,A=Math.abs(o-P)<=i;a.done=k&&A}return a.value=a.done?o:P,a},toString:()=>{const R=Math.min(D3(C),Zx),P=M3(I=>C.next(R*I).value,R,30);return R+"ms "+P}};return C}function KA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let y=n*e;const v=d+y,b=o===void 0?v:o(v);b!==v&&(y=b-d);const w=k=>-y*Math.exp(-k/r),E=k=>b+w(k),C=k=>{const A=w(k),S=E(k);f.done=Math.abs(A)<=c,f.value=f.done?b:S};let R,P;const I=k=>{p(f.value)&&(R=k,P=pF({keyframes:[f.value,g(f.value)],velocity:mF(E,k,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:k=>{let A=!1;return!P&&R===void 0&&(A=!0,C(k),I(k)),R!==void 0&&k>=R?P.next(k-R):(!A&&C(k),f)}}}const pre=Bf(.42,0,1,1),gre=Bf(0,0,.58,1),gF=Bf(.42,0,.58,1),yre=t=>Array.isArray(t)&&typeof t[0]!="number",QA={linear:wr,easeIn:pre,easeInOut:gF,easeOut:gre,circIn:HS,circInOut:Y3,circOut:Q3,backIn:zS,backInOut:G3,backOut:q3,anticipate:K3},YA=t=>{if(FS(t)){Xx(t.length===4);const[e,n,r,i]=t;return Bf(e,n,r,i)}else if(typeof t=="string")return Xx(QA[t]!==void 0),QA[t];return t};function vre(t,e,n){const r=[],i=n||fF,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||wr:e;a=$f(l,a)}r.push(a)}return r}function bre(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Xx(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=vre(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Jc(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Cs(t[0],t[s-1],u)):c}function wre(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jc(0,e,r);t.push(ft(n,1,i))}}function xre(t){const e=[0];return wre(e,t.length-1),e}function _re(t,e){return t.map(n=>n*e)}function Ere(t,e){return t.map(()=>e||gF).splice(0,t.length-1)}function uy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yre(r)?r.map(YA):YA(r),s={done:!1,value:e[0]},o=_re(n&&n.length===e.length?n:xre(e),t),a=bre(o,e,{ease:Array.isArray(i)?i:Ere(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Sre=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>Vo(e),now:()=>on.isProcessing?on.timestamp:Bi.now()}},Tre={decay:KA,inertia:KA,tween:uy,keyframes:uy,spring:pF},kre=t=>t/100;class YS extends dF{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||KS,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=VS(n)?n:Tre[n]||uy;let l,c;a!==uy&&typeof e[0]!="number"&&(l=$f(kre,fF(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=D3(u));const{calculatedDuration:d}=u,f=d+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let E=this.currentTime,C=s;if(p){const k=Math.min(this.currentTime,u)/d;let A=Math.floor(k),S=k%1;!S&&k>=1&&(S=1),S===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(g==="reverse"?(S=1-S,y&&(S-=y/d)):g==="mirror"&&(C=o)),E=Cs(0,1,S)*d}const R=w?{done:!1,value:l[0]}:C.next(E);a&&(R.value=a(R.value));let{done:P}=R;!w&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&i!==void 0&&(R.value=R0(l,this.options,i)),v&&v(R.value),I&&this.finish(),R}get duration(){const{resolved:e}=this;return e?ws(e.calculatedDuration):0}get time(){return ws(this.currentTime)}set time(e){e=bs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ws(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Sre,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ire=new Set(["opacity","clipPath","filter","transform"]);function Cre(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=L3(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Are=_S(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dy=10,Pre=2e4;function Rre(t){return VS(t.type)||t.type==="spring"||!O3(t.ease)}function Nre(t,e){const n=new YS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Pre;)r=n.sample(s),i.push(r.value),s+=dy;return{times:void 0,keyframes:i,duration:s-dy,ease:"linear"}}const yF={anticipate:K3,backInOut:G3,circInOut:Y3};function Dre(t){return t in yF}class XA extends dF{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new uF(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&ly()&&Dre(o)&&(o=yF[o]),Rre(this.options)){const{onComplete:f,onUpdate:p,motionValue:g,element:y,...v}=this.options,b=Nre(e,v);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,s=b.times,o=b.ease,a="keyframes"}const d=Cre(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(DA(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(R0(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ws(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ws(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=bs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return wr;const{animation:r}=n;DA(r,e)}return wr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,g=new YS({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=bs(this.time);c.setWithVelocity(g.sample(y-dy).value,g.sample(y).value,dy)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Are()&&r&&Ire.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Mre={type:"spring",stiffness:500,damping:25,restSpeed:10},Ore=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lre={type:"keyframes",duration:.8},Vre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fre=(t,{keyframes:e})=>e.length>2?Lre:bu.has(t)?t.startsWith("scale")?Ore(e[1]):Mre:Vre;function Bre({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const XS=(t,e,n,r={},i,s)=>o=>{const a=LS(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-bs(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Bre(a)||(u={...u,...Fre(t,u)}),u.duration&&(u.duration=bs(u.duration)),u.repeatDelay&&(u.repeatDelay=bs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=R0(u.keyframes,a);if(f!==void 0)return it.update(()=>{u.onUpdate(f),u.onComplete()}),new sne([])}return!s&&XA.supports(u)?new XA(u):new YS(u)};function $re({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),p=l[d];if(p===void 0||u&&$re(u,d))continue;const g={delay:n,...LS(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const b=U3(t);if(b){const w=window.MotionHandoffAnimation(b,d,it);w!==null&&(g.startTime=w,y=!0)}}t_(t,d),f.start(XS(d,f,p,t.shouldReduceMotion&&$3.has(d)?{type:!1}:g,t,y));const v=f.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{it.update(()=>{a&&bne(t,a)})}),c}function l_(t,e,n={}){var r;const i=P0(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(vF(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return jre(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function jre(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Ure).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(l_(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Ure(t,e){return t.sortNodePosition(e)}function zre(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>l_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=l_(t,e,n);else{const i=typeof e=="function"?P0(t,e,n.custom):e;r=Promise.all(vF(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Hre=SS.length;function bF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Hre;n++){const r=SS[n],i=t.props[r];(Yh(i)||i===!1)&&(e[r]=i)}return e}const Wre=[...ES].reverse(),qre=ES.length;function Gre(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zre(t,n,r)))}function Kre(t){let e=Gre(t),n=JA(),r=!0;const i=l=>(c,u)=>{var d;const f=P0(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=bF(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let v=0;v<qre;v++){const b=Wre[v],w=n[b],E=c[b]!==void 0?c[b]:u[b],C=Yh(E),R=b===l?w.isActive:null;R===!1&&(g=v);let P=E===u[b]&&E!==c[b]&&C;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&R===null||!E&&!w.prevProp||C0(E)||typeof E=="boolean")continue;const I=Qre(w.prevProp,E);let k=I||b===l&&w.isActive&&!P&&C||v>g&&C,A=!1;const S=Array.isArray(E)?E:[E];let N=S.reduce(i(b),{});R===!1&&(N={});const{prevResolvedValues:O={}}=w,M={...O,...N},ne=ee=>{k=!0,f.has(ee)&&(A=!0,f.delete(ee)),w.needsAnimating[ee]=!0;const H=t.getValue(ee);H&&(H.liveStyle=!1)};for(const ee in M){const H=N[ee],J=O[ee];if(p.hasOwnProperty(ee))continue;let L=!1;Jx(H)&&Jx(J)?L=!N3(H,J):L=H!==J,L?H!=null?ne(ee):f.add(ee):H!==void 0&&f.has(ee)?ne(ee):w.protectedKeys[ee]=!0}w.prevProp=E,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(P&&I)||A)&&d.push(...S.map(ee=>({animation:ee,options:{type:b}})))}if(f.size){const v={};f.forEach(b=>{const w=t.getBaseTarget(b),E=t.getValue(b);E&&(E.liveStyle=!0),v[b]=w??null}),d.push({animation:v})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=JA(),r=!0}}}function Qre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N3(e,t):!1}function ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JA(){return{animate:ta(!0),whileInView:ta(),whileHover:ta(),whileTap:ta(),whileDrag:ta(),whileFocus:ta(),exit:ta()}}class Go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yre extends Go{constructor(e){super(e),e.animationState||(e.animationState=Kre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();C0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Xre=0;class Jre extends Go{constructor(){super(...arguments),this.id=Xre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Zre={animation:{Feature:Yre},exit:{Feature:Jre}};function ef(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function jf(t){return{point:{x:t.pageX,y:t.pageY}}}const eie=t=>e=>BS(e)&&t(e,jf(e));function th(t,e,n,r){return ef(t,e,eie(n),r)}const ZA=(t,e)=>Math.abs(t-e);function tie(t,e){const n=ZA(t.x,e.x),r=ZA(t.y,e.y);return Math.sqrt(n**2+r**2)}class wF{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Eb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=tie(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=d,{timestamp:y}=on;this.history.push({...g,timestamp:y});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=_b(f,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Eb(d.type==="pointercancel"?this.lastMoveEventInfo:_b(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),g&&g(d,v)},!BS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=jf(e),a=_b(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=on;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Eb(a,this.history)),this.removeListeners=$f(th(this.contextWindow,"pointermove",this.handlePointerMove),th(this.contextWindow,"pointerup",this.handlePointerUp),th(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo(this.updatePoint)}}function _b(t,e){return e?{point:e(t.point)}:t}function eP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Eb({point:t},e){return{point:t,delta:eP(t,xF(e)),offset:eP(t,nie(e)),velocity:rie(e,.1)}}function nie(t){return t[0]}function xF(t){return t[t.length-1]}function rie(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bs(e)));)n--;if(!r)return{x:0,y:0};const s=ws(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const _F=1e-4,iie=1-_F,sie=1+_F,EF=.01,oie=0-EF,aie=0+EF;function Tr(t){return t.max-t.min}function lie(t,e,n){return Math.abs(t-e)<=n}function tP(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=iie&&t.scale<=sie||isNaN(t.scale))&&(t.scale=1),(t.translate>=oie&&t.translate<=aie||isNaN(t.translate))&&(t.translate=0)}function nh(t,e,n,r){tP(t.x,e.x,n.x,r?r.originX:void 0),tP(t.y,e.y,n.y,r?r.originY:void 0)}function nP(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function cie(t,e,n){nP(t.x,e.x,n.x),nP(t.y,e.y,n.y)}function rP(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function rh(t,e,n){rP(t.x,e.x,n.x),rP(t.y,e.y,n.y)}function uie(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function iP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function die(t,{top:e,left:n,bottom:r,right:i}){return{x:iP(t.x,n,i),y:iP(t.y,e,r)}}function sP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hie(t,e){return{x:sP(t.x,e.x),y:sP(t.y,e.y)}}function fie(t,e){let n=.5;const r=Tr(t),i=Tr(e);return i>r?n=Jc(e.min,e.max-r,t.min):r>i&&(n=Jc(t.min,t.max-i,e.min)),Cs(0,1,n)}function mie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const c_=.35;function pie(t=c_){return t===!1?t=0:t===!0&&(t=c_),{x:oP(t,"left","right"),y:oP(t,"top","bottom")}}function oP(t,e,n){return{min:aP(t,e),max:aP(t,n)}}function aP(t,e){return typeof t=="number"?t:t[e]||0}const lP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ac=()=>({x:lP(),y:lP()}),cP=()=>({min:0,max:0}),kt=()=>({x:cP(),y:cP()});function Dr(t){return[t("x"),t("y")]}function SF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gie({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yie(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sb(t){return t===void 0||t===1}function u_({scale:t,scaleX:e,scaleY:n}){return!Sb(t)||!Sb(e)||!Sb(n)}function ua(t){return u_(t)||TF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TF(t){return uP(t.x)||uP(t.y)}function uP(t){return t&&t!=="0%"}function hy(t,e,n){const r=t-n,i=e*r;return n+i}function dP(t,e,n,r,i){return i!==void 0&&(t=hy(t,i,r)),hy(t,n,r)+e}function d_(t,e=0,n=1,r,i){t.min=dP(t.min,e,n,r,i),t.max=dP(t.max,e,n,r,i)}function kF(t,{x:e,y:n}){d_(t.x,e.translate,e.scale,e.originPoint),d_(t.y,n.translate,n.scale,n.originPoint)}const hP=.999999999999,fP=1.0000000000001;function vie(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kF(t,o)),r&&ua(s.latestValues)&&cc(t,s.latestValues))}e.x<fP&&e.x>hP&&(e.x=1),e.y<fP&&e.y>hP&&(e.y=1)}function lc(t,e){t.min=t.min+e,t.max=t.max+e}function mP(t,e,n,r,i=.5){const s=ft(t.min,t.max,i);d_(t,e,n,s,r)}function cc(t,e){mP(t.x,e.x,e.scaleX,e.scale,e.originX),mP(t.y,e.y,e.scaleY,e.scale,e.originY)}function IF(t,e){return SF(yie(t.getBoundingClientRect(),e))}function bie(t,e,n){const r=IF(t,n),{scroll:i}=e;return i&&(lc(r.x,i.offset.x),lc(r.y,i.offset.y)),r}const CF=({current:t})=>t?t.ownerDocument.defaultView:null,wie=new WeakMap;class xie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jf(u).point)},s=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mne(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dr(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Fi.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[v];E&&(b=Tr(E)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&it.postRender(()=>g(u,d)),t_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=_ie(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Dr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new wF(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CF(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&it.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Km(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uie(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&sc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=die(i.layoutBox,n):this.constraints=!1,this.elastic=pie(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Dr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mie(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bie(r,i.root,this.visualElement.getTransformPagePoint());let o=hie(i.layout.layoutBox,s);if(n){const a=n(gie(o));this.hasMutatedConstraints=!!a,a&&(o=SF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Dr(u=>{if(!Km(u,n,this.currentDirection))return;let d=l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return t_(this.visualElement,e),r.start(XS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dr(n=>{const{drag:r}=this.getProps();if(!Km(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ft(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Dr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=fie({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dr(o=>{if(!Km(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ft(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;wie.set(this.visualElement,this);const e=this.visualElement.current,n=th(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),it.read(r);const o=ef(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Dr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=c_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Km(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _ie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Eie extends Go{constructor(e){super(e),this.removeGroupControls=wr,this.removeListeners=wr,this.controls=new xie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const pP=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class Sie extends Go{constructor(){super(...arguments),this.removePointerDownListener=wr}onPointerDown(e){this.session=new wF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pP(e),onStart:pP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&it.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=th(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=gP(t,e.target.x),r=gP(t,e.target.y);return`${n}% ${r}%`}},Tie={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fo.parse(t);if(i.length>5)return r;const s=Fo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ft(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class kie extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Rte(Iie),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||it.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AF(t){const[e,n]=h3(),r=x.useContext(vS);return zr.jsx(kie,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(b3),isPresent:e,safeToRemove:n})}const Iie={borderRadius:{...sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sd,borderTopRightRadius:sd,borderBottomLeftRadius:sd,borderBottomRightRadius:sd,boxShadow:Tie};function Cie(t,e,n){const r=Tn(t)?t:Jh(t);return r.start(XS("",r,e,n)),r.animation}function Aie(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Pie=(t,e)=>t.depth-e.depth;class Rie{constructor(){this.children=[],this.isDirty=!1}add(e){$S(this.children,e),this.isDirty=!0}remove(e){jS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pie),this.isDirty=!1,this.children.forEach(e)}}function Nie(t,e){const n=Bi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vo(r),t(s-e))};return it.read(r,!0),()=>Vo(r)}const PF=["TopLeft","TopRight","BottomLeft","BottomRight"],Die=PF.length,yP=t=>typeof t=="string"?parseFloat(t):t,vP=t=>typeof t=="number"||de.test(t);function Mie(t,e,n,r,i,s){i?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,Oie(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,Lie(r))):s&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Die;o++){const a=`border${PF[o]}Radius`;let l=bP(e,a),c=bP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vP(l)===vP(c)?(t[a]=Math.max(ft(yP(l),yP(c),r),0),(Fi.test(c)||Fi.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function bP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Oie=RF(0,.5,Q3),Lie=RF(.5,.95,wr);function RF(t,e,n){return r=>r<t?0:r>e?1:n(Jc(t,e,r))}function wP(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){wP(t.x,e.x),wP(t.y,e.y)}function xP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _P(t,e,n,r,i){return t-=e,t=hy(t,1/n,r),i!==void 0&&(t=hy(t,1/i,r)),t}function Vie(t,e=0,n=1,r=.5,i,s=t,o=t){if(Fi.test(e)&&(e=parseFloat(e),e=ft(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ft(s.min,s.max,r);t===s&&(a-=e),t.min=_P(t.min,e,n,a,i),t.max=_P(t.max,e,n,a,i)}function EP(t,e,[n,r,i],s,o){Vie(t,e[n],e[r],e[i],e.scale,s,o)}const Fie=["x","scaleX","originX"],Bie=["y","scaleY","originY"];function SP(t,e,n,r){EP(t.x,e,Fie,n?n.x:void 0,r?r.x:void 0),EP(t.y,e,Bie,n?n.y:void 0,r?r.y:void 0)}function TP(t){return t.translate===0&&t.scale===1}function NF(t){return TP(t.x)&&TP(t.y)}function kP(t,e){return t.min===e.min&&t.max===e.max}function $ie(t,e){return kP(t.x,e.x)&&kP(t.y,e.y)}function IP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DF(t,e){return IP(t.x,e.x)&&IP(t.y,e.y)}function CP(t){return Tr(t.x)/Tr(t.y)}function AP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jie{constructor(){this.members=[]}add(e){$S(this.members,e),e.scheduleRender()}remove(e){if(jS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uie(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Id=typeof window<"u"&&window.MotionDebug!==void 0,Tb=["","X","Y","Z"],zie={visibility:"hidden"},PP=1e3;let Hie=0;function kb(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function MF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=U3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&MF(r)}function OF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Hie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Id&&(da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0),this.nodes.forEach(Gie),this.nodes.forEach(Jie),this.nodes.forEach(Zie),this.nodes.forEach(Kie),Id&&window.MotionDebug.record(da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new US),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Aie(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Nie(f,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(NP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||ise,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!DF(this.targetLayout,g)||p,E=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const C={...LS(y,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||NP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ese),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RP);return}this.isUpdating||this.nodes.forEach(Yie),this.isUpdating=!1,this.nodes.forEach(Xie),this.nodes.forEach(Wie),this.nodes.forEach(qie),this.clearAllSnapshots();const a=Bi.now();on.delta=Cs(0,1e3/60,a-on.timestamp),on.timestamp=a,on.isProcessing=!0,yb.update.process(on),yb.preRender.process(on),yb.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qie),this.sharedNodes.forEach(tse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ua(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sse(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return kt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ose))){const{scroll:u}=this.root;u&&(lc(l.x,u.offset.x),lc(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=kt();if(Rr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Rr(l,o),lc(l.x,d.offset.x),lc(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=kt();Rr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ua(u.latestValues)&&cc(l,u.latestValues)}return ua(this.latestValues)&&cc(l,this.latestValues),l}removeTransform(o){const a=kt();Rr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ua(c.latestValues))continue;u_(c.latestValues)&&c.updateSnapshot();const u=kt(),d=c.measurePageBox();Rr(u,d),SP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ua(this.latestValues)&&SP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),rh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),kF(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),rh(this.relativeTargetOrigin,this.target,p.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Id&&da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||u_(this.parent.latestValues)||TF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===on.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Rr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;vie(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=kt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xP(this.prevProjectionDelta.x,this.projectionDelta.x),xP(this.prevProjectionDelta.y,this.projectionDelta.y)),nh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!AP(this.projectionDelta.x,this.prevProjectionDelta.x)||!AP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Id&&da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ac(),this.projectionDelta=ac(),this.projectionDeltaWithTransform=ac()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=kt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,v=this.getStack(),b=!v||v.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(rse));this.animationProgress=0;let E;this.mixTargetDelta=C=>{const R=C/1e3;DP(d.x,o.x,R),DP(d.y,o.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nse(this.relativeTarget,this.relativeTargetOrigin,f,R),E&&$ie(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=kt()),Rr(E,this.relativeTarget)),y&&(this.animationValues=u,Mie(u,c,this.latestValues,R,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Kp.hasAnimatedSinceResize=!0,this.currentAnimation=Cie(0,PP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&LF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kt();const d=Tr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Tr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Rr(a,l),cc(a,u),nh(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&kb("z",o,c,this.animationValues);for(let u=0;u<Tb.length;u++)kb(`rotate${Tb[u]}`,o,c,this.animationValues),kb(`skew${Tb[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zie;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=qp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=qp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Uie(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ay){if(f[y]===void 0)continue;const{correct:v,applyTo:b}=ay[y],w=c.transform==="none"?f[y]:v(f[y],d);if(b){const E=b.length;for(let C=0;C<E;C++)c[b[C]]=w}else c[y]=w}return this.options.layoutId&&(c.pointerEvents=d===this?qp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(RP),this.root.sharedNodes.clear()}}}function Wie(t){t.updateLayout()}function qie(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Dr(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Tr(f);f.min=r[d].min,f.max=f.min+p}):LF(s,n.layoutBox,r)&&Dr(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Tr(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=ac();nh(a,r,n.layoutBox);const l=ac();o?nh(l,t.applyTransform(i,!0),n.measuredBox):nh(l,r,n.layoutBox);const c=!NF(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=kt();rh(g,n.layoutBox,f.layoutBox);const y=kt();rh(y,r,p.layoutBox),DF(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Gie(t){Id&&da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qie(t){t.clearSnapshot()}function RP(t){t.clearMeasurements()}function Yie(t){t.isLayoutDirty=!1}function Xie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function NP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jie(t){t.resolveTargetDelta()}function Zie(t){t.calcProjection()}function ese(t){t.resetSkewAndRotation()}function tse(t){t.removeLeadSnapshot()}function DP(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function MP(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function nse(t,e,n,r){MP(t.x,e.x,n.x,r),MP(t.y,e.y,n.y,r)}function rse(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ise={duration:.45,ease:[.4,0,.1,1]},OP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),LP=OP("applewebkit/")&&!OP("chrome/")?Math.round:wr;function VP(t){t.min=LP(t.min),t.max=LP(t.max)}function sse(t){VP(t.x),VP(t.y)}function LF(t,e,n){return t==="position"||t==="preserve-aspect"&&!lie(CP(e),CP(n),.2)}function ose(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ase=OF({attachResizeListener:(t,e)=>ef(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ib={current:void 0},VF=OF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ib.current){const t=new ase({});t.mount(window),t.setOptions({layoutScroll:!0}),Ib.current=t}return Ib.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lse={pan:{Feature:Sie},drag:{Feature:Eie,ProjectionNode:VF,MeasureLayout:AF}};function FP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&it.postRender(()=>s(e,jf(e)))}class cse extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=cne(e,n=>(FP(this.node,n,"Start"),r=>FP(this.node,r,"End"))))}unmount(){}}class use extends Go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$f(ef(this.node.current,"focus",()=>this.onFocus()),ef(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BP(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&it.postRender(()=>s(e,jf(e)))}class dse extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=fne(e,n=>(BP(this.node,n,"Start"),(r,{success:i})=>BP(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h_=new WeakMap,Cb=new WeakMap,hse=t=>{const e=h_.get(t.target);e&&e(t)},fse=t=>{t.forEach(hse)};function mse({root:t,...e}){const n=t||document;Cb.has(n)||Cb.set(n,{});const r=Cb.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fse,{root:t,...e})),r[i]}function pse(t,e,n){const r=mse(e);return h_.set(t,n),r.observe(t),()=>{h_.delete(t),r.unobserve(t)}}const gse={some:0,all:1};class yse extends Go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gse[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return pse(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vse(e,n))&&this.startObserver()}unmount(){}}function vse({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bse={inView:{Feature:yse},tap:{Feature:dse},focus:{Feature:use},hover:{Feature:cse}},wse={layout:{ProjectionNode:VF,MeasureLayout:AF}},f_={current:null},FF={current:!1};function xse(){if(FF.current=!0,!!xS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>f_.current=t.matches;t.addListener(e),e()}else f_.current=!1}const _se=[...cF,_n,Fo],Ese=t=>_se.find(lF(t)),$P=new WeakMap;function Sse(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Tn(i))t.addValue(r,i);else if(Tn(s))t.addValue(r,Jh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jh(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tse{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Bi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,it.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=A0(n),this.isVariantNode=y3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Tn(p)&&p.set(l[f],!1)}}mount(e){this.current=e,$P.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FF.current||xse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:f_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$P.delete(this.current),this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bu.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zc){const n=Zc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jP.length;r++){const i=jP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Sse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(oF(i)||X3(i))?i=parseFloat(i):!Ese(i)&&Fo.test(n)&&(i=rF(e,n)),this.setBaseTarget(e,Tn(i)?i.get():i)),Tn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=AS(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Tn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new US),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BF extends Tse{constructor(){super(...arguments),this.KeyframeResolver=uF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kse(t){return window.getComputedStyle(t)}class Ise extends BF{constructor(){super(...arguments),this.type="html",this.renderInstance=x3}readValueFromInstance(e,n){if(bu.has(n)){const r=GS(n);return r&&r.default||0}else{const r=kse(e),i=(A3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IF(e,n)}build(e,n,r){DS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return CS(e,n,r)}}class Cse extends BF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bu.has(n)){const r=GS(n);return r&&r.default||0}return n=_3.has(n)?n:TS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return T3(e,n,r)}build(e,n,r){MS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){E3(e,n,r,i)}mount(e){this.isSVGTag=OS(e.tagName),super.mount(e)}}const Ase=(t,e)=>IS(t)?new Cse(e):new Ise(e,{allowProjection:t!==x.Fragment}),Pse=nne({...Zre,...bse,...lse,...wse},Ase),F=vte(Pse),Ab={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Zi={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function Rse(){const t=[{icon:gS,title:"Scan de Vulnérabilités Gratuit",description:"Évaluez la sécurité de votre infrastructure en quelques minutes.",path:"vulnerability-scan",highlight:!0},{icon:Ui,title:"Télémarketing B2B Spécialisé",description:"Prospection ciblée auprès des décideurs IT et RSSI.",path:"telemarketing-b2b"},{icon:en,title:"Génération de Leads Qualifiés",description:"Identification et qualification des opportunités commerciales.",path:"lead-generation"},{icon:Jt,title:"Conseil en Cybersécurité",description:"Accompagnement personnalisé pour votre stratégie de sécurité.",path:"cyber-consulting"},{icon:Gi,title:"Calcul de ROI par IA",description:"Analyse prédictive de vos investissements en cybersécurité.",path:"roi-calculator"},{icon:fS,title:"Générateur de Scripts IA",description:"Scripts d'appel optimisés par l'intelligence artificielle.",path:"ai-script-generator"},{icon:S0,title:"Dashboard IA",description:"Tableaux de bord intelligents et automatisés.",path:"ai-dashboard"}];return h.createElement("div",{className:"relative"},h.createElement("div",{className:"relative h-screen"},h.createElement("div",{className:"absolute inset-0"},h.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/90 to-blue-600/90 z-10"}),h.createElement(F.div,{initial:{scale:1.1},animate:{scale:1},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"w-full h-full"},h.createElement("video",{className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/images/cyber-security-bg.jpg",style:{filter:"brightness(0.8)"}},h.createElement("source",{src:"/videos/cyber-security.mp4",type:"video/mp4"})))),h.createElement("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full"},h.createElement("div",{className:"flex flex-col justify-center h-full"},h.createElement(F.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl md:text-6xl font-bold text-white max-w-3xl"},h.createElement(F.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-100 to-blue-300"},"Sécuriser votre entreprise")," ","avec des solutions IA Cybersécurité"),h.createElement(F.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-6 text-xl text-gray-100 max-w-2xl"},"Expertise en télémarketing B2B spécialisée dans la cybersécurité. Générez des leads qualifiés et développez votre activité en toute sécurité."),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-10 flex flex-wrap gap-4"},h.createElement(Ce,{to:"/contact",className:"group inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-gradient-to-r from-orange-500 to-orange-700 hover:from-orange-600 hover:to-orange-800 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"},"Consultation gratuite",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))),h.createElement("a",{href:"#nos-services",className:"inline-flex items-center px-8 py-4 border-2 border-white text-lg font-medium rounded-md text-white hover:bg-white hover:text-blue-900 transform hover:scale-105 transition-all duration-300"},"Découvrir nos services")))),h.createElement(F.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0}},h.createElement("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center"},h.createElement(F.div,{className:"w-1 h-3 bg-white rounded-full mt-2",animate:{y:[0,15,0]},transition:{duration:1.5,repeat:1/0}})))),h.createElement(F.div,{variants:Ab,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"bg-white py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},h.createElement(F.div,{variants:Zi,className:"text-center transform hover:scale-105 transition-transform duration-300"},h.createElement("div",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent"},"80%"),h.createElement("div",{className:"mt-2 text-gray-600"},"des entreprises réduisent leur risque cyber")),h.createElement(F.div,{variants:Zi,className:"text-center transform hover:scale-105 transition-transform duration-300"},h.createElement("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent"},"95%"),h.createElement("div",{className:"mt-2 text-gray-600"},"de satisfaction client")),h.createElement(F.div,{variants:Zi,className:"text-center transform hover:scale-105 transition-transform duration-300"},h.createElement("div",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-400 bg-clip-text text-transparent"},"+150%"),h.createElement("div",{className:"mt-2 text-gray-600"},"de ROI moyen"))))),h.createElement("div",{id:"nos-services",className:"bg-gradient-to-b from-gray-50 to-white py-24"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{variants:Ab,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-16"},h.createElement(F.h2,{variants:Zi,className:"text-3xl font-bold text-gray-900"},"Nos Services"),h.createElement(F.p,{variants:Zi,className:"mt-4 text-xl text-gray-600"},"Des solutions innovantes propulsées par l'IA pour votre sécurité et votre croissance")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},t.map((e,n)=>h.createElement(F.div,{key:e.title,variants:Zi,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 ${e.highlight?"ring-2 ring-blue-500 ring-offset-2":""}`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(e.icon,{className:`h-12 w-12 ${e.highlight?"text-blue-600 animate-pulse":"text-blue-600"}`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},e.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},e.description),h.createElement("div",{className:"mt-6 flex justify-center"},h.createElement(Ce,{to:`/services/${e.path}`,className:`inline-flex items-center px-4 py-2 rounded-md ${e.highlight?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800":"bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800"} transition-all duration-300 shadow-md hover:shadow-lg`},"Découvrir",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))),h.createElement(F.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"relative bg-gradient-to-r from-blue-900 to-blue-700 py-16 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{variants:Ab,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center"},h.createElement(F.h2,{variants:Zi,className:"text-3xl font-bold text-white mb-8"},"Prêt à sécuriser votre avenir numérique ?"),h.createElement(F.p,{variants:Zi,className:"text-xl text-blue-100 mb-12 max-w-2xl mx-auto"},"Discutons de vos besoins en cybersécurité et développons ensemble une stratégie sur mesure."),h.createElement(F.div,{variants:Zi,whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-gradient-to-r from-orange-500 to-orange-700 hover:from-orange-600 hover:to-orange-800 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Parlons de votre projet",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}function Nse(){const t=[{icon:gS,title:"Scan de Vulnérabilités Gratuit",description:"Évaluez la sécurité de votre infrastructure en quelques minutes.",path:"vulnerability-scan",highlight:!0},{icon:Ui,title:"Télémarketing B2B Spécialisé",description:"Prospection ciblée auprès des décideurs IT et RSSI.",path:"telemarketing-b2b"},{icon:en,title:"Génération de Leads Qualifiés",description:"Identification et qualification des opportunités commerciales.",path:"lead-generation"},{icon:Jt,title:"Conseil en Cybersécurité",description:"Accompagnement personnalisé pour votre stratégie de sécurité.",path:"cyber-consulting"},{icon:Gi,title:"Calcul de ROI par IA",description:"Analyse prédictive de vos investissements en cybersécurité.",path:"roi-calculator"},{icon:fS,title:"Générateur de Scripts IA",description:"Scripts d'appel optimisés par l'intelligence artificielle.",path:"ai-script-generator"},{icon:S0,title:"Dashboard IA",description:"Tableaux de bord intelligents et automatisés.",path:"ai-dashboard"},{icon:e3,title:"Automatisation des Process",description:"Optimisation et automatisation de vos processus métiers.",path:"business-process-automation"},{icon:Vi,title:"Formation IA",description:"Programmes de formation IA adaptés à chaque métier.",path:"ai-training"}];return h.createElement("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900 sm:text-4xl"},"Nos Services"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"Des solutions innovantes propulsées par l'IA pour votre sécurité et votre croissance")),h.createElement("div",{className:"mt-16 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},t.map((e,n)=>h.createElement(F.div,{key:e.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:n*.2},className:`bg-white rounded-xl shadow-lg p-8 transform hover:scale-105 transition-all duration-300 ${e.highlight?"ring-2 ring-blue-500 ring-offset-2":""}`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(e.icon,{className:`h-12 w-12 ${e.highlight?"text-blue-600 animate-pulse":"text-blue-600"}`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},e.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},e.description),h.createElement("div",{className:"mt-6 flex justify-center"},h.createElement(Ce,{to:`/services/${e.path}`,className:`inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md ${e.highlight,"text-white bg-blue-600 hover:bg-blue-700"} transition-colors`},"Découvrir")))))))}function Dse(){const t=[{icon:Jt,title:"Expertise Reconnue",description:"Plus de 10 ans d'expérience en cybersécurité et télémarketing B2B.",details:["Équipe certifiée (CISSP, CEH, CISM)","Veille technologique continue","Méthodologie éprouvée","Cas clients référents"]},{icon:Ui,title:"Approche Sur Mesure",description:"Solutions personnalisées adaptées à vos objectifs spécifiques.",details:["Analyse approfondie de vos besoins","Stratégie personnalisée","Adaptation continue","Accompagnement dédié"]},{icon:en,title:"ROI Garanti",description:"Résultats mesurables et retour sur investissement optimisé.",details:["Métriques précises","Reporting détaillé","Optimisation continue","Garantie de résultats"]}],e=[{icon:Vi,title:"Formation Continue",description:"Programme de formation et de sensibilisation pour vos équipes",metrics:"95% de satisfaction"},{icon:ir,title:"Réactivité",description:"Support technique disponible 24/7",metrics:"Temps de réponse < 1h"},{icon:Qh,title:"Tarification Transparente",description:"Pas de coûts cachés, facturation basée sur les résultats",metrics:"ROI moyen de 150%"}];return h.createElement("div",{className:"bg-gray-50 min-h-screen py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Pourquoi Nous Choisir"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"Une expertise unique combinant cybersécurité et télémarketing B2B")),h.createElement("div",{className:"mt-16 grid gap-8 md:grid-cols-3"},t.map((n,r)=>h.createElement(F.div,{key:n.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:r*.2},className:"bg-white rounded-lg shadow-lg p-8"},h.createElement("div",{className:"flex items-center mb-4"},h.createElement(n.icon,{className:"h-8 w-8 text-blue-600"}),h.createElement("h3",{className:"ml-3 text-xl font-semibold text-gray-900"},n.title)),h.createElement("p",{className:"text-gray-600 mb-6"},n.description),h.createElement("ul",{className:"space-y-3"},n.details.map((i,s)=>h.createElement("li",{key:s,className:"flex items-center text-gray-700"},h.createElement(Xc,{className:"h-5 w-5 text-green-500 mr-2"}),h.createElement("span",null,i))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16 grid gap-8 md:grid-cols-3"},e.map((n,r)=>h.createElement("div",{key:n.title,className:"bg-blue-600 rounded-lg p-6 text-white"},h.createElement(n.icon,{className:"h-8 w-8 mb-4"}),h.createElement("h4",{className:"text-lg font-semibold mb-2"},n.title),h.createElement("p",{className:"text-blue-100 mb-4"},n.description),h.createElement("div",{className:"text-2xl font-bold"},n.metrics)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-16 bg-white rounded-lg shadow-lg p-8"},h.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Ce que nos clients disent"),h.createElement("div",{className:"grid md:grid-cols-2 gap-8"},h.createElement("div",{className:"border-l-4 border-blue-600 pl-4"},h.createElement("p",{className:"text-gray-600 italic mb-4"},`"L'expertise de l'équipe en cybersécurité nous a permis d'optimiser significativement notre stratégie de protection."`),h.createElement("p",{className:"font-semibold"},"DSI, Grande entreprise du CAC 40")),h.createElement("div",{className:"border-l-4 border-blue-600 pl-4"},h.createElement("p",{className:"text-gray-600 italic mb-4"},'"Un ROI exceptionnel et une approche véritablement sur mesure qui a dépassé nos attentes."'),h.createElement("p",{className:"font-semibold"},"RSSI, PME innovante")))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-16 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-8"},"Prêt à sécuriser votre entreprise ?"),h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transform hover:scale-105 transition-all"},"Demander une consultation gratuite",h.createElement(we,{className:"ml-2 h-5 w-5"})))))}const Qe={CYBERSECURITY:"cybersecurity",TELEMARKETING:"telemarketing",AI:"ai",COMPLIANCE:"compliance",BEST_PRACTICES:"best-practices",CASE_STUDIES:"case-studies"},JS={[Qe.CYBERSECURITY]:"Cybersécurité",[Qe.TELEMARKETING]:"Télémarketing",[Qe.AI]:"Intelligence Artificielle",[Qe.COMPLIANCE]:"Conformité",[Qe.BEST_PRACTICES]:"Bonnes Pratiques",[Qe.CASE_STUDIES]:"Études de Cas"},Mse=["Cybersécurité","Bonnes pratiques","2024","Ingénierie sociale","Sécurité","Formation","Email","Communication","SIEM","Monitoring","SOC","MSSP","Services managés","Intelligence Artificielle","Innovation","Zero Trust","Architecture","RGPD","Conformité","Cloud","Infrastructure","Ransomware","Protection","Télétravail","Quantique","Cryptographie"];function Ose({selectedCategory:t,onCategoryChange:e}){return h.createElement("div",{className:"flex flex-wrap gap-2"},h.createElement("button",{onClick:()=>e(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`},"Tous"),Object.entries(Qe).map(([n,r])=>h.createElement("button",{key:n,onClick:()=>e(r),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===r?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},JS[r])))}function Lse({selectedTags:t,onTagToggle:e}){return h.createElement("div",{className:"flex flex-wrap gap-2"},Mse.map(n=>h.createElement("button",{key:n,onClick:()=>e(n),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${t.includes(n)?"bg-blue-100 text-blue-800 border-2 border-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-transparent"}`},n)))}function Vse({article:t}){return h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow"},h.createElement(Ce,{to:`/blog/${t.id}`},h.createElement("div",{className:"w-full h-48 bg-gray-200"},h.createElement("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover",loading:"lazy",onError:e=>{e.target.onerror=null,e.target.src="/images/blog/default.jpg"}}))),h.createElement("div",{className:"p-6"},h.createElement("div",{className:"flex items-center gap-2 mb-3"},h.createElement("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded"},JS[t.category]),h.createElement("span",{className:"text-sm text-gray-600"},new Date(t.date).toLocaleDateString())),h.createElement(Ce,{to:`/blog/${t.id}`},h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2 hover:text-blue-600"},t.title)),h.createElement("p",{className:"text-gray-600 mb-4"},t.description),h.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},t.tags.map(e=>h.createElement("span",{key:e,className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full"},e))),h.createElement("div",{className:"flex justify-between items-center"},h.createElement("div",{className:"flex items-center gap-2"},h.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-200 overflow-hidden"},h.createElement("img",{src:t.author.avatar,alt:t.author.name,className:"w-full h-full object-cover",loading:"lazy",onError:e=>{e.target.onerror=null,e.target.src="/images/authors/default.jpg"}})),h.createElement("span",{className:"text-sm text-gray-600"},t.author.name)),h.createElement(Ce,{to:`/blog/${t.id}`,className:"text-blue-600 hover:text-blue-700 font-medium"},"Lire la suite →"))))}const $F=[{id:"best-practices-2024",title:"Les meilleures pratiques en cybersécurité pour 2024",description:"Découvrez les dernières tendances et recommandations pour protéger votre entreprise.",date:"2024-01-15",category:Qe.CYBERSECURITY,tags:["Cybersécurité","Bonnes pratiques","2024"],image:"https://images.unsplash.com/photo-1563986768609-322da13575f3",author:{name:"Jean Dupont",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e"},content:`# Les meilleures pratiques en cybersécurité pour 2024

La cybersécurité évolue rapidement, et 2024 apporte son lot de nouveaux défis.

## 1. Authentification Multi-Facteurs (MFA)

L'authentification multi-facteurs n'est plus une option mais une nécessité :
- Utilisation systématique pour tous les accès critiques
- Adoption de solutions biométriques
- Intégration de tokens physiques

## 2. Zero Trust Architecture

Le principe de "Ne faire confiance à personne" s'impose :
- Vérification continue de chaque accès
- Segmentation du réseau
- Contrôle granulaire des permissions

## 3. Intelligence Artificielle et Machine Learning

L'IA révolutionne la détection des menaces :
- Analyse comportementale
- Détection d'anomalies en temps réel
- Réponse automatisée aux incidents

## 4. Protection des données dans le cloud

Le cloud nécessite une attention particulière :
- Chiffrement de bout en bout
- Gestion des accès basée sur les rôles
- Sauvegarde régulière et sécurisée`},{id:"social-engineering-threats",title:"L'ingénierie sociale : La menace invisible",description:"Comment se protéger contre les techniques de manipulation en cybersécurité.",date:"2024-01-20",category:Qe.CYBERSECURITY,tags:["Ingénierie sociale","Sécurité","Formation"],image:"https://images.unsplash.com/photo-1614064641938-3bbee52942c7",author:{name:"Marie Laurent",avatar:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2"},content:`# L'ingénierie sociale : La menace invisible

L'ingénierie sociale reste l'une des principales menaces en cybersécurité.

## Techniques courantes

### 1. Phishing
- Emails frauduleux
- SMS malveillants (Smishing)
- Appels téléphoniques suspects (Vishing)

### 2. Manipulation psychologique
- Urgence
- Autorité
- Peur

## Mesures de protection

### 1. Formation continue
- Sensibilisation régulière
- Exercices pratiques
- Mises en situation

### 2. Procédures de vérification
- Double validation
- Canaux de communication sécurisés
- Protocoles d'escalade`},{id:"ai-cybersecurity",title:"L'IA dans la cybersécurité : Opportunités et Risques",description:"Comment l'intelligence artificielle transforme la sécurité informatique et crée de nouveaux défis.",date:"2024-01-25",category:Qe.AI,tags:["Intelligence Artificielle","Cybersécurité","Innovation"],image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485",author:{name:"Alexandre Chen",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d"},content:`# L'IA dans la cybersécurité : Opportunités et Risques

## Applications de l'IA en cybersécurité

### 1. Détection des menaces
- Analyse comportementale
- Détection d'anomalies
- Prédiction des attaques

### 2. Automatisation de la réponse
- Réponse automatisée aux incidents
- Quarantaine automatique
- Remédiation intelligente

### 3. Analyse prédictive
- Anticipation des menaces
- Évaluation des risques
- Recommandations proactives`},{id:"zero-trust-security",title:"Sécurité Zero Trust : Le Nouveau Standard",description:'Pourquoi adopter une approche "Ne faire confiance à personne" est crucial en 2024.',date:"2024-01-28",category:Qe.BEST_PRACTICES,tags:["Zero Trust","Architecture","Sécurité"],image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31",author:{name:"Thomas Bernard",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e"},content:`# Sécurité Zero Trust : Le Nouveau Standard

## Principes fondamentaux

### 1. Vérification continue
- Authentification permanente
- Autorisation contextuelle
- Évaluation des risques en temps réel

### 2. Moindre privilège
- Accès minimal requis
- Segmentation fine
- Révocation automatique

### 3. Microsegmentation
- Isolation des workloads
- Contrôle granulaire
- Politique par défaut restrictive`},{id:"gdpr-telemarketing",title:"RGPD et Télémarketing B2B",description:"Guide pratique pour respecter le RGPD dans vos campagnes de télémarketing.",date:"2024-02-01",category:Qe.COMPLIANCE,tags:["RGPD","Conformité","Télémarketing"],image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f",author:{name:"Claire Dubois",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956"},content:`# RGPD et Télémarketing B2B

## Obligations légales

### 1. Consentement
- Base légale
- Traçabilité
- Droit de retrait

### 2. Protection des données
- Minimisation
- Sécurisation
- Conservation limitée

### 3. Droits des personnes
- Information
- Accès
- Rectification
- Effacement`},{id:"cloud-security",title:"Sécurité Cloud : Enjeux et Solutions",description:"Protégez vos données dans le cloud avec les meilleures pratiques de sécurité.",date:"2024-02-05",category:Qe.CYBERSECURITY,tags:["Cloud","Infrastructure","Sécurité"],image:"https://images.unsplash.com/photo-1544197150-b99a580bb7a8",author:{name:"Marc Lambert",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"},content:`# Sécurité Cloud : Enjeux et Solutions

## Sécurisation du cloud

### 1. Configuration
- Hardening
- Monitoring
- Backup

### 2. Accès
- IAM
- MFA
- SSO

### 3. Données
- Chiffrement
- DLP
- Classification`},{id:"ransomware-protection",title:"Protection contre les Ransomwares en 2024",description:"Stratégies avancées pour prévenir et gérer les attaques par rançongiciel.",date:"2024-02-08",category:Qe.CYBERSECURITY,tags:["Ransomware","Protection","Sécurité"],image:"https://images.unsplash.com/photo-1614064641938-3bbee52942c7",author:{name:"Emma Rousseau",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330"},content:`# Protection contre les Ransomwares en 2024

## Stratégies de protection

### 1. Prévention
- Sensibilisation
- Patches
- Sauvegardes

### 2. Détection
- EDR
- SIEM
- SOC

### 3. Réponse
- Plan d'incident
- Communication
- Restauration`},{id:"remote-work-security",title:"Sécurité du Travail à Distance",description:"Comment sécuriser efficacement le travail à distance de vos équipes.",date:"2024-02-10",category:Qe.BEST_PRACTICES,tags:["Télétravail","Sécurité","Bonnes pratiques"],image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d",author:{name:"Julie Moreau",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb"},content:`# Sécurité du Travail à Distance

## Mesures essentielles

### 1. Accès sécurisé
- VPN
- MFA
- Chiffrement

### 2. Équipements
- Hardening
- MDM
- Backup

### 3. Formation
- Bonnes pratiques
- Vigilance
- Support`},{id:"quantum-computing-threats",title:"L'Informatique Quantique : Menace pour la Cybersécurité",description:"Impact de l'informatique quantique sur la sécurité des données et solutions.",date:"2024-02-12",category:Qe.CYBERSECURITY,tags:["Quantique","Cryptographie","Sécurité"],image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb",author:{name:"Sarah Cohen",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2"},content:`# L'Informatique Quantique : Menace pour la Cybersécurité

## Impacts et solutions

### 1. Menaces
- Cryptographie classique
- Infrastructure PKI
- Protocoles actuels

### 2. Solutions
- Cryptographie post-quantique
- Nouveaux algorithmes
- Migration progressive

### 3. Préparation
- Évaluation
- Planification
- Adaptation`},{id:"email-security",title:"Sécurité des Emails en Entreprise",description:"Guide complet pour sécuriser vos communications par email.",date:"2024-02-15",category:Qe.CYBERSECURITY,tags:["Email","Communication","Sécurité"],image:"https://images.unsplash.com/photo-1563986768609-322da13575f3",author:{name:"Emma Dubois",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956"},content:`# Sécurité des Emails en Entreprise

## Protection des communications

### 1. Filtrage
- Anti-spam
- Anti-malware
- DLP

### 2. Authentification
- SPF
- DKIM
- DMARC

### 3. Chiffrement
- TLS
- S/MIME
- PGP`},{id:"siem-technology",title:"SIEM : L'Intelligence de la Sécurité",description:"Comprendre et exploiter les systèmes de gestion des informations de sécurité.",date:"2024-02-18",category:Qe.CYBERSECURITY,tags:["SIEM","Monitoring","SOC"],image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31",author:{name:"Marc Lambert",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"},content:`# SIEM : L'Intelligence de la Sécurité

## Fonctionnalités clés

### 1. Collecte
- Sources multiples
- Normalisation
- Stockage

### 2. Analyse
- Corrélation
- Détection
- Alertes

### 3. Réponse
- Automatisation
- Investigation
- Reporting`},{id:"mssp-services",title:"MSSP : Externaliser sa Sécurité",description:"Avantages et considérations pour le choix d'un fournisseur de services de sécurité managés.",date:"2024-02-20",category:Qe.CYBERSECURITY,tags:["MSSP","Services managés","Sécurité"],image:"https://images.unsplash.com/photo-1544197150-b99a580bb7a8",author:{name:"Sarah Martin",avatar:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2"},content:`# MSSP : Externaliser sa Sécurité

## Services proposés

### 1. Surveillance
- SOC
- Monitoring
- Incident Response

### 2. Solutions
- Firewall
- EDR/XDR
- SIEM

### 3. Expertise
- Conseil
- Support
- Formation`},{id:"gdpr-update",title:"RGPD 2024 : Nouvelles Exigences et Conformité",description:"Mise à jour sur les dernières exigences RGPD et stratégies de mise en conformité.",date:"2024-03-08",category:Qe.COMPLIANCE,tags:["RGPD","Conformité","Protection des données"],image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f",author:{name:"Emma Rousseau",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330"},content:`# RGPD 2024 : Nouvelles Exigences et Conformité

## Évolutions réglementaires

### 1. Nouvelles obligations
- Registre des traitements
- Analyse d'impact
- DPO

### 2. Transferts internationaux
- Mécanismes de transfert
- Garanties appropriées
- Évaluation des risques

### 3. Sanctions renforcées
- Amendes administratives
- Actions correctives
- Responsabilité civile`},{id:"devsecops-implementation",title:"Implémentation DevSecOps : Guide Complet",description:"Méthodologie détaillée pour intégrer la sécurité dans votre pipeline DevOps.",date:"2024-03-12",category:Qe.BEST_PRACTICES,tags:["DevSecOps","CI/CD","Sécurité","Automatisation"],image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31",author:{name:"Thomas Bernard",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e"},content:`# Implémentation DevSecOps : Guide Complet

## Intégration de la sécurité

### 1. Pipeline CI/CD
- Tests de sécurité
- Analyse statique
- Scan de dépendances

### 2. Infrastructure as Code
- Sécurité par défaut
- Templates sécurisés
- Validation automatique

### 3. Monitoring continu
- Observabilité
- Alerting
- Métriques de sécurité`},{id:"threat-hunting-ai",title:"Threat Hunting avec l'IA : Techniques Avancées",description:"Utilisation de l'intelligence artificielle pour la détection proactive des menaces.",date:"2024-03-15",category:Qe.AI,tags:["Threat Hunting","IA","Sécurité","Machine Learning"],image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485",author:{name:"Alexandre Chen",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d"},content:`# Threat Hunting avec l'IA : Techniques Avancées

## Intelligence artificielle et détection

### 1. Machine Learning
- Modèles supervisés
- Apprentissage profond
- Classification des menaces

### 2. Analyse comportementale
- Profilage utilisateur
- Détection d'anomalies
- Patterns d'attaque

### 3. Automatisation
- Workflows intelligents
- Enrichissement des alertes
- Priorisation des menaces`},{id:"container-security",title:"Sécurité des Conteneurs et Kubernetes",description:"Meilleures pratiques pour sécuriser vos environnements conteneurisés.",date:"2024-03-18",category:Qe.CYBERSECURITY,tags:["Conteneurs","Kubernetes","Docker","Sécurité"],image:"https://images.unsplash.com/photo-1544197150-b99a580bb7a8",author:{name:"Marc Lambert",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d"},content:`# Sécurité des Conteneurs et Kubernetes

## Protection des environnements conteneurisés

### 1. Images
- Scan de vulnérabilités
- Base minimale
- Signature

### 2. Runtime
- Isolation
- Contrôle d'accès
- Monitoring

### 3. Orchestration
- RBAC
- Network Policies
- Pod Security`},{id:"blockchain-security",title:"Sécurité des Applications Blockchain",description:"Protection des smart contracts et des applications décentralisées.",date:"2024-03-21",category:Qe.CYBERSECURITY,tags:["Blockchain","Smart Contracts","DApps","Sécurité"],image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb",author:{name:"Sophie Martin",avatar:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2"},content:`# Sécurité des Applications Blockchain

## Protection des applications décentralisées

### 1. Smart Contracts
- Audit de code
- Tests de sécurité
- Bonnes pratiques

### 2. Wallets
- Gestion des clés
- Authentification
- Backup

### 3. DApps
- Frontend sécurisé
- API sécurisée
- Intégrité des données`},{id:"api-security-best-practices",title:"Sécurisation des APIs : Guide Approfondi",description:"Stratégies et implémentations pour la sécurité des APIs REST et GraphQL.",date:"2024-03-24",category:Qe.BEST_PRACTICES,tags:["API","REST","GraphQL","Sécurité"],image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31",author:{name:"Claire Dubois",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956"},content:`# Sécurisation des APIs : Guide Approfondi

## Protection des APIs

### 1. Authentification
- OAuth 2.0
- JWT
- API Keys

### 2. Autorisation
- RBAC
- Scopes
- Rate Limiting

### 3. Validation
- Input Validation
- Schema Validation
- Output Encoding`},{id:"iot-security-architecture",title:"Architecture de Sécurité IoT",description:"Conception et implémentation d'une architecture de sécurité pour l'IoT.",date:"2024-03-27",category:Qe.CYBERSECURITY,tags:["IoT","Architecture","Sécurité","Edge Computing"],image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d",author:{name:"Emma Rousseau",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330"},content:`# Architecture de Sécurité IoT

## Sécurisation des objets connectés

### 1. Dispositifs
- Firmware sécurisé
- Boot sécurisé
- Mise à jour OTA

### 2. Communication
- Chiffrement
- Authentification
- Protocoles sécurisés

### 3. Infrastructure
- Edge Security
- Cloud Security
- Monitoring`}];function Fse(){const[t,e]=x.useState(1),[n,r]=x.useState(null),[i,s]=x.useState([]),[o,a]=x.useState(""),l=9,c=g=>{s(y=>y.includes(g)?y.filter(v=>v!==g):[...y,g]),e(1)},u=x.useMemo(()=>$F.filter(g=>{const y=!n||g.category===n,v=i.length===0||i.every(w=>g.tags.includes(w)),b=!o||g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase());return y&&v&&b}),[n,i,o]),d=Math.ceil(u.length/l),f=u.slice((t-1)*l,t*l),p=g=>{e(g),window.scrollTo(0,0)};return h.createElement("div",{className:"bg-gray-50 min-h-screen py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Notre Blog"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"Découvrez nos derniers articles sur la cybersécurité et le télémarketing B2B")),h.createElement("div",{className:"mb-8"},h.createElement("input",{type:"text",placeholder:"Rechercher un article...",value:o,onChange:g=>a(g.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"})),h.createElement("div",{className:"mb-8"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Catégories"),h.createElement(Ose,{selectedCategory:n,onCategoryChange:r})),h.createElement("div",{className:"mb-8"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Tags"),h.createElement(Lse,{selectedTags:i,onTagToggle:c})),f.length===0?h.createElement("div",{className:"text-center py-12"},h.createElement("p",{className:"text-xl text-gray-600"},"Aucun article ne correspond à vos critères.")):h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},f.map(g=>h.createElement(Vse,{key:g.id,article:g}))),d>1&&h.createElement("div",{className:"mt-12 flex justify-center"},h.createElement("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},h.createElement("button",{onClick:()=>p(t-1),disabled:t===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${t===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`},"←"),[...Array(d)].map((g,y)=>h.createElement("button",{key:y+1,onClick:()=>p(y+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${t===y+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`},y+1)),h.createElement("button",{onClick:()=>p(t+1),disabled:t===d,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${t===d?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`},"→")))))}function Bse(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $se=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Use={};function UP(t,e){return(Use.jsx?jse:$se).test(t)}const zse=/[ \t\n\f\r]/g;function Hse(t){return typeof t=="object"?t.type==="text"?zP(t.value):!1:zP(t)}function zP(t){return t.replace(zse,"")===""}class Uf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Uf.prototype.property={};Uf.prototype.normal={};Uf.prototype.space=null;function jF(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Uf(n,r,e)}function m_(t){return t.toLowerCase()}class Gr{constructor(e,n){this.property=e,this.attribute=n}}Gr.prototype.space=null;Gr.prototype.boolean=!1;Gr.prototype.booleanish=!1;Gr.prototype.overloadedBoolean=!1;Gr.prototype.number=!1;Gr.prototype.commaSeparated=!1;Gr.prototype.spaceSeparated=!1;Gr.prototype.commaOrSpaceSeparated=!1;Gr.prototype.mustUseProperty=!1;Gr.prototype.defined=!1;let Wse=0;const ye=pl(),Rt=pl(),UF=pl(),K=pl(),Ye=pl(),Ec=pl(),hr=pl();function pl(){return 2**++Wse}const p_=Object.freeze(Object.defineProperty({__proto__:null,boolean:ye,booleanish:Rt,commaOrSpaceSeparated:hr,commaSeparated:Ec,number:K,overloadedBoolean:UF,spaceSeparated:Ye},Symbol.toStringTag,{value:"Module"})),Pb=Object.keys(p_);class ZS extends Gr{constructor(e,n,r,i){let s=-1;if(super(e,n),HP(this,"space",i),typeof r=="number")for(;++s<Pb.length;){const o=Pb[s];HP(this,Pb[s],(r&p_[o])===p_[o])}}}ZS.prototype.defined=!0;function HP(t,e,n){n&&(t[e]=n)}const qse={}.hasOwnProperty;function xu(t){const e={},n={};let r;for(r in t.properties)if(qse.call(t.properties,r)){const i=t.properties[r],s=new ZS(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[m_(r)]=r,n[m_(s.attribute)]=r}return new Uf(e,n,t.space)}const zF=xu({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),HF=xu({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function WF(t,e){return e in t?t[e]:e}function qF(t,e){return WF(t,e.toLowerCase())}const GF=xu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:qF,properties:{xmlns:null,xmlnsXLink:null}}),KF=xu({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Ye,ariaCurrent:null,ariaDescribedBy:Ye,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:Ye,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:Ye,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ye,ariaLevel:K,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:Ye,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:Ye,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:Rt,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null}}),Gse=xu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:qF,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ec,acceptCharset:Ye,accessKey:Ye,action:null,allow:null,allowFullScreen:ye,allowPaymentRequest:ye,allowUserMedia:ye,alt:null,as:null,async:ye,autoCapitalize:null,autoComplete:Ye,autoFocus:ye,autoPlay:ye,blocking:Ye,capture:null,charSet:null,checked:ye,cite:null,className:Ye,cols:K,colSpan:null,content:null,contentEditable:Rt,controls:ye,controlsList:Ye,coords:K|Ec,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ye,defer:ye,dir:null,dirName:null,disabled:ye,download:UF,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ye,formTarget:null,headers:Ye,height:K,hidden:ye,high:K,href:null,hrefLang:null,htmlFor:Ye,httpEquiv:Ye,id:null,imageSizes:null,imageSrcSet:null,inert:ye,inputMode:null,integrity:null,is:null,isMap:ye,itemId:null,itemProp:Ye,itemRef:Ye,itemScope:ye,itemType:Ye,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ye,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:ye,muted:ye,name:null,nonce:null,noModule:ye,noValidate:ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ye,optimum:K,pattern:null,ping:Ye,placeholder:null,playsInline:ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ye,referrerPolicy:null,rel:Ye,required:ye,reversed:ye,rows:K,rowSpan:K,sandbox:Ye,scope:null,scoped:ye,seamless:ye,selected:ye,shadowRootClonable:ye,shadowRootDelegatesFocus:ye,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:ye,useMap:null,value:Rt,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ye,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ye,declare:ye,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:ye,noHref:ye,noShade:ye,noWrap:ye,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ye,disableRemotePlayback:ye,prefix:null,property:null,results:K,security:null,unselectable:null}}),Kse=xu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:WF,properties:{about:hr,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Ye,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ec,g2:Ec,glyphName:Ec,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ye,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hr,rev:hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hr,requiredFeatures:hr,requiredFonts:hr,requiredFormats:hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hr,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Qse=/^data[-\w.:]+$/i,WP=/-[a-z]/g,Yse=/[A-Z]/g;function Xse(t,e){const n=m_(e);let r=e,i=Gr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qse.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(WP,Zse);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!WP.test(s)){let o=s.replace(Yse,Jse);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=ZS}return new i(r,e)}function Jse(t){return"-"+t.toLowerCase()}function Zse(t){return t.charAt(1).toUpperCase()}const eoe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},toe=jF([HF,zF,GF,KF,Gse],"html"),eT=jF([HF,zF,GF,KF,Kse],"svg");function noe(t){return t.join(" ").trim()}var QF={},qP=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,roe=/\n/g,ioe=/^\s*/,soe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ooe=/^:\s*/,aoe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,loe=/^[;\s]*/,coe=/^\s+|\s+$/g,uoe=`
`,GP="/",KP="*",ba="",doe="comment",hoe="declaration",foe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var y=g.match(roe);y&&(n+=y.length);var v=g.lastIndexOf(uoe);r=~v?g.length-v:r+g.length}function s(){var g={line:n,column:r};return function(y){return y.position=new o(g),c(),y}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var y=new Error(e.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(g){var y=g.exec(t);if(y){var v=y[0];return i(v),t=t.slice(v.length),y}}function c(){l(ioe)}function u(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=s();if(!(GP!=t.charAt(0)||KP!=t.charAt(1))){for(var y=2;ba!=t.charAt(y)&&(KP!=t.charAt(y)||GP!=t.charAt(y+1));)++y;if(y+=2,ba===t.charAt(y-1))return a("End of comment missing");var v=t.slice(2,y-2);return r+=2,i(v),t=t.slice(y),r+=2,g({type:doe,comment:v})}}function f(){var g=s(),y=l(soe);if(y){if(d(),!l(ooe))return a("property missing ':'");var v=l(aoe),b=g({type:hoe,property:QP(y[0].replace(qP,ba)),value:v?QP(v[0].replace(qP,ba)):ba});return l(loe),b}}function p(){var g=[];u(g);for(var y;y=f();)y!==!1&&(g.push(y),u(g));return g}return c(),p()};function QP(t){return t?t.replace(coe,ba):ba}var moe=tk&&tk.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QF,"__esModule",{value:!0});var YP=QF.default=goe,poe=moe(foe);function goe(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,poe.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const yoe=YP.default||YP,YF=XF("end"),tT=XF("start");function XF(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function voe(t){const e=tT(t),n=YF(t);if(e&&n)return{start:e,end:n}}function ih(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?XP(t.position):"start"in t||"end"in t?XP(t):"line"in t||"column"in t?g_(t):""}function g_(t){return JP(t&&t.line)+":"+JP(t&&t.column)}function XP(t){return g_(t&&t.start)+"-"+g_(t&&t.end)}function JP(t){return t&&typeof t=="number"?t:1}class Rn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=ih(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Rn.prototype.file="";Rn.prototype.name="";Rn.prototype.reason="";Rn.prototype.message="";Rn.prototype.stack="";Rn.prototype.column=void 0;Rn.prototype.line=void 0;Rn.prototype.ancestors=void 0;Rn.prototype.cause=void 0;Rn.prototype.fatal=void 0;Rn.prototype.place=void 0;Rn.prototype.ruleId=void 0;Rn.prototype.source=void 0;const nT={}.hasOwnProperty,boe=new Map,woe=/[A-Z]/g,xoe=/-([a-z])/g,_oe=new Set(["table","tbody","thead","tfoot","tr"]),Eoe=new Set(["td","th"]),JF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Soe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Noe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Roe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?eT:toe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=ZF(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function ZF(t,e,n){if(e.type==="element")return Toe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return koe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Coe(t,e,n);if(e.type==="mdxjsEsm")return Ioe(t,e);if(e.type==="root")return Aoe(t,e,n);if(e.type==="text")return Poe(t,e)}function Toe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=eT,t.schema=i),t.ancestors.push(e);const s=t6(t,e.tagName,!1),o=Doe(t,e);let a=iT(t,e);return _oe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Hse(l):!0})),e6(t,o,s,e),rT(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function koe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}tf(t,e.position)}function Ioe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tf(t,e.position)}function Coe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=eT,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:t6(t,e.name,!0),o=Moe(t,e),a=iT(t,e);return e6(t,o,s,e),rT(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Aoe(t,e,n){const r={};return rT(r,iT(t,e)),t.create(e,t.Fragment,r,n)}function Poe(t,e){return e.value}function e6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function rT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Roe(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function Noe(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=tT(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Doe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&nT.call(e.properties,i)){const s=Ooe(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Eoe.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Moe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else tf(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else tf(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function iT(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:boe;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=ZF(t,s,o);a!==void 0&&n.push(a)}return n}function Ooe(t,e,n){const r=Xse(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Bse(n):noe(n)),r.property==="style"){let i=typeof n=="object"?n:Loe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Voe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?eoe[r.property]||r.property:r.attribute,n]}}function Loe(t,e){const n={};try{yoe(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Rn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=JF+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(xoe,Boe)),n[o]=s}}function t6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=UP(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=UP(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return nT.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);tf(t)}function tf(t,e){const n=new Rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=JF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Voe(t){const e={};let n;for(n in t)nT.call(t,n)&&(e[Foe(n)]=t[n]);return e}function Foe(t){let e=t.replace(woe,$oe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Boe(t,e){return e.toUpperCase()}function $oe(t){return"-"+t.toLowerCase()}const Rb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},joe={};function sT(t,e){const n=joe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return n6(t,r,i)}function n6(t,e,n){if(Uoe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ZP(t.children,e,n)}return Array.isArray(t)?ZP(t,e,n):""}function ZP(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=n6(t[i],e,n);return r.join("")}function Uoe(t){return!!(t&&typeof t=="object")}const eR=document.createElement("i");function oT(t){const e="&"+t+";";eR.innerHTML=e;const n=eR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function xr(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Vr(t,e){return t.length>0?(xr(t,t.length,0,e),t):e}const tR={}.hasOwnProperty;function r6(t){const e={};let n=-1;for(;++n<t.length;)zoe(e,t[n]);return e}function zoe(t,e){let n;for(n in e){const i=(tR.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){tR.call(i,o)||(i[o]=[]);const a=s[o];Hoe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Hoe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);xr(t,0,0,r)}function i6(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ci(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bn=Ko(/[A-Za-z]/),kn=Ko(/[\dA-Za-z]/),Woe=Ko(/[#-'*+\--9=?A-Z^-~]/);function fy(t){return t!==null&&(t<32||t===127)}const y_=Ko(/\d/),qoe=Ko(/[\dA-Fa-f]/),Goe=Ko(/[!-/:-@[-`{-~]/);function ue(t){return t!==null&&t<-2}function Ke(t){return t!==null&&(t<0||t===32)}function Se(t){return t===-2||t===-1||t===32}const N0=Ko(new RegExp("\\p{P}|\\p{S}","u")),el=Ko(/\s/);function Ko(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _u(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&kn(t.charCodeAt(n+1))&&kn(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function De(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Se(l)?(t.enter(n),a(l)):e(l)}function a(l){return Se(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const Koe={tokenize:Qoe};function Qoe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),De(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ue(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const Yoe={tokenize:Xoe},nR={tokenize:Joe};function Xoe(t){const e=this,n=[];let r=0,i,s,o;return a;function a(E){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const C=e.events.length;let R=C,P;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){P=e.events[R][1].end;break}b(r);let I=C;for(;I<e.events.length;)e.events[I][1].end={...P},I++;return xr(e.events,R+1,0,e.events.slice(C)),e.events.length=I,c(E)}return a(E)}function c(E){if(r===n.length){if(!i)return f(E);if(i.currentConstruct&&i.currentConstruct.concrete)return g(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nR,u,d)(E)}function u(E){return i&&w(),b(r),f(E)}function d(E){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(E)}function f(E){return e.containerState={},t.attempt(nR,p,g)(E)}function p(E){return r++,n.push([e.currentConstruct,e.containerState]),f(E)}function g(E){if(E===null){i&&w(),b(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(E)}function y(E){if(E===null){v(t.exit("chunkFlow"),!0),b(0),t.consume(E);return}return ue(E)?(t.consume(E),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(E),y)}function v(E,C){const R=e.sliceStream(E);if(C&&R.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(R),e.parser.lazy[E.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const I=e.events.length;let k=I,A,S;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(A){S=e.events[k][1].end;break}A=!0}for(b(r),P=I;P<e.events.length;)e.events[P][1].end={...S},P++;xr(e.events,k+1,0,e.events.slice(I)),e.events.length=P}}function b(E){let C=n.length;for(;C-- >E;){const R=n[C];e.containerState=R[1],R[0].exit.call(e,t)}n.length=E}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Joe(t,e,n){return De(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tu(t){if(t===null||Ke(t)||el(t))return 1;if(N0(t))return 2}function D0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const v_={name:"attention",resolveAll:Zoe,tokenize:eae};function Zoe(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};rR(d,-l),rR(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Vr(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Vr(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Vr(c,D0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Vr(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Vr(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,xr(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function eae(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=tu(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=tu(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!f)),c._close=!!(s===42?f:f&&(u||!d)),e(l)}}function rR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const tae={name:"autolink",tokenize:nae};function nae(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Bn(p)?(t.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||kn(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||kn(p))&&r++<32?(t.consume(p),a):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||fy(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):Woe(p)?(t.consume(p),c):n(p)}function u(p){return kn(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||kn(p))&&r++<63){const g=p===45?f:d;return t.consume(p),g}return n(p)}}const zf={partial:!0,tokenize:rae};function rae(t,e,n){return r;function r(s){return Se(s)?De(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ue(s)?e(s):n(s)}}const s6={continuation:{tokenize:sae},exit:oae,name:"blockQuote",tokenize:iae};function iae(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Se(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function sae(t,e,n){const r=this;return i;function i(o){return Se(o)?De(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(s6,e,n)(o)}}function oae(t){t.exit("blockQuote")}const o6={name:"characterEscape",tokenize:aae};function aae(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Goe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const a6={name:"characterReference",tokenize:lae};function lae(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=kn,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=qoe,u):(t.enter("characterReferenceValue"),s=7,o=y_,u(d))}function u(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===kn&&!oT(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const iR={partial:!0,tokenize:uae},sR={concrete:!0,name:"codeFenced",tokenize:cae};function cae(t,e,n){const r=this,i={partial:!0,tokenize:R};let s=0,o=0,a;return l;function l(P){return c(P)}function c(P){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=P,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(P)}function u(P){return P===a?(o++,t.consume(P),u):o<3?n(P):(t.exit("codeFencedFenceSequence"),Se(P)?De(t,d,"whitespace")(P):d(P))}function d(P){return P===null||ue(P)?(t.exit("codeFencedFence"),r.interrupt?e(P):t.check(iR,y,C)(P)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(P))}function f(P){return P===null||ue(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(P)):Se(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),De(t,p,"whitespace")(P)):P===96&&P===a?n(P):(t.consume(P),f)}function p(P){return P===null||ue(P)?d(P):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||ue(P)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(P)):P===96&&P===a?n(P):(t.consume(P),g)}function y(P){return t.attempt(i,C,v)(P)}function v(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),b}function b(P){return s>0&&Se(P)?De(t,w,"linePrefix",s+1)(P):w(P)}function w(P){return P===null||ue(P)?t.check(iR,y,C)(P):(t.enter("codeFlowValue"),E(P))}function E(P){return P===null||ue(P)?(t.exit("codeFlowValue"),w(P)):(t.consume(P),E)}function C(P){return t.exit("codeFenced"),e(P)}function R(P,I,k){let A=0;return S;function S(Q){return P.enter("lineEnding"),P.consume(Q),P.exit("lineEnding"),N}function N(Q){return P.enter("codeFencedFence"),Se(Q)?De(P,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):O(Q)}function O(Q){return Q===a?(P.enter("codeFencedFenceSequence"),M(Q)):k(Q)}function M(Q){return Q===a?(A++,P.consume(Q),M):A>=o?(P.exit("codeFencedFenceSequence"),Se(Q)?De(P,ne,"whitespace")(Q):ne(Q)):k(Q)}function ne(Q){return Q===null||ue(Q)?(P.exit("codeFencedFence"),I(Q)):k(Q)}}}function uae(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Nb={name:"codeIndented",tokenize:hae},dae={partial:!0,tokenize:fae};function hae(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),De(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ue(c)?t.attempt(dae,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||ue(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function fae(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):De(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ue(o)?i(o):n(o)}}const mae={name:"codeText",previous:gae,resolve:pae,tokenize:yae};function pae(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gae(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yae(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):ue(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||ue(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class vae{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&od(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),od(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),od(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);od(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);od(this.left,n.reverse())}}}function od(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function l6(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new vae(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,bae(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return xr(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function bae(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,d,f=-1,p=n,g=0,y=0;const v=[y];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,v.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),f=v.length;f--;){const b=a.slice(v[f],v[f+1]),w=s.pop();l.push([w,w+b.length-1]),t.splice(w,2,b)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const wae={resolve:_ae,tokenize:Eae},xae={partial:!0,tokenize:Sae};function _ae(t){return l6(t),t}function Eae(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ue(a)?t.check(xae,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Sae(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),De(t,s,"linePrefix")}function s(o){if(o===null||ue(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function c6(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),f):b===null||b===32||b===41||fy(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(b))}function f(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(t.exit("chunkString"),t.exit(a),f(b)):b===null||b===60||ue(b)?n(b):(t.consume(b),b===92?g:p)}function g(b){return b===60||b===62||b===92?(t.consume(b),p):p(b)}function y(b){return!u&&(b===null||b===41||Ke(b))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):u<c&&b===40?(t.consume(b),u++,y):b===41?(t.consume(b),u--,y):b===null||b===32||b===40||fy(b)?n(b):(t.consume(b),b===92?v:y)}function v(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function u6(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),u}function u(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):ue(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||ue(p)||a++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!Se(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function d6(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):ue(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),De(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||ue(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===o||f===92?(t.consume(f),u):u(f)}}function sh(t,e){let n;return r;function r(i){return ue(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Se(i)?De(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Tae={name:"definition",tokenize:Iae},kae={partial:!0,tokenize:Cae};function Iae(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return u6.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ke(p)?sh(t,c)(p):c(p)}function c(p){return c6(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(kae,d,d)(p)}function d(p){return Se(p)?De(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ue(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function Cae(t,e,n){return r;function r(a){return Ke(a)?sh(t,i)(a):n(a)}function i(a){return d6(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Se(a)?De(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ue(a)?e(a):n(a)}}const Aae={name:"hardBreakEscape",tokenize:Pae};function Pae(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ue(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Rae={name:"headingAtx",resolve:Nae,tokenize:Dae};function Nae(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},xr(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Dae(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||Ke(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||ue(u)?(t.exit("atxHeading"),e(u)):Se(u)?De(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ke(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const Mae=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oR=["pre","script","style","textarea"],Oae={concrete:!0,name:"htmlFlow",resolveTo:Fae,tokenize:Bae},Lae={partial:!0,tokenize:jae},Vae={partial:!0,tokenize:$ae};function Fae(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Bae(t,e,n){const r=this;let i,s,o,a,l;return c;function c(V){return u(V)}function u(V){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(V),d}function d(V){return V===33?(t.consume(V),f):V===47?(t.consume(V),s=!0,y):V===63?(t.consume(V),i=3,r.interrupt?e:L):Bn(V)?(t.consume(V),o=String.fromCharCode(V),v):n(V)}function f(V){return V===45?(t.consume(V),i=2,p):V===91?(t.consume(V),i=5,a=0,g):Bn(V)?(t.consume(V),i=4,r.interrupt?e:L):n(V)}function p(V){return V===45?(t.consume(V),r.interrupt?e:L):n(V)}function g(V){const ve="CDATA[";return V===ve.charCodeAt(a++)?(t.consume(V),a===ve.length?r.interrupt?e:O:g):n(V)}function y(V){return Bn(V)?(t.consume(V),o=String.fromCharCode(V),v):n(V)}function v(V){if(V===null||V===47||V===62||Ke(V)){const ve=V===47,st=o.toLowerCase();return!ve&&!s&&oR.includes(st)?(i=1,r.interrupt?e(V):O(V)):Mae.includes(o.toLowerCase())?(i=6,ve?(t.consume(V),b):r.interrupt?e(V):O(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):s?w(V):E(V))}return V===45||kn(V)?(t.consume(V),o+=String.fromCharCode(V),v):n(V)}function b(V){return V===62?(t.consume(V),r.interrupt?e:O):n(V)}function w(V){return Se(V)?(t.consume(V),w):S(V)}function E(V){return V===47?(t.consume(V),S):V===58||V===95||Bn(V)?(t.consume(V),C):Se(V)?(t.consume(V),E):S(V)}function C(V){return V===45||V===46||V===58||V===95||kn(V)?(t.consume(V),C):R(V)}function R(V){return V===61?(t.consume(V),P):Se(V)?(t.consume(V),R):E(V)}function P(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),l=V,I):Se(V)?(t.consume(V),P):k(V)}function I(V){return V===l?(t.consume(V),l=null,A):V===null||ue(V)?n(V):(t.consume(V),I)}function k(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||Ke(V)?R(V):(t.consume(V),k)}function A(V){return V===47||V===62||Se(V)?E(V):n(V)}function S(V){return V===62?(t.consume(V),N):n(V)}function N(V){return V===null||ue(V)?O(V):Se(V)?(t.consume(V),N):n(V)}function O(V){return V===45&&i===2?(t.consume(V),ce):V===60&&i===1?(t.consume(V),ee):V===62&&i===4?(t.consume(V),pe):V===63&&i===3?(t.consume(V),L):V===93&&i===5?(t.consume(V),J):ue(V)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Lae,ae,M)(V)):V===null||ue(V)?(t.exit("htmlFlowData"),M(V)):(t.consume(V),O)}function M(V){return t.check(Vae,ne,ae)(V)}function ne(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),Q}function Q(V){return V===null||ue(V)?M(V):(t.enter("htmlFlowData"),O(V))}function ce(V){return V===45?(t.consume(V),L):O(V)}function ee(V){return V===47?(t.consume(V),o="",H):O(V)}function H(V){if(V===62){const ve=o.toLowerCase();return oR.includes(ve)?(t.consume(V),pe):O(V)}return Bn(V)&&o.length<8?(t.consume(V),o+=String.fromCharCode(V),H):O(V)}function J(V){return V===93?(t.consume(V),L):O(V)}function L(V){return V===62?(t.consume(V),pe):V===45&&i===2?(t.consume(V),L):O(V)}function pe(V){return V===null||ue(V)?(t.exit("htmlFlowData"),ae(V)):(t.consume(V),pe)}function ae(V){return t.exit("htmlFlow"),e(V)}}function $ae(t,e,n){const r=this;return i;function i(o){return ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function jae(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(zf,e,n)}}const Uae={name:"htmlText",tokenize:zae};function zae(t,e,n){const r=this;let i,s,o;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),l}function l(L){return L===33?(t.consume(L),c):L===47?(t.consume(L),R):L===63?(t.consume(L),E):Bn(L)?(t.consume(L),k):n(L)}function c(L){return L===45?(t.consume(L),u):L===91?(t.consume(L),s=0,g):Bn(L)?(t.consume(L),w):n(L)}function u(L){return L===45?(t.consume(L),p):n(L)}function d(L){return L===null?n(L):L===45?(t.consume(L),f):ue(L)?(o=d,ee(L)):(t.consume(L),d)}function f(L){return L===45?(t.consume(L),p):d(L)}function p(L){return L===62?ce(L):L===45?f(L):d(L)}function g(L){const pe="CDATA[";return L===pe.charCodeAt(s++)?(t.consume(L),s===pe.length?y:g):n(L)}function y(L){return L===null?n(L):L===93?(t.consume(L),v):ue(L)?(o=y,ee(L)):(t.consume(L),y)}function v(L){return L===93?(t.consume(L),b):y(L)}function b(L){return L===62?ce(L):L===93?(t.consume(L),b):y(L)}function w(L){return L===null||L===62?ce(L):ue(L)?(o=w,ee(L)):(t.consume(L),w)}function E(L){return L===null?n(L):L===63?(t.consume(L),C):ue(L)?(o=E,ee(L)):(t.consume(L),E)}function C(L){return L===62?ce(L):E(L)}function R(L){return Bn(L)?(t.consume(L),P):n(L)}function P(L){return L===45||kn(L)?(t.consume(L),P):I(L)}function I(L){return ue(L)?(o=I,ee(L)):Se(L)?(t.consume(L),I):ce(L)}function k(L){return L===45||kn(L)?(t.consume(L),k):L===47||L===62||Ke(L)?A(L):n(L)}function A(L){return L===47?(t.consume(L),ce):L===58||L===95||Bn(L)?(t.consume(L),S):ue(L)?(o=A,ee(L)):Se(L)?(t.consume(L),A):ce(L)}function S(L){return L===45||L===46||L===58||L===95||kn(L)?(t.consume(L),S):N(L)}function N(L){return L===61?(t.consume(L),O):ue(L)?(o=N,ee(L)):Se(L)?(t.consume(L),N):A(L)}function O(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,M):ue(L)?(o=O,ee(L)):Se(L)?(t.consume(L),O):(t.consume(L),ne)}function M(L){return L===i?(t.consume(L),i=void 0,Q):L===null?n(L):ue(L)?(o=M,ee(L)):(t.consume(L),M)}function ne(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Ke(L)?A(L):(t.consume(L),ne)}function Q(L){return L===47||L===62||Ke(L)?A(L):n(L)}function ce(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function ee(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),H}function H(L){return Se(L)?De(t,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):J(L)}function J(L){return t.enter("htmlTextData"),o(L)}}const aT={name:"labelEnd",resolveAll:Gae,resolveTo:Kae,tokenize:Qae},Hae={tokenize:Yae},Wae={tokenize:Xae},qae={tokenize:Jae};function Gae(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&xr(t,0,t.length,n),t}function Kae(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Vr(a,t.slice(s+1,s+r+3)),a=Vr(a,[["enter",u,e]]),a=Vr(a,D0(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Vr(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=Vr(a,t.slice(o+1)),a=Vr(a,[["exit",l,e]]),xr(t,s,t.length,a),t}function Qae(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(ci(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(Hae,u,o?u:d)(f):f===91?t.attempt(Wae,u,o?c:d)(f):o?u(f):d(f)}function c(f){return t.attempt(qae,u,d)(f)}function u(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function Yae(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ke(d)?sh(t,s)(d):s(d)}function s(d){return d===41?u(d):c6(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ke(d)?sh(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?d6(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Ke(d)?sh(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function Xae(t,e,n){const r=this;return i;function i(a){return u6.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function Jae(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Zae={name:"labelStartImage",resolveAll:aT.resolveAll,tokenize:ele};function ele(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const tle={name:"labelStartLink",resolveAll:aT.resolveAll,tokenize:nle};function nle(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Db={name:"lineEnding",tokenize:rle};function rle(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),De(t,e,"linePrefix")}}const Qp={name:"thematicBreak",tokenize:ile};function ile(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ue(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Se(c)?De(t,a,"whitespace")(c):a(c))}}const Gn={continuation:{tokenize:lle},exit:ule,name:"list",tokenize:ale},sle={partial:!0,tokenize:dle},ole={partial:!0,tokenize:cle};function ale(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:y_(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Qp,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return y_(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(zf,r.interrupt?n:u,t.attempt(sle,f,d))}function u(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Se(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function lle(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(zf,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Se(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ole,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(t,t.attempt(Gn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function cle(t,e,n){const r=this;return De(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function ule(t){t.exit(this.containerState.type)}function dle(t,e,n){const r=this;return De(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Se(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const aR={name:"setextUnderline",resolveTo:hle,tokenize:fle};function hle(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function fle(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Se(c)?De(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ue(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const mle={tokenize:ple};function ple(t){const e=this,n=t.attempt(zf,r,t.attempt(this.parser.constructs.flowInitial,i,De(t,t.attempt(this.parser.constructs.flow,i,t.attempt(wae,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gle={resolveAll:f6()},yle=h6("string"),vle=h6("text");function h6(t){return{resolveAll:f6(t==="text"?ble:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function f6(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function ble(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const wle={42:Gn,43:Gn,45:Gn,48:Gn,49:Gn,50:Gn,51:Gn,52:Gn,53:Gn,54:Gn,55:Gn,56:Gn,57:Gn,62:s6},xle={91:Tae},_le={[-2]:Nb,[-1]:Nb,32:Nb},Ele={35:Rae,42:Qp,45:[aR,Qp],60:Oae,61:aR,95:Qp,96:sR,126:sR},Sle={38:a6,92:o6},Tle={[-5]:Db,[-4]:Db,[-3]:Db,33:Zae,38:a6,42:v_,60:[tae,Uae],91:tle,92:[Aae,o6],93:aT,95:v_,96:mae},kle={null:[v_,gle]},Ile={null:[42,95]},Cle={null:[]},Ale=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ile,contentInitial:xle,disable:Cle,document:wle,flow:Ele,flowInitial:_le,insideSpan:kle,string:Sle,text:Tle},Symbol.toStringTag,{value:"Module"}));function Ple(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:I(R),check:I(P),consume:w,enter:E,exit:C,interrupt:I(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(N){return o=Vr(o,N),v(),o[o.length-1]!==null?[]:(k(e,0),c.events=D0(s,c.events,c),c.events)}function f(N,O){return Nle(p(N),O)}function p(N){return Rle(o,N)}function g(){const{_bufferIndex:N,_index:O,line:M,column:ne,offset:Q}=r;return{_bufferIndex:N,_index:O,line:M,column:ne,offset:Q}}function y(N){i[N.line]=N.column,S()}function v(){let N;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<O.length;)b(O.charCodeAt(r._bufferIndex));else b(O)}}function b(N){u=u(N)}function w(N){ue(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,S()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function E(N,O){const M=O||{};return M.type=N,M.start=g(),c.events.push(["enter",M,c]),a.push(M),M}function C(N){const O=a.pop();return O.end=g(),c.events.push(["exit",O,c]),O}function R(N,O){k(N,O.from)}function P(N,O){O.restore()}function I(N,O){return M;function M(ne,Q,ce){let ee,H,J,L;return Array.isArray(ne)?ae(ne):"tokenize"in ne?ae([ne]):pe(ne);function pe(Ee){return nn;function nn(Ar){const Kr=Ar!==null&&Ee[Ar],or=Ar!==null&&Ee.null,Le=[...Array.isArray(Kr)?Kr:Kr?[Kr]:[],...Array.isArray(or)?or:or?[or]:[]];return ae(Le)(Ar)}}function ae(Ee){return ee=Ee,H=0,Ee.length===0?ce:V(Ee[H])}function V(Ee){return nn;function nn(Ar){return L=A(),J=Ee,Ee.partial||(c.currentConstruct=Ee),Ee.name&&c.parser.constructs.disable.null.includes(Ee.name)?st():Ee.tokenize.call(O?Object.assign(Object.create(c),O):c,l,ve,st)(Ar)}}function ve(Ee){return N(J,L),Q}function st(Ee){return L.restore(),++H<ee.length?V(ee[H]):ce}}}function k(N,O){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&xr(c.events,O,c.events.length-O,N.resolve(c.events.slice(O),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function A(){const N=g(),O=c.previous,M=c.currentConstruct,ne=c.events.length,Q=Array.from(a);return{from:ne,restore:ce};function ce(){r=N,c.previous=O,c.currentConstruct=M,c.events.length=ne,a=Q,S()}}function S(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Rle(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Nle(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Dle(t){const r={constructs:r6([Ale,...(t||{}).extensions||[]]),content:i(Koe),defined:[],document:i(Yoe),flow:i(mle),lazy:{},string:i(yle),text:i(vle)};return r;function i(s){return o;function o(a){return Ple(r,s,a)}}}function Mle(t){for(;!l6(t););return t}const lR=/[\0\t\n\r]/g;function Ole(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(lR.lastIndex=d,c=lR.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Lle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vle(t){return t.replace(Lle,Fle)}function Fle(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return i6(n.slice(s?2:1),s?16:10)}return oT(n)||t}const m6={}.hasOwnProperty;function Ble(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$le(n)(Mle(Dle(n).document().write(Ole()(t,e,!0))))}function $le(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Cu),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(yl),blockQuote:s(or),characterEscape:A,characterReference:A,codeFenced:s(Le),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Le,o),codeText:s(Nn,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(qt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(fi),hardBreakEscape:s(Iu),hardBreakTrailing:s(Iu),htmlFlow:s(Jf,o),htmlFlowData:A,htmlText:s(Jf,o),htmlTextData:A,image:s(iv),label:o,link:s(Cu),listItem:s(Zf),listItemValue:f,listOrdered:s(vl,d),listUnordered:s(vl),paragraph:s(sv),reference:V,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(yl),strong:s(Au),thematicBreak:s(em)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:Kr,autolinkProtocol:Ar,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:st,characterReferenceMarkerNumeric:st,characterReferenceValue:Ee,characterReference:nn,codeFenced:l(v),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:S,codeIndented:l(b),codeText:l(Q),codeTextData:S,data:S,definition:l(),definitionDestinationString:C,definitionLabelString:w,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(M),htmlFlowData:S,htmlText:l(ne),htmlTextData:S,image:l(ee),label:J,labelText:H,lineEnding:N,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ve,resourceDestinationString:L,resourceTitleString:pe,resource:ae,setextHeading:l(k),setextHeadingLineSequence:I,setextHeadingText:P,strong:l(),thematicBreak:l()}};p6(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(U){let W={type:"root",children:[]};const he={stack:[W],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},xe=[];let Be=-1;for(;++Be<U.length;)if(U[Be][1].type==="listOrdered"||U[Be][1].type==="listUnordered")if(U[Be][0]==="enter")xe.push(Be);else{const ar=xe.pop();Be=i(U,ar,Be)}for(Be=-1;++Be<U.length;){const ar=e[U[Be][0]];m6.call(ar,U[Be][1].type)&&ar[U[Be][1].type].call(Object.assign({sliceSerialize:U[Be][2].sliceSerialize},he),U[Be][1])}if(he.tokenStack.length>0){const ar=he.tokenStack[he.tokenStack.length-1];(ar[1]||cR).call(he,void 0,ar[0])}for(W.position={start:Ws(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Ws(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<e.transforms.length;)W=e.transforms[Be](W)||W;return W}function i(U,W,he){let xe=W-1,Be=-1,ar=!1,lr,Pr,Ms,Qi;for(;++xe<=he;){const Dn=U[xe];switch(Dn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dn[0]==="enter"?Be++:Be--,Qi=void 0;break}case"lineEndingBlank":{Dn[0]==="enter"&&(lr&&!Qi&&!Be&&!Ms&&(Ms=xe),Qi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qi=void 0}if(!Be&&Dn[0]==="enter"&&Dn[1].type==="listItemPrefix"||Be===-1&&Dn[0]==="exit"&&(Dn[1].type==="listUnordered"||Dn[1].type==="listOrdered")){if(lr){let Os=xe;for(Pr=void 0;Os--;){const cr=U[Os];if(cr[1].type==="lineEnding"||cr[1].type==="lineEndingBlank"){if(cr[0]==="exit")continue;Pr&&(U[Pr][1].type="lineEndingBlank",ar=!0),cr[1].type="lineEnding",Pr=Os}else if(!(cr[1].type==="linePrefix"||cr[1].type==="blockQuotePrefix"||cr[1].type==="blockQuotePrefixWhitespace"||cr[1].type==="blockQuoteMarker"||cr[1].type==="listItemIndent"))break}Ms&&(!Pr||Ms<Pr)&&(lr._spread=!0),lr.end=Object.assign({},Pr?U[Pr][1].start:Dn[1].end),U.splice(Pr||xe,0,["exit",lr,Dn[2]]),xe++,he++}if(Dn[1].type==="listItemPrefix"){const Os={type:"listItem",_spread:!1,start:Object.assign({},Dn[1].start),end:void 0};lr=Os,U.splice(xe,0,["enter",Os,Dn[2]]),xe++,he++,Ms=void 0,Qi=!0}}}return U[W][1]._spread=ar,he}function s(U,W){return he;function he(xe){a.call(this,U(xe),xe),W&&W.call(this,xe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(U,W,he){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([W,he||void 0]),U.position={start:Ws(W.start),end:void 0}}function l(U){return W;function W(he){U&&U.call(this,he),c.call(this,he)}}function c(U,W){const he=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==U.type&&(W?W.call(this,U,xe[0]):(xe[1]||cR).call(this,U,xe[0]));else throw new Error("Cannot close `"+U.type+"` ("+ih({start:U.start,end:U.end})+"): it’s not open");he.position.end=Ws(U.end)}function u(){return sT(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(U){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function p(){const U=this.resume(),W=this.stack[this.stack.length-1];W.lang=U}function g(){const U=this.resume(),W=this.stack[this.stack.length-1];W.meta=U}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const U=this.resume(),W=this.stack[this.stack.length-1];W.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const U=this.resume(),W=this.stack[this.stack.length-1];W.value=U.replace(/(\r?\n|\r)$/g,"")}function w(U){const W=this.resume(),he=this.stack[this.stack.length-1];he.label=W,he.identifier=ci(this.sliceSerialize(U)).toLowerCase()}function E(){const U=this.resume(),W=this.stack[this.stack.length-1];W.title=U}function C(){const U=this.resume(),W=this.stack[this.stack.length-1];W.url=U}function R(U){const W=this.stack[this.stack.length-1];if(!W.depth){const he=this.sliceSerialize(U).length;W.depth=he}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function I(U){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function A(U){const he=this.stack[this.stack.length-1].children;let xe=he[he.length-1];(!xe||xe.type!=="text")&&(xe=Pu(),xe.position={start:Ws(U.start),end:void 0},he.push(xe)),this.stack.push(xe)}function S(U){const W=this.stack.pop();W.value+=this.sliceSerialize(U),W.position.end=Ws(U.end)}function N(U){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const he=W.children[W.children.length-1];he.position.end=Ws(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(A.call(this,U),S.call(this,U))}function O(){this.data.atHardBreak=!0}function M(){const U=this.resume(),W=this.stack[this.stack.length-1];W.value=U}function ne(){const U=this.resume(),W=this.stack[this.stack.length-1];W.value=U}function Q(){const U=this.resume(),W=this.stack[this.stack.length-1];W.value=U}function ce(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=W,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function ee(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=W,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function H(U){const W=this.sliceSerialize(U),he=this.stack[this.stack.length-2];he.label=Vle(W),he.identifier=ci(W).toLowerCase()}function J(){const U=this.stack[this.stack.length-1],W=this.resume(),he=this.stack[this.stack.length-1];if(this.data.inReference=!0,he.type==="link"){const xe=U.children;he.children=xe}else he.alt=W}function L(){const U=this.resume(),W=this.stack[this.stack.length-1];W.url=U}function pe(){const U=this.resume(),W=this.stack[this.stack.length-1];W.title=U}function ae(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function ve(U){const W=this.resume(),he=this.stack[this.stack.length-1];he.label=W,he.identifier=ci(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function st(U){this.data.characterReferenceType=U.type}function Ee(U){const W=this.sliceSerialize(U),he=this.data.characterReferenceType;let xe;he?(xe=i6(W,he==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=oT(W);const Be=this.stack[this.stack.length-1];Be.value+=xe}function nn(U){const W=this.stack.pop();W.position.end=Ws(U.end)}function Ar(U){S.call(this,U);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(U)}function Kr(U){S.call(this,U);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(U)}function or(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function Nn(){return{type:"inlineCode",value:""}}function qt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fi(){return{type:"emphasis",children:[]}}function yl(){return{type:"heading",depth:0,children:[]}}function Iu(){return{type:"break"}}function Jf(){return{type:"html",value:""}}function iv(){return{type:"image",title:null,url:"",alt:null}}function Cu(){return{type:"link",title:null,url:"",children:[]}}function vl(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function Zf(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function sv(){return{type:"paragraph",children:[]}}function Au(){return{type:"strong",children:[]}}function Pu(){return{type:"text",value:""}}function em(){return{type:"thematicBreak"}}}function Ws(t){return{line:t.line,column:t.column,offset:t.offset}}function p6(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?p6(t,r):jle(t,r)}}function jle(t,e){let n;for(n in e)if(m6.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cR(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ih({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ih({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ih({start:e.start,end:e.end})+") is still open")}function Ule(t){const e=this;e.parser=n;function n(r){return Ble(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function zle(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Hle(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Wle(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function qle(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Gle(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kle(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=_u(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Qle(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Yle(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function g6(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Xle(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return g6(t,e);const i={src:_u(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Jle(t,e){const n={src:_u(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Zle(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function ece(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return g6(t,e);const i={href:_u(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function tce(t,e){const n={href:_u(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function nce(t,e,n){const r=t.all(e),i=n?rce(n):y6(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function rce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=y6(n[r])}return e}function y6(t){const e=t.spread;return e??t.children.length>1}function ice(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function sce(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oce(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ace(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lce(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=tT(e.children[1]),l=YF(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function cce(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};d&&(g.children=t.all(d),t.patch(d,g),g=t.applyData(d,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function uce(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uR=9,dR=32;function dce(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(hR(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(hR(e.slice(i),i>0,!1)),s.join("")}function hR(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===uR||s===dR;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===uR||s===dR;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function hce(t,e){const n={type:"text",value:dce(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function fce(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const mce={blockquote:zle,break:Hle,code:Wle,delete:qle,emphasis:Gle,footnoteReference:Kle,heading:Qle,html:Yle,imageReference:Xle,image:Jle,inlineCode:Zle,linkReference:ece,link:tce,listItem:nce,list:ice,paragraph:sce,root:oce,strong:ace,table:lce,tableCell:uce,tableRow:cce,text:hce,thematicBreak:fce,toml:Qm,yaml:Qm,definition:Qm,footnoteDefinition:Qm};function Qm(){}const v6=-1,M0=0,my=1,py=2,lT=3,cT=4,uT=5,dT=6,b6=7,w6=8,fR=typeof self=="object"?self:globalThis,pce=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case M0:case v6:return n(o,i);case my:{const a=n([],i);for(const l of o)a.push(r(l));return a}case py:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case lT:return n(new Date(o),i);case cT:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case uT:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case dT:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case b6:{const{name:a,message:l}=o;return n(new fR[a](l),i)}case w6:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new fR[s](o),i)};return r},mR=t=>pce(new Map,t)(0),Cl="",{toString:gce}={},{keys:yce}=Object,ad=t=>{const e=typeof t;if(e!=="object"||!t)return[M0,e];const n=gce.call(t).slice(8,-1);switch(n){case"Array":return[my,Cl];case"Object":return[py,Cl];case"Date":return[lT,Cl];case"RegExp":return[cT,Cl];case"Map":return[uT,Cl];case"Set":return[dT,Cl]}return n.includes("Array")?[my,n]:n.includes("Error")?[b6,n]:[py,n]},Ym=([t,e])=>t===M0&&(e==="function"||e==="symbol"),vce=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ad(o);switch(a){case M0:{let u=o;switch(l){case"bigint":a=w6,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([v6],o)}return i([a,u],o)}case my:{if(l)return i([l,[...o]],o);const u=[],d=i([a,u],o);for(const f of o)u.push(s(f));return d}case py:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const f of yce(o))(t||!Ym(ad(o[f])))&&u.push([s(f),s(o[f])]);return d}case lT:return i([a,o.toISOString()],o);case cT:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case uT:{const u=[],d=i([a,u],o);for(const[f,p]of o)(t||!(Ym(ad(f))||Ym(ad(p))))&&u.push([s(f),s(p)]);return d}case dT:{const u=[],d=i([a,u],o);for(const f of o)(t||!Ym(ad(f)))&&u.push(s(f));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},pR=(t,{json:e,lossy:n}={})=>{const r=[];return vce(!(e||n),!!e,new Map,r)(t),r},gy=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?mR(pR(t,e)):structuredClone(t):(t,e)=>mR(pR(t,e));function bce(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function wce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function xce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||bce,r=t.options.footnoteBackLabel||wce,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),f=_u(d.toLowerCase());let p=0;const g=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){g.length>0&&g.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,p);typeof w=="string"&&(w={type:"text",value:w}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else u.push(...g);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...gy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const O0=function(t){if(t==null)return Tce;if(typeof t=="function")return L0(t);if(typeof t=="object")return Array.isArray(t)?_ce(t):Ece(t);if(typeof t=="string")return Sce(t);throw new Error("Expected function, string, or object as test")};function _ce(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=O0(t[n]);return L0(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Ece(t){const e=t;return L0(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Sce(t){return L0(e);function e(n){return n&&n.type===t}}function L0(t){return e;function e(n,r,i){return!!(kce(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Tce(){return!0}function kce(t){return t!==null&&typeof t=="object"&&"type"in t}const x6=[],Ice=!0,b_=!1,Cce="skip";function _6(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=O0(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=x6,g,y,v;if((!e||s(l,c,u[u.length-1]||void 0))&&(p=Ace(n(l,u)),p[0]===b_))return p;if("children"in l&&l.children){const b=l;if(b.children&&p[0]!==Cce)for(y=(r?b.children.length:-1)+o,v=u.concat(b);y>-1&&y<b.children.length;){const w=b.children[y];if(g=a(w,y,v)(),g[0]===b_)return g;y=typeof g[1]=="number"?g[1]:y+o}}return p}}}function Ace(t){return Array.isArray(t)?t:typeof t=="number"?[Ice,t]:t==null?x6:[t]}function hT(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),_6(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const w_={}.hasOwnProperty,Pce={};function Rce(t,e){const n=e||Pce,r=new Map,i=new Map,s=new Map,o={...mce,...n.handlers},a={all:c,applyData:Dce,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Nce,wrap:Oce};return hT(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();d.has(f)||d.set(f,u)}}),a;function l(u,d){const f=u.type,p=a.handlers[f];if(w_.call(a.handlers,f)&&p)return p(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in u){const{children:y,...v}=u,b=gy(v);return b.children=a.all(u),b}return gy(u)}return(a.options.unknownHandler||Mce)(a,u,d)}function c(u){const d=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const g=a.one(f[p],u);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=gR(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=gR(y.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function Nce(t,e){t.position&&(e.position=voe(t))}function Dce(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,gy(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Mce(t,e){const n=e.data||{},r="value"in e&&!(w_.call(n,"hProperties")||w_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Oce(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function gR(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function yR(t,e){const n=Rce(t,e),r=n.one(t,void 0),i=xce(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Lce(t,e){return t&&"run"in t?async function(n,r){const i=yR(n,{file:r,...e});await t.run(i,r)}:function(n,r){return yR(n,{file:r,...t||e})}}function vR(t){if(t)throw t}var Yp=Object.prototype.hasOwnProperty,E6=Object.prototype.toString,bR=Object.defineProperty,wR=Object.getOwnPropertyDescriptor,xR=function(e){return typeof Array.isArray=="function"?Array.isArray(e):E6.call(e)==="[object Array]"},_R=function(e){if(!e||E6.call(e)!=="[object Object]")return!1;var n=Yp.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Yp.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Yp.call(e,i)},ER=function(e,n){bR&&n.name==="__proto__"?bR(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},SR=function(e,n){if(n==="__proto__")if(Yp.call(e,n)){if(wR)return wR(e,n).value}else return;return e[n]},Vce=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=SR(a,n),i=SR(e,n),a!==i&&(u&&i&&(_R(i)||(s=xR(i)))?(s?(s=!1,o=r&&xR(r)?r:[]):o=r&&_R(r)?r:{},ER(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&ER(a,{name:n,newValue:i}));return a};const Mb=Py(Vce);function x_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Fce(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?Bce(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Bce(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const bi={basename:$ce,dirname:jce,extname:Uce,join:zce,sep:"/"};function $ce(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Hf(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function jce(t){if(Hf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Uce(t){Hf(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function zce(...t){let e=-1,n;for(;++e<t.length;)Hf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Hce(n)}function Hce(t){Hf(t);const e=t.codePointAt(0)===47;let n=Wce(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Wce(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Hf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qce={cwd:Gce};function Gce(){return"/"}function __(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Kce(t){if(typeof t=="string")t=new URL(t);else if(!__(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Qce(t)}function Qce(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Ob=["history","path","basename","stem","extname","dirname"];class S6{constructor(e){let n;e?__(e)?n={path:e}:typeof e=="string"||Yce(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ob.length;){const s=Ob[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ob.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?bi.basename(this.path):void 0}set basename(e){Vb(e,"basename"),Lb(e,"basename"),this.path=bi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?bi.dirname(this.path):void 0}set dirname(e){TR(this.basename,"dirname"),this.path=bi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?bi.extname(this.path):void 0}set extname(e){if(Lb(e,"extname"),TR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){__(e)&&(e=Kce(e)),Vb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?bi.basename(this.path,this.extname):void 0}set stem(e){Vb(e,"stem"),Lb(e,"stem"),this.path=bi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Rn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Lb(t,e){if(t&&t.includes(bi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+bi.sep+"`")}function Vb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function TR(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Yce(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Xce=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Jce={}.hasOwnProperty;class fT extends Xce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Fce()}copy(){const e=new fT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Mb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?($b("data",this.frozen),this.namespace[e]=n,this):Jce.call(this.namespace,e)&&this.namespace[e]||void 0:e?($b("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Xm(e),r=this.parser||this.Parser;return Fb("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Fb("process",this.parser||this.Parser),Bb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Xm(e),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const p=d,g=r.stringify(p,f);tue(g)?f.value=g:f.result=g,c(u,f)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Fb("processSync",this.parser||this.Parser),Bb("processSync",this.compiler||this.Compiler),this.process(e,i),IR("processSync","process",n),r;function i(s,o){n=!0,vR(s),r=o}}run(e,n,r){kR(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Xm(n);i.run(e,l,c);function c(u,d,f){const p=d||e;u?a(u):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),IR("runSync","run",r),i;function s(o,a){vR(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Xm(n),i=this.compiler||this.Compiler;return Bb("stringify",i),kR(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if($b("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=Mb(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...g]=u;const y=r[f][1];x_(y)&&x_(p)&&(p=Mb(!0,y,p)),r[f]=[c,p,...g]}}}}const Zce=new fT().freeze();function Fb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Bb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $b(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kR(t){if(!x_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function IR(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Xm(t){return eue(t)?t:new S6(t)}function eue(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function tue(t){return typeof t=="string"||nue(t)}function nue(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const rue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CR=[],AR={allowDangerousHtml:!0},iue=/^(https?|ircs?|mailto|xmpp)$/i,sue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oue(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||CR,l=t.remarkPlugins||CR,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...AR}:AR,u=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||aue,p=Zce().use(Ule).use(l).use(Lce,c).use(a),g=new S6;typeof r=="string"&&(g.value=r);for(const w of sue)Object.hasOwn(t,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+rue+w.id,void 0);const y=p.parse(g);let v=p.runSync(y,g);return i&&(v={type:"element",tagName:"div",properties:{className:i},children:v.type==="root"?v.children:[v]}),hT(v,b),Soe(v,{Fragment:zr.Fragment,components:s,ignoreInvalidStyle:!0,jsx:zr.jsx,jsxs:zr.jsxs,passKeys:!0,passNode:!0});function b(w,E,C){if(w.type==="raw"&&C&&typeof E=="number")return u?C.children.splice(E,1):C.children[E]={type:"text",value:w.value},E;if(w.type==="element"){let R;for(R in Rb)if(Object.hasOwn(Rb,R)&&Object.hasOwn(w.properties,R)){const P=w.properties[R],I=Rb[R];(I===null||I.includes(w.tagName))&&(w.properties[R]=f(String(P||""),R,w))}}if(w.type==="element"){let R=e?!e.includes(w.tagName):o?o.includes(w.tagName):!1;if(!R&&n&&typeof E=="number"&&(R=!n(w,E,C)),R&&C&&typeof E=="number")return d&&w.children?C.children.splice(E,1,...w.children):C.children.splice(E,1),E}}}function aue(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||iue.test(t.slice(0,e))?t:""}function PR(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function lue(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function cue(t,e,n){const i=O0(n.ignore||[]),s=uue(e);let o=-1;for(;++o<s.length;)_6(t,"text",a);function a(c,u){let d=-1,f;for(;++d<u.length;){const p=u[d],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(c,u)}function l(c,u){const d=u[u.length-1],f=s[o][0],p=s[o][1];let g=0;const v=d.children.indexOf(c);let b=!1,w=[];f.lastIndex=0;let E=f.exec(c.value);for(;E;){const C=E.index,R={index:E.index,input:E.input,stack:[...u,c]};let P=p(...E,R);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?f.lastIndex=C+1:(g!==C&&w.push({type:"text",value:c.value.slice(g,C)}),Array.isArray(P)?w.push(...P):P&&w.push(P),g=C+E[0].length,b=!0),!f.global)break;E=f.exec(c.value)}return b?(g<c.value.length&&w.push({type:"text",value:c.value.slice(g)}),d.children.splice(v,1,...w)):w=[c],v+w.length}}function uue(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([due(i[0]),hue(i[1])])}return e}function due(t){return typeof t=="string"?new RegExp(lue(t),"g"):t}function hue(t){return typeof t=="function"?t:function(){return t}}const jb="phrasing",Ub=["autolink","link","image","label"];function fue(){return{transforms:[wue],enter:{literalAutolink:pue,literalAutolinkEmail:zb,literalAutolinkHttp:zb,literalAutolinkWww:zb},exit:{literalAutolink:bue,literalAutolinkEmail:vue,literalAutolinkHttp:gue,literalAutolinkWww:yue}}}function mue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:Ub},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:Ub},{character:":",before:"[ps]",after:"\\/",inConstruct:jb,notInConstruct:Ub}]}}function pue(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function zb(t){this.config.enter.autolinkProtocol.call(this,t)}function gue(t){this.config.exit.autolinkProtocol.call(this,t)}function yue(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vue(t){this.config.exit.autolinkEmail.call(this,t)}function bue(t){this.exit(t)}function wue(t){cue(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),_ue]],{ignore:["link","linkReference"]})}function xue(t,e,n,r,i){let s="";if(!T6(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Eue(n)))return!1;const o=Sue(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function _ue(t,e,n,r){return!T6(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Eue(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Sue(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=PR(t,"(");let s=PR(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function T6(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||el(n)||N0(n))&&(!e||n!==47)}k6.peek=Oue;function Tue(){return{enter:{gfmFootnoteDefinition:Iue,gfmFootnoteDefinitionLabelString:Cue,gfmFootnoteCall:Rue,gfmFootnoteCallString:Nue},exit:{gfmFootnoteDefinition:Pue,gfmFootnoteDefinitionLabelString:Aue,gfmFootnoteCall:Mue,gfmFootnoteCallString:Due}}}function kue(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Lue,footnoteReference:k6}}}function Iue(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Cue(){this.buffer()}function Aue(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=ci(this.sliceSerialize(t)).toLowerCase()}function Pue(t){this.exit(t)}function Rue(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Nue(){this.buffer()}function Due(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=ci(this.sliceSerialize(t)).toLowerCase()}function Mue(t){this.exit(t)}function k6(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function Oue(){return"["}function Lue(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(t,i.current()),Vue)),o(),s}function Vue(t,e,n){return e===0?t:(n?"":"    ")+t}const Fue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];I6.peek=zue;function Bue(){return{canContainEols:["delete"],enter:{strikethrough:jue},exit:{strikethrough:Uue}}}function $ue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Fue}],handlers:{delete:I6}}}function jue(t){this.enter({type:"delete",children:[]},t)}function Uue(t){this.exit(t)}function I6(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function zue(){return"~"}function Hue(t){return t.length}function Wue(t,e){const n=e,r=(n.align||[]).concat(),i=n.stringLength||Hue,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const y=[],v=[];let b=-1;for(t[u].length>c&&(c=t[u].length);++b<t[u].length;){const w=que(t[u][b]);if(n.alignDelimiters!==!1){const E=i(w);v[b]=E,(l[b]===void 0||E>l[b])&&(l[b]=E)}y.push(w)}o[u]=y,a[u]=v}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=RR(r[d]);else{const y=RR(r);for(;++d<c;)s[d]=y}d=-1;const f=[],p=[];for(;++d<c;){const y=s[d];let v="",b="";y===99?(v=":",b=":"):y===108?v=":":y===114&&(b=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[d]-v.length-b.length);const E=v+"-".repeat(w)+b;n.alignDelimiters!==!1&&(w=v.length+w+b.length,w>l[d]&&(l[d]=w),p[d]=w),f[d]=E}o.splice(1,0,f),a.splice(1,0,p),u=-1;const g=[];for(;++u<o.length;){const y=o[u],v=a[u];d=-1;const b=[];for(;++d<c;){const w=y[d]||"";let E="",C="";if(n.alignDelimiters!==!1){const R=l[d]-(v[d]||0),P=s[d];P===114?E=" ".repeat(R):P===99?R%2?(E=" ".repeat(R/2+.5),C=" ".repeat(R/2-.5)):(E=" ".repeat(R/2),C=E):C=" ".repeat(R)}n.delimiterStart!==!1&&!d&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&b.push(" "),n.alignDelimiters!==!1&&b.push(E),b.push(w),n.alignDelimiters!==!1&&b.push(C),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&b.push("|")}g.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return g.join(`
`)}function que(t){return t==null?"":String(t)}function RR(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Gue(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Kue);return i(),o}function Kue(t,e,n){return">"+(n?"":" ")+t}function Que(t,e){return NR(t,e.inConstruct,!0)&&!NR(t,e.notInConstruct,!1)}function NR(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function DR(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Que(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Yue(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Xue(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Jue(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Zue(t,e,n,r){const i=Jue(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Xue(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,ede);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(Yue(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function ede(t,e,n){return(n?"":"    ")+t}function mT(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tde(t,e,n,r){const i=mT(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function nde(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function nf(t){return"&#x"+t.toString(16).toUpperCase()+";"}function yy(t,e,n){const r=tu(t),i=tu(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}C6.peek=rde;function C6(t,e,n,r){const i=nde(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=yy(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=nf(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=yy(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nf(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},a+l+p}function rde(t,e,n){return n.options.emphasis||"*"}function ide(t,e){let n=!1;return hT(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,b_}),!!((!t.depth||t.depth<3)&&sT(t)&&(e.options.setext||n))}function sde(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(ide(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=nf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}A6.peek=ode;function A6(t){return t.value||""}function ode(){return"<"}P6.peek=ade;function P6(t,e,n,r){const i=mT(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function ade(){return"!"}R6.peek=lde;function R6(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function lde(){return"!"}N6.peek=cde;function N6(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function cde(){return"`"}function D6(t,e){const n=sT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}M6.peek=ude;function M6(t,e,n,r){const i=mT(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(D6(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function ude(t,e,n){return D6(t,n)?"<":"["}O6.peek=dde;function O6(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function dde(){return"["}function pT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function hde(t){const e=pT(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function fde(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function L6(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function mde(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?fde(n):pT(n);const a=t.ordered?o==="."?")":".":hde(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),L6(n)===o&&u){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function pde(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gde(t,e,n,r){const i=pde(n);let s=n.bulletCurrent||pT(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function yde(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const vde=O0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bde(t,e,n,r){return(t.children.some(function(o){return vde(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function wde(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}V6.peek=xde;function V6(t,e,n,r){const i=wde(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=yy(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=nf(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=yy(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nf(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},a+l+p}function xde(t,e,n){return n.options.strong||"*"}function _de(t,e,n,r){return n.safe(t.value,r)}function Ede(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Sde(t,e,n){const r=(L6(n)+(n.options.ruleSpaces?" ":"")).repeat(Ede(n));return n.options.ruleSpaces?r.slice(0,-1):r}const F6={blockquote:Gue,break:DR,code:Zue,definition:tde,emphasis:C6,hardBreak:DR,heading:sde,html:A6,image:P6,imageReference:R6,inlineCode:N6,link:M6,linkReference:O6,list:mde,listItem:gde,paragraph:yde,root:bde,strong:V6,text:_de,thematicBreak:Sde};function Tde(){return{enter:{table:kde,tableData:MR,tableHeader:MR,tableRow:Cde},exit:{codeText:Ade,table:Ide,tableData:Hb,tableHeader:Hb,tableRow:Hb}}}function kde(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Ide(t){this.exit(t),this.data.inTable=void 0}function Cde(t){this.enter({type:"tableRow",children:[]},t)}function Hb(t){this.exit(t)}function MR(t){this.enter({type:"tableCell",children:[]},t)}function Ade(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Pde));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Pde(t,e){return e==="|"?e:t}function Rde(t){const e=t,n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,g,y,v){return c(u(p,y,v),p.align)}function a(p,g,y,v){const b=d(p,y,v),w=c([b]);return w.slice(0,w.indexOf(`
`))}function l(p,g,y,v){const b=y.enter("tableCell"),w=y.enter("phrasing"),E=y.containerPhrasing(p,{...v,before:s,after:s});return w(),b(),E}function c(p,g){return Wue(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function u(p,g,y){const v=p.children;let b=-1;const w=[],E=g.enter("table");for(;++b<v.length;)w[b]=d(v[b],g,y);return E(),w}function d(p,g,y){const v=p.children;let b=-1;const w=[],E=g.enter("tableRow");for(;++b<v.length;)w[b]=l(v[b],p,g,y);return E(),w}function f(p,g,y){let v=F6.inlineCode(p,g,y);return y.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function Nde(){return{exit:{taskListCheckValueChecked:OR,taskListCheckValueUnchecked:OR,paragraph:Mde}}}function Dde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ode}}}function OR(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Mde(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Ode(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=F6.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function Lde(){return[fue(),Tue(),Bue(),Tde(),Nde()]}function Vde(t){return{extensions:[mue(),kue(),$ue(),Rde(t),Dde()]}}const Fde={tokenize:Hde,partial:!0},B6={tokenize:Wde,partial:!0},$6={tokenize:qde,partial:!0},j6={tokenize:Gde,partial:!0},Bde={tokenize:Kde,partial:!0},U6={name:"wwwAutolink",tokenize:Ude,previous:H6},z6={name:"protocolAutolink",tokenize:zde,previous:W6},Ns={name:"emailAutolink",tokenize:jde,previous:q6},Ki={};function $de(){return{text:Ki}}let na=48;for(;na<123;)Ki[na]=Ns,na++,na===58?na=65:na===91&&(na=97);Ki[43]=Ns;Ki[45]=Ns;Ki[46]=Ns;Ki[95]=Ns;Ki[72]=[Ns,z6];Ki[104]=[Ns,z6];Ki[87]=[Ns,U6];Ki[119]=[Ns,U6];function jde(t,e,n){const r=this;let i,s;return o;function o(d){return!E_(d)||!q6.call(r,r.previous)||gT(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return E_(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(Bde,u,c)(d):d===45||d===95||kn(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&Bn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function Ude(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!H6.call(r,r.previous)||gT(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Fde,t.attempt(B6,t.attempt($6,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function zde(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&W6.call(r,r.previous)&&!gT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(Bn(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||fy(d)||Ke(d)||el(d)||N0(d)?n(d):t.attempt(B6,t.attempt($6,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function Hde(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function Wde(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(j6,l,a)(c):c===null||Ke(c)||el(c)||c!==45&&N0(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function qde(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(j6,e,s)(o):o===null||Ke(o)||el(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function Gde(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Ke(a)||el(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Ke(a)||el(a)?e(a):r(a)}function s(a){return Bn(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Bn(a)?(t.consume(a),o):n(a)}}function Kde(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return kn(s)?n(s):e(s)}}function H6(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ke(t)}function W6(t){return!Bn(t)}function q6(t){return!(t===47||E_(t))}function E_(t){return t===43||t===45||t===46||t===95||kn(t)}function gT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Qde={tokenize:rhe,partial:!0};function Yde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ehe,continuation:{tokenize:the},exit:nhe}},text:{91:{name:"gfmFootnoteCall",tokenize:Zde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Xde,resolveTo:Jde}}}}function Xde(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=ci(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function Jde(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function Zde(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Ke(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(ci(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Ke(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function ehe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(g)}function u(g){if(o>999||g===93&&!a||g===null||g===91||Ke(g))return n(g);if(g===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=ci(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ke(g)||(a=!0),o++,t.consume(g),g===92?d:u}function d(g){return g===91||g===92||g===93?(t.consume(g),o++,u):u(g)}function f(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(s)||i.push(s),De(t,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return e(g)}}function the(t,e,n){return t.check(zf,e,t.attempt(Qde,e,n))}function nhe(t){t.exit("gfmFootnoteDefinition")}function rhe(t,e,n){const r=this;return De(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function ihe(t){let n=t.singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&xr(f,f.length,0,D0(p,o.slice(c+1,l),a)),xr(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),xr(o,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return f;function f(g){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const y=tu(c);if(g===126)return d>1?l(g):(o.consume(g),d++,p);if(d<2&&!n)return l(g);const v=o.exit("strikethroughSequenceTemporary"),b=tu(g);return v._open=!b||b===2&&!!y,v._close=!y||y===2&&!!b,a(g)}}}class she{constructor(){this.map=[]}add(e,n,r){ohe(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function ohe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function ahe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lhe(){return{flow:{null:{name:"table",tokenize:che,resolveAll:uhe}}}}function che(t,e,n){const r=this;let i=0,s=0,o;return a;function a(S){let N=r.events.length-1;for(;N>-1;){const ne=r.events[N][1].type;if(ne==="lineEnding"||ne==="linePrefix")N--;else break}const O=N>-1?r.events[N][1].type:null,M=O==="tableHead"||O==="tableRow"?P:l;return M===P&&r.parser.lazy[r.now().line]?n(S):M(S)}function l(S){return t.enter("tableHead"),t.enter("tableRow"),c(S)}function c(S){return S===124||(o=!0,s+=1),u(S)}function u(S){return S===null?n(S):ue(S)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),p):n(S):Se(S)?De(t,u,"whitespace")(S):(s+=1,o&&(o=!1,i+=1),S===124?(t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(S)))}function d(S){return S===null||S===124||Ke(S)?(t.exit("data"),u(S)):(t.consume(S),S===92?f:d)}function f(S){return S===92||S===124?(t.consume(S),d):d(S)}function p(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(t.enter("tableDelimiterRow"),o=!1,Se(S)?De(t,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):g(S))}function g(S){return S===45||S===58?v(S):S===124?(o=!0,t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),y):R(S)}function y(S){return Se(S)?De(t,v,"whitespace")(S):v(S)}function v(S){return S===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(S),t.exit("tableDelimiterMarker"),b):S===45?(s+=1,b(S)):S===null||ue(S)?C(S):R(S)}function b(S){return S===45?(t.enter("tableDelimiterFiller"),w(S)):R(S)}function w(S){return S===45?(t.consume(S),w):S===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(S),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(S))}function E(S){return Se(S)?De(t,C,"whitespace")(S):C(S)}function C(S){return S===124?g(S):S===null||ue(S)?!o||i!==s?R(S):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(S)):R(S)}function R(S){return n(S)}function P(S){return t.enter("tableRow"),I(S)}function I(S){return S===124?(t.enter("tableCellDivider"),t.consume(S),t.exit("tableCellDivider"),I):S===null||ue(S)?(t.exit("tableRow"),e(S)):Se(S)?De(t,I,"whitespace")(S):(t.enter("data"),k(S))}function k(S){return S===null||S===124||Ke(S)?(t.exit("data"),I(S)):(t.consume(S),S===92?A:k)}function A(S){return S===92||S===124?(t.consume(S),k):k(S)}}function uhe(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const f=new she;for(;++n<t.length;){const p=t[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(LR(f,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",c,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,e]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Jm(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Jm(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):g.type==="tableHead"?(a=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Jm(f,e,s,i,n,d)):o[1]!==0&&(d=Jm(f,e,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&LR(f,e,l,c,u),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=ahe(e.events,n))}return t}function Jm(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},$l(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=$l(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=$l(e.events,n[2]),u=$l(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;t.add(g,y,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},$l(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function LR(t,e,n,r,i){const s=[],o=$l(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function $l(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const dhe={name:"tasklistCheck",tokenize:fhe};function hhe(){return{text:{91:dhe}}}function fhe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ke(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return ue(l)?e(l):Se(l)?t.check({tokenize:mhe},e,n)(l):n(l)}}function mhe(t,e,n){return De(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function phe(t){return r6([$de(),Yde(),ihe(t),lhe(),hhe()])}const ghe={};function yhe(t){const e=this,n=t||ghe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(phe(n)),s.push(Lde()),o.push(Vde(n))}function vhe(){const{slug:t}=A7(),e=$F.find(n=>n.id===t);return e?h.createElement("div",{className:"min-h-screen bg-gray-50 py-16"},h.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}},h.createElement(Ce,{to:"/blog",className:"inline-block mb-8 text-blue-600 hover:text-blue-700"},"← Retour au blog"),h.createElement("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden"},h.createElement("div",{className:"w-full h-64 bg-gray-200"},h.createElement("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover",loading:"lazy",onError:n=>{n.target.onerror=null,n.target.src="/images/blog/default.jpg"}})),h.createElement("div",{className:"p-8"},h.createElement("header",{className:"mb-8"},h.createElement("div",{className:"flex items-center gap-4 mb-4"},h.createElement("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded"},JS[e.category]),h.createElement("span",{className:"text-sm text-gray-600"},new Date(e.date).toLocaleDateString())),h.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},e.title),h.createElement("div",{className:"flex items-center gap-4"},h.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden"},h.createElement("img",{src:e.author.avatar,alt:e.author.name,className:"w-full h-full object-cover",loading:"lazy",onError:n=>{n.target.onerror=null,n.target.src="/images/authors/default.jpg"}})),h.createElement("span",{className:"text-sm text-gray-600"},"Par ",e.author.name)),h.createElement("div",{className:"mt-4 flex flex-wrap gap-2"},e.tags.map(n=>h.createElement("span",{key:n,className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full"},n)))),h.createElement("div",{className:"prose prose-blue max-w-none"},h.createElement("p",{className:"text-lg text-gray-600 mb-8"},e.description),h.createElement(oue,{remarkPlugins:[yhe]},e.content))))))):h.createElement("div",{className:"min-h-screen bg-gray-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Article non trouvé"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"L'article que vous recherchez n'existe pas."),h.createElement(Ce,{to:"/blog",className:"mt-8 inline-block text-blue-600 hover:text-blue-700"},"← Retour au blog"))))}var G6={exports:{}},bhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",whe=bhe,xhe=whe;function K6(){}function Q6(){}Q6.resetWarningCache=K6;var _he=function(){function t(r,i,s,o,a,l){if(l!==xhe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Q6,resetWarningCache:K6};return n.PropTypes=n,n};G6.exports=_he();var Ehe=G6.exports;const Kn=Py(Ehe);var She=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function The(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function khe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}var V0=function(t){khe(e,t);function e(){var r;return r=t.call(this)||this,r.handleExpired=r.handleExpired.bind(Zm(r)),r.handleErrored=r.handleErrored.bind(Zm(r)),r.handleChange=r.handleChange.bind(Zm(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(Zm(r)),r}var n=e.prototype;return n.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},n.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var i=this;return new Promise(function(s,o){i.executionResolve=s,i.executionReject=o,i.execute()})},n.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},n.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=i(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(i){this.captcha=i},n.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var s=The(i,She);return x.createElement("div",S_({},s,{ref:this.handleRecaptchaRef}))},e}(x.Component);V0.displayName="ReCAPTCHA";V0.propTypes={sitekey:Kn.string.isRequired,onChange:Kn.func,grecaptcha:Kn.object,theme:Kn.oneOf(["dark","light"]),type:Kn.oneOf(["image","audio"]),tabindex:Kn.number,onExpired:Kn.func,onErrored:Kn.func,size:Kn.oneOf(["compact","normal","invisible"]),stoken:Kn.string,hl:Kn.string,badge:Kn.oneOf(["bottomright","bottomleft","inline"]),isolated:Kn.bool};V0.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Y6={exports:{}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tn=typeof Symbol=="function"&&Symbol.for,yT=tn?Symbol.for("react.element"):60103,vT=tn?Symbol.for("react.portal"):60106,F0=tn?Symbol.for("react.fragment"):60107,B0=tn?Symbol.for("react.strict_mode"):60108,$0=tn?Symbol.for("react.profiler"):60114,j0=tn?Symbol.for("react.provider"):60109,U0=tn?Symbol.for("react.context"):60110,bT=tn?Symbol.for("react.async_mode"):60111,z0=tn?Symbol.for("react.concurrent_mode"):60111,H0=tn?Symbol.for("react.forward_ref"):60112,W0=tn?Symbol.for("react.suspense"):60113,Ihe=tn?Symbol.for("react.suspense_list"):60120,q0=tn?Symbol.for("react.memo"):60115,G0=tn?Symbol.for("react.lazy"):60116,Che=tn?Symbol.for("react.block"):60121,Ahe=tn?Symbol.for("react.fundamental"):60117,Phe=tn?Symbol.for("react.responder"):60118,Rhe=tn?Symbol.for("react.scope"):60119;function Cr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yT:switch(t=t.type,t){case bT:case z0:case F0:case $0:case B0:case W0:return t;default:switch(t=t&&t.$$typeof,t){case U0:case H0:case G0:case q0:case j0:return t;default:return e}}case vT:return e}}}function X6(t){return Cr(t)===z0}He.AsyncMode=bT;He.ConcurrentMode=z0;He.ContextConsumer=U0;He.ContextProvider=j0;He.Element=yT;He.ForwardRef=H0;He.Fragment=F0;He.Lazy=G0;He.Memo=q0;He.Portal=vT;He.Profiler=$0;He.StrictMode=B0;He.Suspense=W0;He.isAsyncMode=function(t){return X6(t)||Cr(t)===bT};He.isConcurrentMode=X6;He.isContextConsumer=function(t){return Cr(t)===U0};He.isContextProvider=function(t){return Cr(t)===j0};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yT};He.isForwardRef=function(t){return Cr(t)===H0};He.isFragment=function(t){return Cr(t)===F0};He.isLazy=function(t){return Cr(t)===G0};He.isMemo=function(t){return Cr(t)===q0};He.isPortal=function(t){return Cr(t)===vT};He.isProfiler=function(t){return Cr(t)===$0};He.isStrictMode=function(t){return Cr(t)===B0};He.isSuspense=function(t){return Cr(t)===W0};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===F0||t===z0||t===$0||t===B0||t===W0||t===Ihe||typeof t=="object"&&t!==null&&(t.$$typeof===G0||t.$$typeof===q0||t.$$typeof===j0||t.$$typeof===U0||t.$$typeof===H0||t.$$typeof===Ahe||t.$$typeof===Phe||t.$$typeof===Rhe||t.$$typeof===Che)};He.typeOf=Cr;Y6.exports=He;var Nhe=Y6.exports,wT=Nhe,Dhe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Mhe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ohe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xT={};xT[wT.ForwardRef]=Ohe;xT[wT.Memo]=J6;function VR(t){return wT.isMemo(t)?J6:xT[t.$$typeof]||Dhe}var Lhe=Object.defineProperty,Vhe=Object.getOwnPropertyNames,FR=Object.getOwnPropertySymbols,Fhe=Object.getOwnPropertyDescriptor,Bhe=Object.getPrototypeOf,BR=Object.prototype;function Z6(t,e,n){if(typeof e!="string"){if(BR){var r=Bhe(e);r&&r!==BR&&Z6(t,r,n)}var i=Vhe(e);FR&&(i=i.concat(FR(e)));for(var s=VR(t),o=VR(e),a=0;a<i.length;++a){var l=i[a];if(!Mhe[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=Fhe(e,l);try{Lhe(t,l,c)}catch{}}}}return t}var $he=Z6;const jhe=Py($he);function k_(){return k_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function Uhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zhe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Xr={},Hhe=0;function Whe(t,e){return e=e||{},function(r){var i=r.displayName||r.name||"Component",s=function(a){zhe(l,a);function l(u,d){var f;return f=a.call(this,u,d)||this,f.state={},f.__scriptURL="",f}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Hhe++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(d){var f=this;this.setState(d,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var d=Xr[this.__scriptURL];if(!d||!d.loaded)throw new Error("Script is not loaded.");for(var f in d.observers)d.observers[f](d);delete window[e.callbackName]},c.componentDidMount=function(){var d=this,f=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),g=e,y=g.globalName,v=g.callbackName,b=g.scriptId;if(y&&typeof window[y]<"u"&&(Xr[f]={loaded:!0,observers:{}}),Xr[f]){var w=Xr[f];if(w&&(w.loaded||w.errored)){this.asyncScriptLoaderHandleLoad(w);return}w.observers[p]=function(I){return d.asyncScriptLoaderHandleLoad(I)};return}var E={};E[p]=function(I){return d.asyncScriptLoaderHandleLoad(I)},Xr[f]={loaded:!1,observers:E};var C=document.createElement("script");C.src=f,C.async=!0;for(var R in e.attributes)C.setAttribute(R,e.attributes[R]);b&&(C.id=b);var P=function(k){if(Xr[f]){var A=Xr[f],S=A.observers;for(var N in S)k(S[N])&&delete S[N]}};v&&typeof window<"u"&&(window[v]=function(){return d.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var I=Xr[f];I&&(I.loaded=!0,P(function(k){return v?!1:(k(I),!0)}))},C.onerror=function(){var I=Xr[f];I&&(I.errored=!0,P(function(k){return k(I),!0}))},document.body.appendChild(C)},c.componentWillUnmount=function(){var d=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),p=0;p<f.length;p+=1)f[p].src.indexOf(d)>-1&&f[p].parentNode&&f[p].parentNode.removeChild(f[p]);var g=Xr[d];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Xr[d])},c.render=function(){var d=e.globalName,f=this.props;f.asyncScriptOnLoad;var p=f.forwardedRef,g=Uhe(f,["asyncScriptOnLoad","forwardedRef"]);return d&&typeof window<"u"&&(g[d]=typeof window[d]<"u"?window[d]:void 0),g.ref=p,x.createElement(r,g)},l}(x.Component),o=x.forwardRef(function(a,l){return x.createElement(s,k_({},a,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+i+")",o.propTypes={asyncScriptOnLoad:Kn.func},jhe(o,r)}}var I_="onloadcallback",qhe="grecaptcha";function C_(){return typeof window<"u"&&window.recaptchaOptions||{}}function Ghe(){var t=C_(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+I_+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+I_+"&render=explicit"}const eB=Whe(Ghe,{callbackName:I_,globalName:qhe,attributes:C_().nonce?{nonce:C_().nonce}:{}})(V0);function Khe(){const[t,e]=x.useState(""),n=x.useRef(null),r=async i=>{if(i.preventDefault(),!n.current.getValue()){e("Veuillez valider le reCAPTCHA");return}e("")};return h.createElement("div",{className:"bg-gray-50 min-h-screen py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Contactez-nous"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"Notre équipe d'experts est à votre écoute")),h.createElement("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8"},h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-lg shadow-lg p-8"},h.createElement("form",{onSubmit:r,className:"space-y-6"},h.createElement("div",null,h.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700"},"Nom complet"),h.createElement("input",{type:"text",name:"name",id:"name",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Email"),h.createElement("input",{type:"email",name:"email",id:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700"},"Message"),h.createElement("textarea",{name:"message",id:"message",rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",{className:"flex justify-center"},h.createElement(eB,{ref:n,sitekey:"6LfY-L8qAAAAAKeWchEop1_jPBk29sJ20_GUqRKn"})),t&&h.createElement("div",{className:"text-red-600 text-sm"},t),h.createElement("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors"},"Envoyer"))),h.createElement(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.8},className:"bg-white rounded-lg shadow-lg p-8"},h.createElement("div",{className:"space-y-8"},h.createElement("div",{className:"flex items-center"},h.createElement(Ree,{className:"h-6 w-6 text-blue-600"}),h.createElement("span",{className:"ml-4 text-gray-600"},"123 Avenue de la Cybersécurité, 75001 Paris")),h.createElement("div",{className:"flex items-center"},h.createElement(ry,{className:"h-6 w-6 text-blue-600"}),h.createElement("span",{className:"ml-4 text-gray-600"},"+33 1 23 45 67 89")),h.createElement("div",{className:"flex items-center"},h.createElement(o3,{className:"h-6 w-6 text-blue-600"}),h.createElement("span",{className:"ml-4 text-gray-600"},"contact@cybertm.fr"))),h.createElement("div",{className:"mt-8"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"FAQ"),h.createElement("div",{className:"mt-4 space-y-4"},h.createElement("details",{className:"group"},h.createElement("summary",{className:"flex justify-between items-center cursor-pointer"},h.createElement("span",{className:"text-gray-700"},"Quelle est votre expertise en cybersécurité ?")),h.createElement("p",{className:"mt-2 text-gray-600"},"Notre équipe combine une expertise pointue en cybersécurité et en télémarketing B2B, permettant une approche ciblée et pertinente."))))))))}function Qhe(){var g;const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),{signIn:u}=fl(),d=Gy(),f=al(),p=async y=>{y.preventDefault(),s(""),a(!0);try{const v=await u(t,n);if(!v.emailVerified){await bx(v),c(!0),s("Veuillez vérifier votre email avant de vous connecter. Un nouvel email de vérification vient d'être envoyé.");return}d("/profile")}catch(v){v.message==="email-not-verified"?s("Veuillez vérifier votre email avant de vous connecter."):s(v.message)}finally{a(!1)}};return h.createElement("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg"},((g=f.state)==null?void 0:g.message)&&h.createElement("div",{className:"mb-4 p-4 bg-green-50 text-green-800 rounded-md"},f.state.message),h.createElement("form",{onSubmit:p,className:"space-y-6"},i&&h.createElement("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded"},i,l&&h.createElement("p",{className:"mt-2 text-sm"},"Si vous n'avez pas reçu l'email, vérifiez vos spams ou"," ",h.createElement("button",{type:"button",onClick:async()=>{try{const y=await u(t,n);await bx(y),c(!0),s("Un nouvel email de vérification a été envoyé.")}catch{s("Erreur lors de l'envoi de l'email de vérification.")}},className:"text-red-800 underline hover:text-red-900"},"cliquez ici pour renvoyer l'email"))),h.createElement("div",null,h.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Email"),h.createElement("input",{id:"email",type:"email",required:!0,value:t,onChange:y=>e(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Mot de passe"),h.createElement("input",{id:"password",type:"password",required:!0,value:n,onChange:y=>r(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},o?"Connexion...":"Se connecter"),h.createElement("div",{className:"text-center"},h.createElement("a",{href:"/signup",className:"text-sm text-blue-600 hover:text-blue-500"},"Pas de compte ? Créer un compte"))))}function Yhe(){return h.createElement("div",{className:"min-h-screen bg-gray-50 py-16"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8"},h.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Connexion"),h.createElement("p",{className:"mt-4 text-xl text-gray-600"},"Accédez à votre espace client")),h.createElement(Qhe,null))}const tB=t=>{const e={minLength:t.length>=12,hasUpperCase:/[A-Z]/.test(t),hasLowerCase:/[a-z]/.test(t),hasNumbers:/\d/.test(t),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(t),noSpaces:!/\s/.test(t),noConsecutive:!/(.)\1{2,}/.test(t)},n={minLength:"12 caractères minimum",hasUpperCase:"Au moins une lettre majuscule",hasLowerCase:"Au moins une lettre minuscule",hasNumbers:"Au moins un chiffre",hasSpecialChar:'Au moins un caractère spécial (!@#$%^&*(),.?":{}|<>)',noSpaces:"Pas d'espaces",noConsecutive:"Pas plus de 2 caractères identiques consécutifs"},r=Object.entries(e).filter(([i,s])=>!s).map(([i])=>n[i]);return{isValid:r.length===0,errors:r}};function Xhe(){const t=Gy(),{signUp:e}=fl(),n=x.useRef(null),[r,i]=x.useState({nomComplet:"",fonction:"",telephone:"",societe:"",email:"",password:"",gdprConsent:!1}),[s,o]=x.useState({}),[a,l]=x.useState(!1),c=()=>{const f={};r.nomComplet.trim()||(f.nomComplet="Le nom complet est requis"),/^\+[1-9]\d{1,14}$/.test(r.telephone)||(f.telephone="Format international requis (ex: +33612345678)"),r.societe.trim()||(f.societe="La société est requise"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(f.email="Email invalide");const y=tB(r.password);return y.isValid||(f.password=y.errors),r.gdprConsent||(f.gdprConsent="Vous devez accepter le traitement de vos données"),n.current.getValue()||(f.recaptcha="Veuillez valider le reCAPTCHA"),o(f),Object.keys(f).length===0},u=async f=>{if(f.preventDefault(),!!c()){l(!0);try{await e(r),t("/login",{state:{message:"Compte créé avec succès. Veuillez vérifier votre email pour activer votre compte."}})}catch(p){o(g=>({...g,submit:p.message}))}finally{l(!1)}}},d=f=>{const{name:p,value:g,type:y,checked:v}=f.target;i(b=>({...b,[p]:y==="checkbox"?v:g}))};return h.createElement("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},h.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md"},h.createElement("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900"},"Créer un compte")),h.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},h.createElement("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},h.createElement("form",{className:"space-y-6",onSubmit:u},h.createElement("div",null,h.createElement("label",{htmlFor:"nomComplet",className:"block text-sm font-medium text-gray-700"},"Nom complet"),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"nomComplet",name:"nomComplet",type:"text",required:!0,value:r.nomComplet,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.nomComplet&&h.createElement("p",{className:"mt-2 text-sm text-red-600"},s.nomComplet))),h.createElement("div",null,h.createElement("label",{htmlFor:"fonction",className:"block text-sm font-medium text-gray-700"},"Fonction ",h.createElement("span",{className:"text-gray-500"},"(optionnel)")),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"fonction",name:"fonction",type:"text",value:r.fonction,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}))),h.createElement("div",null,h.createElement("label",{htmlFor:"telephone",className:"block text-sm font-medium text-gray-700"},"Téléphone"),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"telephone",name:"telephone",type:"tel",placeholder:"+33612345678",required:!0,value:r.telephone,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.telephone&&h.createElement("p",{className:"mt-2 text-sm text-red-600"},s.telephone))),h.createElement("div",null,h.createElement("label",{htmlFor:"societe",className:"block text-sm font-medium text-gray-700"},"Société"),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"societe",name:"societe",type:"text",required:!0,value:r.societe,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.societe&&h.createElement("p",{className:"mt-2 text-sm text-red-600"},s.societe))),h.createElement("div",null,h.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700"},"Email"),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.email&&h.createElement("p",{className:"mt-2 text-sm text-red-600"},s.email))),h.createElement("div",null,h.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700"},"Mot de passe"),h.createElement("div",{className:"mt-1"},h.createElement("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r.password,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.password&&Array.isArray(s.password)&&h.createElement("ul",{className:"mt-2 text-sm text-red-600 list-disc list-inside"},s.password.map((f,p)=>h.createElement("li",{key:p},f))))),h.createElement("div",{className:"flex justify-center"},h.createElement(eB,{ref:n,sitekey:"6LfY-L8qAAAAAKeWchEop1_jPBk29sJ20_GUqRKn"})),s.recaptcha&&h.createElement("p",{className:"text-sm text-red-600 text-center"},s.recaptcha),h.createElement("div",{className:"flex items-start"},h.createElement("div",{className:"flex items-center h-5"},h.createElement("input",{id:"gdprConsent",name:"gdprConsent",type:"checkbox",checked:r.gdprConsent,onChange:d,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})),h.createElement("div",{className:"ml-3 text-sm"},h.createElement("label",{htmlFor:"gdprConsent",className:"font-medium text-gray-700"},"J'accepte le traitement de mes données personnelles"),s.gdprConsent&&h.createElement("p",{className:"mt-2 text-sm text-red-600"},s.gdprConsent))),s.submit&&h.createElement("div",{className:"rounded-md bg-red-50 p-4"},h.createElement("div",{className:"flex"},h.createElement("div",{className:"ml-3"},h.createElement("h3",{className:"text-sm font-medium text-red-800"},s.submit)))),h.createElement("div",null,h.createElement("button",{type:"submit",disabled:a,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"opacity-50 cursor-not-allowed":""}`},a?"Création en cours...":"Créer mon compte"))))))}function Jhe(){const{user:t,updateUserProfile:e}=fl(),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(null),l=x.useRef(null),[c,u]=x.useState({nomComplet:(t==null?void 0:t.nomComplet)||"",email:(t==null?void 0:t.email)||"",telephone:(t==null?void 0:t.telephone)||"",fonction:(t==null?void 0:t.fonction)||"",societe:(t==null?void 0:t.societe)||"",biographie:(t==null?void 0:t.biographie)||""}),[d,f]=x.useState(!1),p=v=>{const b=v.target.files[0];if(!b)return;if(!b.type.startsWith("image/")){s({type:"error",content:"Veuillez sélectionner une image"});return}if(b.size>5*1024*1024){s({type:"error",content:"L'image ne doit pas dépasser 5MB"});return}const w=new FileReader;w.onloadend=()=>{a(w.result)},w.readAsDataURL(b)},g=()=>{a(null),l.current&&(l.current.value="")},y=async v=>{v.preventDefault(),r(!0),s(null);try{const b={...c,photoURL:o||(t==null?void 0:t.photoURL)};await e(b),s({type:"success",content:"Profil mis à jour avec succès"}),f(!1),setTimeout(()=>{s(null)},3e3)}catch(b){s({type:"error",content:b.message})}finally{r(!1)}};return h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-xl p-8"},h.createElement(ute,null,i&&h.createElement(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`mb-6 p-4 rounded-lg ${i.type==="success"?"bg-green-50 text-green-800 border-l-4 border-green-500":"bg-red-50 text-red-800 border-l-4 border-red-500"}`},h.createElement("div",{className:"flex items-center"},i.type==="success"?h.createElement(wA,{className:"h-5 w-5 mr-2"}):h.createElement(_c,{className:"h-5 w-5 mr-2"}),i.content))),h.createElement("form",{onSubmit:y,className:"space-y-8"},h.createElement("div",{className:"flex justify-center"},h.createElement(F.div,{className:"relative",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300}},h.createElement("div",{className:"h-32 w-32 rounded-full overflow-hidden bg-gradient-to-br from-blue-100 to-blue-200 ring-4 ring-white shadow-lg"},o||t!=null&&t.photoURL?h.createElement(F.img,{initial:{opacity:0},animate:{opacity:1},src:o||t.photoURL,alt:"Profile",className:"h-full w-full object-cover"}):h.createElement("div",{className:"h-full w-full flex items-center justify-center"},h.createElement(c3,{className:"h-16 w-16 text-blue-400"}))),h.createElement(F.div,{className:"absolute bottom-0 right-0 flex space-x-2",whileHover:{scale:1.1}},h.createElement("button",{type:"button",onClick:()=>{var v;return(v=l.current)==null?void 0:v.click()},className:"p-2 bg-blue-600 rounded-full text-white hover:bg-blue-700 transition-colors shadow-lg"},h.createElement($Z,{className:"h-5 w-5"})),(o||(t==null?void 0:t.photoURL))&&h.createElement("button",{type:"button",onClick:g,className:"p-2 bg-red-600 rounded-full text-white hover:bg-red-700 transition-colors shadow-lg"},h.createElement(_c,{className:"h-5 w-5"}))),h.createElement("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:p}))),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},h.createElement(F.div,{className:"space-y-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2}},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Nom complet"),h.createElement("input",{type:"text",value:c.nomComplet,onChange:v=>u(b=>({...b,nomComplet:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",disabled:!d})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Email"),h.createElement("input",{type:"email",value:c.email,onChange:v=>u(b=>({...b,email:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",disabled:!d})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone"),h.createElement("input",{type:"tel",value:c.telephone,onChange:v=>u(b=>({...b,telephone:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",disabled:!d}))),h.createElement(F.div,{className:"space-y-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3}},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Fonction"),h.createElement("input",{type:"text",value:c.fonction,onChange:v=>u(b=>({...b,fonction:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",disabled:!d})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Société"),h.createElement("input",{type:"text",value:c.societe,onChange:v=>u(b=>({...b,societe:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",disabled:!d})))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4}},h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Biographie"),h.createElement("textarea",{rows:4,value:c.biographie,onChange:v=>u(b=>({...b,biographie:v.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors",placeholder:"Parlez-nous de vous...",disabled:!d})),h.createElement(F.div,{className:"flex justify-end space-x-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}},d?h.createElement(h.Fragment,null,h.createElement(F.button,{type:"button",onClick:()=>f(!1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},h.createElement(_c,{className:"h-4 w-4 mr-2"}),"Annuler"),h.createElement(F.button,{type:"submit",disabled:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors"},n?h.createElement(h.Fragment,null,h.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Enregistrement..."):h.createElement(h.Fragment,null,h.createElement(wA,{className:"h-4 w-4 mr-2"}),"Enregistrer"))):h.createElement(F.button,{type:"button",onClick:()=>f(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-4 py-2 border border-blue-600 rounded-lg shadow-sm text-sm font-medium text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},h.createElement(l3,{className:"h-4 w-4 mr-2"}),"Modifier"))))}function Zhe(){fl();const[t,e]=x.useState(!1),[n,r]=x.useState(null),[i,s]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[o,a]=x.useState(!1),l=async u=>{if(u.preventDefault(),i.newPassword!==i.confirmPassword){r({type:"error",content:"Les mots de passe ne correspondent pas"});return}const d=tB(i.newPassword);if(!d.isValid){r({type:"error",content:d.errors.join(", ")});return}e(!0);try{r({type:"success",content:"Mot de passe mis à jour avec succès"}),s({currentPassword:"",newPassword:"",confirmPassword:""})}catch(f){r({type:"error",content:f.message})}finally{e(!1)}},c=async()=>{e(!0);try{a(!o),r({type:"success",content:`Double authentification ${o?"désactivée":"activée"}`})}catch(u){r({type:"error",content:u.message})}finally{e(!1)}};return h.createElement("div",{className:"space-y-8"},n&&h.createElement(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`p-4 rounded-md ${n.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`},n.content),h.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-center mb-6"},h.createElement(a3,{className:"h-6 w-6 text-blue-600 mr-2"}),h.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Changer le mot de passe")),h.createElement("form",{onSubmit:l,className:"space-y-6"},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Mot de passe actuel"),h.createElement("input",{type:"password",value:i.currentPassword,onChange:u=>s(d=>({...d,currentPassword:u.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nouveau mot de passe"),h.createElement("input",{type:"password",value:i.newPassword,onChange:u=>s(d=>({...d,newPassword:u.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Confirmer le nouveau mot de passe"),h.createElement("input",{type:"password",value:i.confirmPassword,onChange:u=>s(d=>({...d,confirmPassword:u.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",{className:"flex justify-end"},h.createElement("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},t?"Modification...":"Modifier le mot de passe")))),h.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",{className:"flex items-center"},h.createElement(uee,{className:"h-6 w-6 text-blue-600 mr-2"}),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Double authentification"),h.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez une couche de sécurité supplémentaire à votre compte"))),h.createElement("button",{onClick:c,disabled:t,className:`relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-600":"bg-gray-200"}`},h.createElement("span",{className:"sr-only"},"Activer la double authentification"),h.createElement("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200 ${o?"translate-x-5":"translate-x-0"}`})))),h.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-center mb-6"},h.createElement(Jt,{className:"h-6 w-6 text-blue-600 mr-2"}),h.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Sessions actives")),h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},h.createElement("div",null,h.createElement("p",{className:"font-medium text-gray-900"},"Chrome - Windows"),h.createElement("p",{className:"text-sm text-gray-500"},"Dernière activité: il y a 2 minutes")),h.createElement("button",{className:"text-sm text-red-600 hover:text-red-700"},"Déconnecter")))))}const efe=["Tous","Contrats","Rapports","Présentations","Documents techniques","Autres"],tfe=[{id:1,name:"Rapport_Securite_Q4_2023.pdf",category:"Rapports",size:"2.4 MB",date:"2024-01-15",secure:!0},{id:2,name:"Presentation_Solution.pptx",category:"Présentations",size:"5.1 MB",date:"2024-01-14",secure:!0},{id:3,name:"Contrat_Service_Template.docx",category:"Contrats",size:"1.2 MB",date:"2024-01-13",secure:!0},{id:4,name:"Documentation_Technique_v2.pdf",category:"Documents techniques",size:"3.7 MB",date:"2024-01-12",secure:!0}];function nB(){const[t,e]=x.useState("Tous"),[n,r]=x.useState(""),[i,s]=x.useState("date"),[o,a]=x.useState(!1),l=x.useRef(null),c=tfe.filter(g=>(t==="Tous"||g.category===t)&&g.name.toLowerCase().includes(n.toLowerCase())).sort((g,y)=>i==="date"?new Date(y.date)-new Date(g.date):i==="name"?g.name.localeCompare(y.name):i==="size"?parseFloat(y.size)-parseFloat(g.size):0),u=g=>{!g||g.length===0||(console.log("Files to upload:",g),Array.from(g).forEach(y=>{console.log("File:",y.name,"Size:",y.size,"Type:",y.type)}),a(!1))},d=()=>{var g;(g=l.current)==null||g.click()},f=g=>{g.preventDefault(),g.stopPropagation()},p=g=>{g.preventDefault(),g.stopPropagation();const y=g.dataTransfer.files;u(y)};return h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex justify-between items-center"},h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("div",{className:"relative"},h.createElement("input",{type:"text",placeholder:"Rechercher un document...",value:n,onChange:g=>r(g.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),h.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},h.createElement(mS,{className:"h-5 w-5 text-gray-400"}))),h.createElement("select",{value:i,onChange:g=>s(g.target.value),className:"border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},h.createElement("option",{value:"date"},"Date"),h.createElement("option",{value:"name"},"Nom"),h.createElement("option",{value:"size"},"Taille"))),h.createElement("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},h.createElement(bA,{className:"h-5 w-5 mr-2"}),"Ajouter un document")),h.createElement("div",{className:"flex space-x-2 overflow-x-auto pb-2"},efe.map(g=>h.createElement("button",{key:g,onClick:()=>e(g),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${t===g?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},g))),h.createElement("div",{className:"bg-white rounded-lg shadow overflow-hidden"},h.createElement("div",{className:"divide-y divide-gray-200"},c.map(g=>h.createElement(F.div,{key:g.id,initial:{opacity:0},animate:{opacity:1},className:"p-4 hover:bg-gray-50 transition-colors"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("div",{className:"flex-shrink-0"},h.createElement(Yx,{className:"h-10 w-10 text-blue-500"})),h.createElement("div",null,h.createElement("div",{className:"flex items-center"},h.createElement("h3",{className:"text-sm font-medium text-gray-900"},g.name),g.secure&&h.createElement(pS,{className:"h-4 w-4 ml-2 text-green-500"})),h.createElement("div",{className:"mt-1 flex items-center space-x-2 text-xs text-gray-500"},h.createElement("span",null,g.category),h.createElement("span",null,"•"),h.createElement("span",null,g.size),h.createElement("span",null,"•"),h.createElement("span",null,new Date(g.date).toLocaleDateString())))),h.createElement("div",{className:"flex items-center space-x-2"},h.createElement("button",{title:"Voir",className:"p-2 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-100 transition-colors"},h.createElement(xee,{className:"h-5 w-5"})),h.createElement("button",{title:"Modifier",className:"p-2 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-100 transition-colors"},h.createElement(l3,{className:"h-5 w-5"})),h.createElement("button",{title:"Supprimer",className:"p-2 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-100 transition-colors"},h.createElement(Hee,{className:"h-5 w-5"})))))))),o&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},h.createElement(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Ajouter un document"),h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",onDragOver:f,onDrop:p},h.createElement(bA,{className:"h-12 w-12 mx-auto text-gray-400"}),h.createElement("p",{className:"mt-2 text-sm text-gray-600"},"Glissez-déposez vos fichiers ici ou"),h.createElement("button",{type:"button",onClick:d,className:"mt-2 text-blue-600 hover:text-blue-700"},"parcourez vos fichiers"),h.createElement("input",{ref:l,type:"file",className:"hidden",multiple:!0,onChange:g=>u(g.target.files),accept:".jpg,.jpeg,.png,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx"})),h.createElement("div",{className:"flex justify-end space-x-3"},h.createElement("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 border border-gray-300 rounded-md"},"Annuler"),h.createElement("button",{onClick:()=>{var g;return(g=l.current)==null?void 0:g.click()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md"},"Sélectionner des fichiers"))))))}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wf(t){return t+.5|0}const fo=(t,e,n)=>Math.max(Math.min(t,n),e);function Cd(t){return fo(Wf(t*2.55),0,255)}function Ao(t){return fo(Wf(t*255),0,255)}function as(t){return fo(Wf(t/2.55)/100,0,1)}function $R(t){return fo(Wf(t*100),0,100)}const Nr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},A_=[..."0123456789ABCDEF"],nfe=t=>A_[t&15],rfe=t=>A_[(t&240)>>4]+A_[t&15],ep=t=>(t&240)>>4===(t&15),ife=t=>ep(t.r)&&ep(t.g)&&ep(t.b)&&ep(t.a);function sfe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Nr[t[1]]*17,g:255&Nr[t[2]]*17,b:255&Nr[t[3]]*17,a:e===5?Nr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Nr[t[1]]<<4|Nr[t[2]],g:Nr[t[3]]<<4|Nr[t[4]],b:Nr[t[5]]<<4|Nr[t[6]],a:e===9?Nr[t[7]]<<4|Nr[t[8]]:255})),n}const ofe=(t,e)=>t<255?e(t):"";function afe(t){var e=ife(t)?nfe:rfe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ofe(t.a,e):void 0}const lfe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rB(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function cfe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function ufe(t,e,n){const r=rB(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function dfe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function _T(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=dfe(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function ET(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ao)}function ST(t,e,n){return ET(rB,t,e,n)}function hfe(t,e,n){return ET(ufe,t,e,n)}function ffe(t,e,n){return ET(cfe,t,e,n)}function iB(t){return(t%360+360)%360}function mfe(t){const e=lfe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Cd(+e[5]):Ao(+e[5]));const i=iB(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=hfe(i,s,o):e[1]==="hsv"?r=ffe(i,s,o):r=ST(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function pfe(t,e){var n=_T(t);n[0]=iB(n[0]+e),n=ST(n),t.r=n[0],t.g=n[1],t.b=n[2]}function gfe(t){if(!t)return;const e=_T(t),n=e[0],r=$R(e[1]),i=$R(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${as(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const jR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yfe(){const t={},e=Object.keys(UR),n=Object.keys(jR);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,jR[s]);s=parseInt(UR[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let tp;function vfe(t){tp||(tp=yfe(),tp.transparent=[0,0,0,0]);const e=tp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const bfe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wfe(t){const e=bfe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Cd(o):fo(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Cd(r):fo(r,0,255)),i=255&(e[4]?Cd(i):fo(i,0,255)),s=255&(e[6]?Cd(s):fo(s,0,255)),{r,g:i,b:s,a:n}}}function xfe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${as(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Al=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _fe(t,e,n){const r=Al(as(t.r)),i=Al(as(t.g)),s=Al(as(t.b));return{r:Ao(Wb(r+n*(Al(as(e.r))-r))),g:Ao(Wb(i+n*(Al(as(e.g))-i))),b:Ao(Wb(s+n*(Al(as(e.b))-s))),a:t.a+n*(e.a-t.a)}}function np(t,e,n){if(t){let r=_T(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=ST(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function sB(t,e){return t&&Object.assign(e||{},t)}function zR(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ao(t[3]))):(e=sB(t,{r:0,g:0,b:0,a:1}),e.a=Ao(e.a)),e}function Efe(t){return t.charAt(0)==="r"?wfe(t):mfe(t)}class rf{constructor(e){if(e instanceof rf)return e;const n=typeof e;let r;n==="object"?r=zR(e):n==="string"&&(r=sfe(e)||vfe(e)||Efe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=sB(this._rgb);return e&&(e.a=as(e.a)),e}set rgb(e){this._rgb=zR(e)}rgbString(){return this._valid?xfe(this._rgb):void 0}hexString(){return this._valid?afe(this._rgb):void 0}hslString(){return this._valid?gfe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=_fe(this._rgb,e._rgb,n)),this}clone(){return new rf(this.rgb)}alpha(e){return this._rgb.a=Ao(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Wf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return np(this._rgb,2,e),this}darken(e){return np(this._rgb,2,-e),this}saturate(e){return np(this._rgb,1,e),this}desaturate(e){return np(this._rgb,1,-e),this}rotate(e){return pfe(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function es(){}const Sfe=(()=>{let t=0;return()=>t++})();function Je(t){return t==null}function Mt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pi(t,e){return Pn(t)?t:e}function _e(t,e){return typeof t>"u"?e:t}const Tfe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,oB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function je(t,e,n,r){let i,s,o;if(Mt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Pe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function vy(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function by(t){if(Mt(t))return t.map(by);if(Pe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=by(t[n[i]]);return e}return t}function aB(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kfe(t,e,n,r){if(!aB(t))return;const i=e[t],s=n[t];Pe(i)&&Pe(s)?sf(i,s,r):e[t]=by(s)}function sf(t,e,n){const r=Mt(e)?e:[e],i=r.length;if(!Pe(t))return t;n=n||{};const s=n.merger||kfe;let o;for(let a=0;a<i;++a){if(o=r[a],!Pe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function oh(t,e){return sf(t,e,{merger:Ife})}function Ife(t,e,n){if(!aB(t))return;const r=e[t],i=n[t];Pe(r)&&Pe(i)?oh(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=by(i))}const HR={"":t=>t,x:t=>t.x,y:t=>t.y};function Cfe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Afe(t){const e=Cfe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function tl(t,e){return(HR[e]||(HR[e]=Afe(e)))(t)}function TT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const of=t=>typeof t<"u",Bo=t=>typeof t=="function",WR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Pfe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Et=Math.PI,mt=2*Et,Rfe=mt+Et,wy=Number.POSITIVE_INFINITY,Nfe=Et/180,Ut=Et/2,ra=Et/4,qR=Et*2/3,P_=Math.log10,$i=Math.sign;function ah(t,e,n){return Math.abs(t-e)<n}function GR(t){const e=Math.round(t);t=ah(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(P_(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Dfe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function af(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Mfe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ofe(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ms(t){return t*(Et/180)}function Lfe(t){return t*(180/Et)}function KR(t){if(!Pn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function lB(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Et&&(s+=mt),{angle:s,distance:i}}function R_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vfe(t,e){return(t-e+Rfe)%mt-Et}function xi(t){return(t%mt+mt)%mt}function lf(t,e,n,r){const i=xi(t),s=xi(e),o=xi(n),a=xi(s-i),l=xi(o-i),c=xi(i-s),u=xi(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function In(t,e,n){return Math.max(e,Math.min(n,t))}function Ffe(t){return In(t,-32768,32767)}function ps(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function kT(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ka=(t,e,n,r)=>kT(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Bfe=(t,e,n)=>kT(t,n,r=>t[r][e]>=n);function $fe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const cB=["push","pop","shift","splice","unshift"];function jfe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cB.forEach(n=>{const r="_onData"+TT(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function QR(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(cB.forEach(s=>{delete t[s]}),delete t._chartjs)}function uB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const dB=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function hB(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,dB.call(window,()=>{r=!1,t.apply(e,n)}))}}function Ufe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const IT=t=>t==="start"?"left":t==="end"?"right":"center",xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,zfe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Hfe(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=In(Math.min(ka(a,l,c).lo,n?r:ka(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=In(Math.max(ka(a,o.axis,u,!0).hi+1,n?0:ka(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function Wfe(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const rp=t=>t===0||t===1,YR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mt/n)),XR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mt/n)+1,lh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ut)+1,easeOutSine:t=>Math.sin(t*Ut),easeInOutSine:t=>-.5*(Math.cos(Et*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>rp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rp(t)?t:YR(t,.075,.3),easeOutElastic:t=>rp(t)?t:XR(t,.075,.3),easeInOutElastic(t){return rp(t)?t:t<.5?.5*YR(t*2,.1125,.45):.5+.5*XR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-lh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?lh.easeInBounce(t*2)*.5:lh.easeOutBounce(t*2-1)*.5+.5};function CT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function JR(t){return CT(t)?t:new rf(t)}function qb(t){return CT(t)?t:new rf(t).saturate(.5).darken(.1).hexString()}const qfe=["x","y","borderWidth","radius","tension"],Gfe=["color","borderColor","backgroundColor"];function Kfe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Gfe},numbers:{type:"number",properties:qfe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Qfe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ZR=new Map;function Yfe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ZR.get(n);return r||(r=new Intl.NumberFormat(t,e),ZR.set(n,r)),r}function AT(t,e,n){return Yfe(e,n).format(t)}const fB={values(t){return Mt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Xfe(t,n)}const o=P_(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),AT(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(P_(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?fB.numeric.call(this,t,e,n):""}};function Xfe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var mB={formatters:fB};function Jfe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mB.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nl=Object.create(null),N_=Object.create(null);function ch(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Gb(t,e,n){return typeof e=="string"?sf(ch(t,e),n):sf(ch(t,""),e)}class Zfe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>qb(i.backgroundColor),this.hoverBorderColor=(r,i)=>qb(i.borderColor),this.hoverColor=(r,i)=>qb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gb(this,e,n)}get(e){return ch(this,e)}describe(e,n){return Gb(N_,e,n)}override(e,n){return Gb(nl,e,n)}route(e,n,r,i){const s=ch(this,e),o=ch(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Pe(l)?Object.assign({},c,l):_e(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ct=new Zfe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Kfe,Qfe,Jfe]);function eme(t){return!t||Je(t.size)||Je(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function eN(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ia(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function tN(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function D_(t,e,n,r){pB(t,e,n,r,null)}function pB(t,e,n,r,i){let s,o,a,l,c,u,d,f;const p=e.pointStyle,g=e.rotation,y=e.radius;let v=(g||0)*Nfe;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,y,0,0,mt):t.arc(n,r,y,0,mt),t.closePath();break;case"triangle":u=i?i/2:y,t.moveTo(n+Math.sin(v)*u,r-Math.cos(v)*y),v+=qR,t.lineTo(n+Math.sin(v)*u,r-Math.cos(v)*y),v+=qR,t.lineTo(n+Math.sin(v)*u,r-Math.cos(v)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(v+ra)*l,d=Math.cos(v+ra)*(i?i/2-c:l),a=Math.sin(v+ra)*l,f=Math.sin(v+ra)*(i?i/2-c:l),t.arc(n-d,r-a,c,v-Et,v-Ut),t.arc(n+f,r-o,c,v-Ut,v),t.arc(n+d,r+a,c,v,v+Ut),t.arc(n-f,r+o,c,v+Ut,v+Et),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}v+=ra;case"rectRot":d=Math.cos(v)*(i?i/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":v+=ra;case"cross":d=Math.cos(v)*(i?i/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(v)*(i?i/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),v+=ra,d=Math.cos(v)*(i?i/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(v)*y,a=Math.sin(v)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(i?i/2:y),r+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function K0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Q0(t){t.restore()}function tme(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nme(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function rme(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Je(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ime(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function sme(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function uf(t,e,n,r,i,s={}){const o=Mt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,rme(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&sme(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Je(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),ime(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function xy(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Et,Et,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Et,Ut,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ut,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ut,!0),t.lineTo(n+o.topLeft,r)}const ome=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ame=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lme(t,e){const n=(""+t).match(ome);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const cme=t=>+t||0;function PT(t,e){const n={},r=Pe(e),i=r?Object.keys(e):e,s=Pe(t)?r?o=>_e(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=cme(s(o));return n}function gB(t){return PT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Sc(t){return PT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qr(t){const e=gB(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cn(t,e){t=t||{},e=e||Ct.font;let n=_e(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=_e(t.style,e.style);r&&!(""+r).match(ame)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:_e(t.family,e.family),lineHeight:lme(_e(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:_e(t.weight,e.weight),string:""};return i.string=eme(i),i}function ip(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function ume(t,e,n){const{min:r,max:i}=t,s=oB(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function gl(t,e){return Object.assign(Object.create(t),e)}function RT(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=wB("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>RT([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return vB(a,l,()=>vme(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return rN(a).includes(l)},ownKeys(a){return rN(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function nu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:yB(t,r),setContext:s=>nu(t,s,n,r),override:s=>nu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return vB(s,o,()=>hme(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function yB(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Bo(n)?n:()=>n,isIndexable:Bo(r)?r:()=>r}}const dme=(t,e)=>t?t+TT(e):e,NT=(t,e)=>Pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vB(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function hme(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Bo(a)&&o.isScriptable(e)&&(a=fme(e,a,t,n)),Mt(a)&&a.length&&(a=mme(e,a,t,o.isIndexable)),NT(e,a)&&(a=nu(a,i,s&&s[e],o)),a}function fme(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),NT(t,l)&&(l=DT(i._scopes,i,t,l)),l}function mme(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Pe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=DT(c,i,t,u);e.push(nu(d,s,o&&o[t],a))}}return e}function bB(t,e,n){return Bo(t)?t(e,n):t}const pme=(t,e)=>t===!0?e:typeof t=="string"?tl(e,t):void 0;function gme(t,e,n,r,i){for(const s of e){const o=pme(n,s);if(o){t.add(o);const a=bB(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function DT(t,e,n,r){const i=e._rootScopes,s=bB(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=nN(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=nN(a,o,s,l,r),l===null)?!1:RT(Array.from(a),[""],i,s,()=>yme(e,n,r))}function nN(t,e,n,r,i){for(;n;)n=gme(t,e,n,r,i);return n}function yme(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Mt(i)&&Pe(n)?n:i||{}}function vme(t,e,n,r){let i;for(const s of e)if(i=wB(dme(s,t),n),typeof i<"u")return NT(t,i)?DT(n,r,t,i):i}function wB(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function rN(t){let e=t._keys;return e||(e=t._keys=bme(t._scopes)),e}function bme(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const wme=Number.EPSILON||1e-14,ru=(t,e)=>e<t.length&&!t[e].skip&&t[e],xB=t=>t==="x"?"y":"x";function xme(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=R_(s,i),l=R_(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function _me(t,e,n){const r=t.length;let i,s,o,a,l,c=ru(t,0);for(let u=0;u<r-1;++u)if(l=c,c=ru(t,u+1),!(!l||!c)){if(ah(e[u],0,wme)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function Eme(t,e,n="x"){const r=xB(n),i=t.length;let s,o,a,l=ru(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ru(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function Sme(t,e="x"){const n=xB(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=ru(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=ru(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?$i(i[o-1])!==$i(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}_me(t,i,s),Eme(t,s,e)}function sp(t,e,n){return Math.max(Math.min(t,n),e)}function Tme(t,e){let n,r,i,s,o,a=cf(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&cf(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=sp(i.cp1x,e.left,e.right),i.cp1y=sp(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=sp(i.cp2x,e.left,e.right),i.cp2y=sp(i.cp2y,e.top,e.bottom)))}function kme(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Sme(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=xme(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Tme(t,n)}function MT(){return typeof window<"u"&&typeof document<"u"}function OT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _y(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Y0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ime(t,e){return Y0(t).getPropertyValue(e)}const Cme=["top","right","bottom","left"];function La(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Cme[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Ame=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Pme(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Ame(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ha(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Y0(n),s=i.boxSizing==="border-box",o=La(i,"padding"),a=La(i,"border","width"),{x:l,y:c,box:u}=Pme(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-f)/g*n.height/r)}}function Rme(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&OT(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Y0(s),l=La(a,"border","width"),c=La(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=_y(a.maxWidth,s,"clientWidth"),i=_y(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||wy,maxHeight:i||wy}}const op=t=>Math.round(t*10)/10;function Nme(t,e,n,r){const i=Y0(t),s=La(i,"margin"),o=_y(i.maxWidth,t,"clientWidth")||wy,a=_y(i.maxHeight,t,"clientHeight")||wy,l=Rme(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=La(i,"border","width"),p=La(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=op(Math.min(c,o,l.maxWidth)),u=op(Math.min(u,a,l.maxHeight)),c&&!u&&(u=op(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=op(Math.floor(u*r))),{width:c,height:u}}function iN(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Dme=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};MT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function sN(t,e){const n=Ime(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function fa(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Mme(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Ome(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=fa(t,i,n),a=fa(i,s,n),l=fa(s,e,n),c=fa(o,a,n),u=fa(a,l,n);return fa(c,u,n)}const Lme=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Vme=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Tc(t,e,n){return t?Lme(e,n):Vme()}function _B(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function EB(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function SB(t){return t==="angle"?{between:lf,compare:Vfe,normalize:xi}:{between:ps,compare:(e,n)=>e-n,normalize:e=>e}}function oN({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function Fme(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=SB(r),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function TB(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=SB(r),{start:u,end:d,loop:f,style:p}=Fme(t,e,n),g=[];let y=!1,v=null,b,w,E;const C=()=>l(i,E,b)&&a(i,E)!==0,R=()=>a(s,b)===0||l(s,E,b),P=()=>y||C(),I=()=>!y||R();for(let k=u,A=u;k<=d;++k)w=e[k%o],!w.skip&&(b=c(w[r]),b!==E&&(y=l(b,i,s),v===null&&P()&&(v=a(b,i)===0?k:A),v!==null&&I()&&(g.push(oN({start:v,end:k,loop:f,count:o,style:p})),v=null),A=k,E=b));return v!==null&&g.push(oN({start:v,end:d,loop:f,count:o,style:p})),g}function kB(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=TB(r[i],t.points,e);s.length&&n.push(...s)}return n}function Bme(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function $me(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function jme(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=Bme(n,i,s,r);if(r===!0)return aN(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return aN(t,$me(n,o,l,c),n,e)}function aN(t,e,n,r){return!r||!r.setContext||!n?e:Ume(t,e,n,r)}function Ume(t,e,n,r){const i=t._chart.getContext(),s=lN(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function p(g,y,v,b){const w=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=w;for(;n[y%l].skip;)y+=w;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:v,style:b}),u=b,d=y%l)}}for(const g of e){d=a?d:g.start;let y=n[d%l],v;for(f=d+1;f<=g.end;f++){const b=n[f%l];v=lN(r.setContext(gl(i,{type:"segment",p0:y,p1:b,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),zme(v,u)&&p(d,f-1,g.loop,u),y=b,u=v}d<f-1&&p(d,f-1,g.loop,u)}return c}function lN(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function zme(t,e){if(!e)return!1;const n=[],r=function(i,s){return CT(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Hme{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=dB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ns=new Hme;const cN="transparent",Wme={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=JR(t||cN),i=r.valid&&JR(e||cN);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class qme{constructor(e,n,r,i){const s=n[r];i=ip([e.to,i,s,e.from]);const o=ip([e.from,s,i]);this._active=!0,this._fn=e.fn||Wme[e.type||typeof o],this._easing=lh[e.easing]||lh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ip([e.to,n,i,e.from]),this._from=ip([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class IB{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Pe(e))return;const n=Object.keys(Ct.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Pe(s))return;const o={};for(const a of n)o[a]=s[a];(Mt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=Kme(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Gme(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new qme(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ns.add(this._chart,r),!0}}function Gme(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Kme(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uN(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Qme(t,e,n){if(n===!1)return!1;const r=uN(t,n),i=uN(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Yme(t){let e,n,r,i;return Pe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function CB(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function dN(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Pn(c)&&(s||e===0||$i(e)===$i(c))&&(e+=c)}return!u&&!r.all?0:e}function Xme(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Kb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Jme(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Zme(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function epe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function hN(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function fN(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Jme(s,o,r),d=e.length;let f;for(let p=0;p<d;++p){const g=e[p],{[l]:y,[c]:v}=g,b=g._stacks||(g._stacks={});f=b[c]=epe(i,u,y),f[a]=v,f._top=hN(f,o,!0,r.type),f._bottom=hN(f,o,!1,r.type);const w=f._visualValues||(f._visualValues={});w[a]=v}}function Qb(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function tpe(t,e){return gl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function npe(t,e,n){return gl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ld(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Yb=t=>t==="reset"||t==="none",mN=(t,e)=>e?t:Object.assign({},t),rpe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:CB(n,!0),values:null};class Va{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ld(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,s=n.xAxisID=_e(r.xAxisID,Qb(e,"x")),o=n.yAxisID=_e(r.yAxisID,Qb(e,"y")),a=n.rAxisID=_e(r.rAxisID,Qb(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&QR(this._data,this),e._stacked&&ld(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Pe(n)){const i=this._cachedMeta;this._data=Xme(n,i)}else if(r!==n){if(r){QR(r,this);const i=this._cachedMeta;ld(i),i._parsed=[]}n&&Object.isExtensible(n)&&jfe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Kb(n.vScale,n),n.stack!==r.stack&&(i=!0,ld(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(fN(this,n._parsed),n._stacked=Kb(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Mt(i[e])?f=this.parseArrayData(r,i,e,n):Pe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}o&&fN(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+r,d[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+r,p=n[f],c[u]={x:s.parse(tl(p,a),f),y:o.parse(tl(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:CB(i,!0),values:n._stacks[e.axis]._visualValues};return dN(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=dN(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=rpe(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Zme(a);let f,p;function g(){p=i[f];const y=p[a.axis];return!Pn(p[e.axis])||u>y||d<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Yme(_e(this.options.clip,Qme(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=npe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=tpe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&of(r);if(a)return mN(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ct.elements[e]),g=()=>this.getContext(r,i,n),y=c.resolveNamedOptions(f,p,g,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(mN(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new IB(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Yb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Yb(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Yb(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ld(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Va,"defaults",{}),re(Va,"datasetElementType",null),re(Va,"dataElementType",null);function ipe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=uB(r.sort((i,s)=>i-s))}return t._cache.$bar}function spe(t){const e=t.iScale,n=ipe(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(of(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function ope(t,e,n,r){const i=n.barThickness;let s,o;return Je(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function ape(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function lpe(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function AB(t,e,n,r){return Mt(t)?lpe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function pN(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,f;for(c=n,u=n+r;c<u;++c)f=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(AB(f,d,s,c));return l}function Xb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function cpe(t,e,n){return t!==0?$i(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function upe(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function dpe(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=upe(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[gN(u,o,a,l)]=!0,i=c)),s[gN(i,o,a,l)]=!0,t.borderSkipped=s}function gN(t,e,n,r){return r?(t=hpe(t,e,n),t=yN(t,n,e)):t=yN(t,e,n),t}function hpe(t,e,n){return t===e?n:t===n?e:t}function yN(t,e,n){return t==="start"?e:t==="end"?n:t}function fpe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Xp extends Va{parsePrimitiveData(e,n,r,i){return pN(e,n,r,i)}parseArrayData(e,n,r,i){return pN(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,p,g,y;for(f=r,p=r+i;f<p;++f)y=n[f],g={},g[s.axis]=s.parse(tl(y,c),f),d.push(AB(tl(y,u),g,o,f));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=Xb(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const g=this.getParsed(p),y=s||Je(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,u),b=(g._stacks||{})[a.axis],w={horizontal:c,base:y.base,enableBorderRadius:!b||Xb(g._custom)||o===b._top||o===b._bottom,x:c?y.head:v.center,y:c?v.center:y.head,height:c?v.size:Math.abs(y.size),width:c?Math.abs(y.size):v.size};f&&(w.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));const E=w.options||e[p].options;dpe(w,E,b,o),fpe(w,E,u.ratio),this.updateElement(e[p],p,w,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(p=>p[r.axis]===l),f=d&&d[u.vScale.axis];if(Je(f)||isNaN(f))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||spe(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Xb(c);let d=l[n.axis],f=0,p=r?this.applyStack(n,l,r):d,g,y;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&$i(d)!==$i(c.barEnd)&&(f=0),f+=d);const v=!Je(s)&&!u?s:f;let b=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+p):g=b,y=g-b,Math.abs(y)<o){y=cpe(y,n,a)*o,d===a&&(b-=y/2);const w=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),C=Math.min(w,E),R=Math.max(w,E);b=Math.max(Math.min(b,R),C),g=b+y,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const w=$i(y)*n.getLineWidthForValue(a)/2;b+=w,y-=w}return{size:y,base:b,head:g,center:g+y/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=_e(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?ape(e,n,i,c):ope(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}re(Xp,"id","bar"),re(Xp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(Xp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function mpe(t,e,n){let r=1,i=1,s=0,o=0;if(e<mt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(E,C,R)=>lf(E,a,l,!0)?1:Math.max(C,C*n,R,R*n),g=(E,C,R)=>lf(E,a,l,!0)?-1:Math.min(C,C*n,R,R*n),y=p(0,c,d),v=p(Ut,u,f),b=g(Et,c,d),w=g(Et+Ut,u,f);r=(y-b)/2,i=(v-w)/2,s=-(y+b)/2,o=-(v+w)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class uc extends Va{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Pe(r[e])){const{key:l="value"}=this._parsing;s=c=>+tl(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return ms(this.options.rotation-90)}_getCircumference(){return ms(this.options.circumference)}_getRotationExtents(){let e=mt,n=-mt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Tfe(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:y}=mpe(d,u,l),v=(r.width-o)/f,b=(r.height-o)/p,w=Math.max(Math.min(v,b)/2,0),E=oB(this.options.radius,w),C=Math.max(E*l,0),R=(E-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*E,this.offsetY=y*E,i.total=this.calculateTotal(),this.outerRadius=E-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/mt)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,i);let b=this._getRotation(),w;for(w=0;w<n;++w)b+=this._circumference(w,s);for(w=n;w<n+r;++w){const E=this._circumference(w,s),C=e[w],R={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+E,circumference:E,outerRadius:g,innerRadius:p};v&&(R.options=y||this.resolveDataElementOptions(w,C.active?"active":i)),b+=E,this.updateElement(C,w,R,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=AT(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(_e(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}re(uc,"id","doughnut"),re(uc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),re(uc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),re(uc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Jp extends Va{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Hfe(n,i,o);this._drawStart=a,this._drawCount=l,Wfe(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,v=af(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",w=n+r,E=e.length;let C=n>0&&this.getParsed(n-1);for(let R=0;R<E;++R){const P=e[R],I=b?P:{};if(R<n||R>=w){I.skip=!0;continue}const k=this.getParsed(R),A=Je(k[p]),S=I[f]=o.getPixelForValue(k[f],R),N=I[p]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],R);I.skip=isNaN(S)||isNaN(N)||A,I.stop=R>0&&Math.abs(k[f]-C[f])>v,y&&(I.parsed=k,I.raw=c.data[R]),d&&(I.options=u||this.resolveDataElementOptions(R,P.active?"active":i)),b||this.updateElement(P,R,I,i),C=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}re(Jp,"id","line"),re(Jp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(Jp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class M_ extends uc{}re(M_,"id","pie"),re(M_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function sa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class LT{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(LT.prototype,e)}init(){}formats(){return sa()}parse(){return sa()}format(){return sa()}add(){return sa()}diff(){return sa()}startOf(){return sa()}endOf(){return sa()}}var ppe={_date:LT};function gpe(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?Bfe:ka;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function qf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=gpe(s[a],e,o,i);for(let p=d;p<=f;++p){const g=u[p];g.skip||r(g,c,p)}}}function ype(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Jb(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||qf(t,n,e,function(a,l,c){!i&&!cf(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function vpe(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=lB(o,{x:e.x,y:e.y});lf(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return qf(t,n,e,s),i}function bpe(t,e,n,r,i,s){let o=[];const a=ype(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,i);if(r&&!p)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!p)return;const v=a(e,g);v<l?(o=[{element:u,datasetIndex:d,index:f}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:f})}return qf(t,n,e,c),o}function Zb(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?vpe(t,e,n,i):bpe(t,e,n,r,i,s)}function vN(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return qf(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var wpe={evaluateInteractionItems:qf,modes:{index(t,e,n,r){const i=ha(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Jb(t,i,s,r,o):Zb(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=ha(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Jb(t,i,s,r,o):Zb(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=ha(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Jb(t,i,s,r,o)},nearest(t,e,n,r){const i=ha(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Zb(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=ha(e,t);return vN(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ha(e,t);return vN(t,i,"y",n.intersect,r)}}};const PB=["left","top","right","bottom"];function cd(t,e){return t.filter(n=>n.pos===e)}function bN(t,e){return t.filter(n=>PB.indexOf(n.pos)===-1&&n.box.axis===e)}function ud(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function xpe(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function _pe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!PB.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Epe(t,e){const n=_pe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Spe(t){const e=xpe(t),n=ud(e.filter(c=>c.box.fullSize),!0),r=ud(cd(e,"left"),!0),i=ud(cd(e,"right")),s=ud(cd(e,"top"),!0),o=ud(cd(e,"bottom")),a=bN(e,"x"),l=bN(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:cd(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function wN(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function RB(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Tpe(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Pe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&RB(o,s.getPadding());const a=Math.max(0,e.outerWidth-wN(o,t,"left","right")),l=Math.max(0,e.outerHeight-wN(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function kpe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ipe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ad(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Ipe(a.horizontal,e));const{same:d,other:f}=Tpe(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Ad(i,e,n,r)||u}function ap(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function xN(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;of(c.start)&&(o=c.start),l.fullSize?ap(l,i.left,o,n.outerWidth-i.right-i.left,f):ap(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;of(c.start)&&(s=c.start),l.fullSize?ap(l,s,i.top,f,n.outerHeight-i.bottom-i.top):ap(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var $r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=qr(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Spe(t.boxes),l=a.vertical,c=a.horizontal;je(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);RB(f,qr(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=Epe(l.concat(c),d);Ad(a.fullSize,p,d,g),Ad(l,p,d,g),Ad(c,p,d,g)&&Ad(l,p,d,g),kpe(p),xN(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,xN(a.rightAndBottom,p,d,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},je(a.chartArea,y=>{const v=y.box;Object.assign(v,t.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class NB{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Cpe extends NB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Zp="$chartjs",Ape={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_N=t=>t===null||t==="";function Ppe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Zp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_N(i)){const s=sN(t,"width");s!==void 0&&(t.width=s)}if(_N(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=sN(t,"height");s!==void 0&&(t.height=s)}return t}const DB=Dme?{passive:!0}:!1;function Rpe(t,e,n){t&&t.addEventListener(e,n,DB)}function Npe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,DB)}function Dpe(t,e){const n=Ape[t.type]||t.type,{x:r,y:i}=ha(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ey(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Mpe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ey(a.addedNodes,r),o=o&&!Ey(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ope(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ey(a.removedNodes,r),o=o&&!Ey(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const df=new Map;let EN=0;function MB(){const t=window.devicePixelRatio;t!==EN&&(EN=t,df.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lpe(t,e){df.size||window.addEventListener("resize",MB),df.set(t,e)}function Vpe(t){df.delete(t),df.size||window.removeEventListener("resize",MB)}function Fpe(t,e,n){const r=t.canvas,i=r&&OT(r);if(!i)return;const s=hB((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),Lpe(t,s),o}function ew(t,e,n){n&&n.disconnect(),e==="resize"&&Vpe(t)}function Bpe(t,e,n){const r=t.canvas,i=hB(s=>{t.ctx!==null&&n(Dpe(s,t))},t);return Rpe(r,e,i),i}class $pe extends NB{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Ppe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Zp])return!1;const r=n[Zp].initial;["height","width"].forEach(s=>{const o=r[s];Je(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Zp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Mpe,detach:Ope,resize:Fpe}[n]||Bpe;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ew,detach:ew,resize:ew}[n]||Npe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Nme(e,n,r,i)}isAttached(e){const n=e&&OT(e);return!!(n&&n.isConnected)}}function jpe(t){return!MT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cpe:$pe}var wp;let Ds=(wp=class{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return af(this.x)&&af(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},re(wp,"defaults",{}),re(wp,"defaultRoutes"),wp);function Upe(t,e){const n=t.options.ticks,r=zpe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Wpe(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return qpe(e,c,s,o/i),c;const u=Hpe(s,e,i);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(lp(e,c,u,Je(p)?0:a-p,a),d=0,f=o-1;d<f;d++)lp(e,c,u,s[d],s[d+1]);return lp(e,c,u,l,Je(p)?e.length:l+p),c}return lp(e,c,u),c}function zpe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Hpe(t,e,n){const r=Gpe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Dfe(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Wpe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function qpe(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function lp(t,e,n,r,i){const s=_e(r,0),o=Math.min(_e(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function Gpe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Kpe=t=>t==="left"?"right":t==="right"?"left":t,SN=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,TN=(t,e)=>Math.min(e||t,t);function kN(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Qpe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function Ype(t,e){je(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function dd(t){return t.drawTicks?t.tickLength:0}function IN(t,e){if(!t.display)return 0;const n=Cn(t.font,e),r=qr(t.padding);return(Mt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Xpe(t,e){return gl(t,{scale:e,type:"scale"})}function Jpe(t,e,n){return gl(t,{tick:n,index:e,type:"tick"})}function Zpe(t,e,n){let r=IT(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Kpe(r)),r}function ege(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,g;const y=o-i,v=a-s;if(t.isHorizontal()){if(p=xn(r,s,a),Pe(n)){const b=Object.keys(n)[0],w=n[b];g=u[b].getPixelForValue(w)+y-e}else n==="center"?g=(c.bottom+c.top)/2+y-e:g=SN(t,n,e);f=a-s}else{if(Pe(n)){const b=Object.keys(n)[0],w=n[b];p=u[b].getPixelForValue(w)-v+e}else n==="center"?p=(c.left+c.right)/2-v+e:p=SN(t,n,e);g=xn(r,o,i),d=n==="left"?-Ut:Ut}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class Eu extends Ds{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=pi(e,Number.POSITIVE_INFINITY),n=pi(n,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),i=pi(i,Number.NEGATIVE_INFINITY),{min:pi(e,r),max:pi(n,i),minDefined:Pn(e),maxDefined:Pn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:pi(n,pi(r,n)),max:pi(r,pi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ume(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?kN(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Upe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=nt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=TN(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=In(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-dd(e.grid)-n.padding-IN(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Lfe(Math.min(Math.asin(In((u.highest.height+6)/a,-1,1)),Math.asin(In(l/c,-1,1))-Math.asin(In(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=IN(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=dd(s)+l):(e.height=this.maxHeight,e.width=dd(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,g=ms(this.labelRotation),y=Math.cos(g),v=Math.sin(g);if(a){const b=r.mirror?0:v*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{const b=r.mirror?0:y*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(c,u,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Je(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=kN(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/TN(n,r));let c=0,u=0,d,f,p,g,y,v,b,w,E,C,R;for(d=0;d<n;d+=l){if(g=e[d].label,y=this._resolveTickFontOptions(d),i.font=v=y.string,b=s[v]=s[v]||{data:{},gc:[]},w=y.lineHeight,E=C=0,!Je(g)&&!Mt(g))E=eN(i,b.data,b.gc,E,g),C=w;else if(Mt(g))for(f=0,p=g.length;f<p;++f)R=g[f],!Je(R)&&!Mt(R)&&(E=eN(i,b.data,b.gc,E,R),C+=w);o.push(E),a.push(C),c=Math.max(E,c),u=Math.max(C,u)}Ype(s,n);const P=o.indexOf(c),I=a.indexOf(u),k=A=>({width:o[A]||0,height:a[A]||0});return{first:k(0),last:k(n-1),widest:k(P),highest:k(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Ffe(this._alignToPixels?ia(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Jpe(this.getContext(),e,r))}return this.$context||(this.$context=Xpe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ms(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=dd(s),p=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,b=function(ce){return ia(r,ce,y)};let w,E,C,R,P,I,k,A,S,N,O,M;if(o==="top")w=b(this.bottom),I=this.bottom-f,A=w-v,N=b(e.top)+v,M=e.bottom;else if(o==="bottom")w=b(this.top),N=e.top,M=b(e.bottom)-v,I=w+v,A=this.top+f;else if(o==="left")w=b(this.right),P=this.right-f,k=w-v,S=b(e.left)+v,O=e.right;else if(o==="right")w=b(this.left),S=e.left,O=b(e.right)-v,P=w+v,k=this.left+f;else if(n==="x"){if(o==="center")w=b((e.top+e.bottom)/2+.5);else if(Pe(o)){const ce=Object.keys(o)[0],ee=o[ce];w=b(this.chart.scales[ce].getPixelForValue(ee))}N=e.top,M=e.bottom,I=w+v,A=I+f}else if(n==="y"){if(o==="center")w=b((e.left+e.right)/2);else if(Pe(o)){const ce=Object.keys(o)[0],ee=o[ce];w=b(this.chart.scales[ce].getPixelForValue(ee))}P=w-v,k=P-f,S=e.left,O=e.right}const ne=_e(i.ticks.maxTicksLimit,d),Q=Math.max(1,Math.ceil(d/ne));for(E=0;E<d;E+=Q){const ce=this.getContext(E),ee=s.setContext(ce),H=a.setContext(ce),J=ee.lineWidth,L=ee.color,pe=H.dash||[],ae=H.dashOffset,V=ee.tickWidth,ve=ee.tickColor,st=ee.tickBorderDash||[],Ee=ee.tickBorderDashOffset;C=Qpe(this,E,l),C!==void 0&&(R=ia(r,C,J),c?P=k=S=O=R:I=A=N=M=R,p.push({tx1:P,ty1:I,tx2:k,ty2:A,x1:S,y1:N,x2:O,y2:M,width:J,color:L,borderDash:pe,borderDashOffset:ae,tickWidth:V,tickColor:ve,tickBorderDash:st,tickBorderDashOffset:Ee}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=dd(r.grid),p=f+u,g=d?-u:p,y=-ms(this.labelRotation),v=[];let b,w,E,C,R,P,I,k,A,S,N,O,M="middle";if(i==="top")P=this.bottom-g,I=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+g,I=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(f);I=Q.textAlign,R=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(f);I=Q.textAlign,R=Q.x}else if(n==="x"){if(i==="center")P=(e.top+e.bottom)/2+p;else if(Pe(i)){const Q=Object.keys(i)[0],ce=i[Q];P=this.chart.scales[Q].getPixelForValue(ce)+p}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(e.left+e.right)/2-p;else if(Pe(i)){const Q=Object.keys(i)[0],ce=i[Q];R=this.chart.scales[Q].getPixelForValue(ce)}I=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const ne=this._getLabelSizes();for(b=0,w=a.length;b<w;++b){E=a[b],C=E.label;const Q=s.setContext(this.getContext(b));k=this.getPixelForTick(b)+s.labelOffset,A=this._resolveTickFontOptions(b),S=A.lineHeight,N=Mt(C)?C.length:1;const ce=N/2,ee=Q.color,H=Q.textStrokeColor,J=Q.textStrokeWidth;let L=I;o?(R=k,I==="inner"&&(b===w-1?L=this.options.reverse?"left":"right":b===0?L=this.options.reverse?"right":"left":L="center"),i==="top"?c==="near"||y!==0?O=-N*S+S/2:c==="center"?O=-ne.highest.height/2-ce*S+S:O=-ne.highest.height+S/2:c==="near"||y!==0?O=S/2:c==="center"?O=ne.highest.height/2-ce*S:O=ne.highest.height-N*S,d&&(O*=-1),y!==0&&!Q.showLabelBackdrop&&(R+=S/2*Math.sin(y))):(P=k,O=(1-N)*S/2);let pe;if(Q.showLabelBackdrop){const ae=qr(Q.backdropPadding),V=ne.heights[b],ve=ne.widths[b];let st=O-ae.top,Ee=0-ae.left;switch(M){case"middle":st-=V/2;break;case"bottom":st-=V;break}switch(I){case"center":Ee-=ve/2;break;case"right":Ee-=ve;break;case"inner":b===w-1?Ee-=ve:b>0&&(Ee-=ve/2);break}pe={left:Ee,top:st,width:ve+ae.width,height:V+ae.height,color:Q.backdropColor}}v.push({label:C,font:A,textOffset:O,options:{rotation:y,color:ee,strokeColor:H,strokeWidth:J,textAlign:L,textBaseline:M,translation:[R,P],backdrop:pe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ms(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=ia(e,this.left,o)-o/2,u=ia(e,this.right,a)+a/2,d=f=l):(d=ia(e,this.top,o)-o/2,f=ia(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&K0(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;uf(r,c,0,u,l,a)}i&&Q0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Cn(r.font),o=qr(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Pe(n)?(l+=o.bottom,Mt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=ege(this,l,n,a);uf(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:Zpe(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=_e(e.grid&&e.grid.z,-1),i=_e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Eu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Cn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;rge(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,tge(e,o,r),this.override&&Ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Ct[i]&&(delete Ct[i][r],this.override&&delete nl[r])}}function tge(t,e,n){const r=sf(Object.create(null),[n?Ct.get(n):{},Ct.get(e),t.defaults]);Ct.set(e,r),t.defaultRoutes&&nge(e,t.defaultRoutes),t.descriptors&&Ct.describe(e,t.descriptors)}function nge(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ct.route(s,i,l,a)})}function rge(t){return"id"in t&&"defaults"in t}class ige{constructor(){this.controllers=new cp(Va,"datasets",!0),this.elements=new cp(Ds,"elements"),this.plugins=new cp(Object,"plugins"),this.scales=new cp(Eu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):je(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=TT(e);nt(r["before"+i],[],r),n[e](r),nt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var wi=new ige;class sge{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(nt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=_e(r.options&&r.options.plugins,{}),s=oge(r);return i===!1&&!n?[]:lge(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function oge(t){const e={},n=[],r=Object.keys(wi.plugins.items);for(let s=0;s<r.length;s++)n.push(wi.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function age(t,e){return!e&&t===!1?null:t===!0?{}:t}function lge(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=age(r[l],i);c!==null&&s.push({plugin:a,options:cge(t.config,{plugin:a,local:n[l]},c,o)})}return s}function cge(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function O_(t,e){const n=Ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function uge(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function dge(t,e){return t===e?"_index_":"_value_"}function CN(t){if(t==="x"||t==="y"||t==="r")return t}function hge(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function L_(t,...e){if(CN(t))return t;for(const n of e){const r=n.axis||hge(n.position)||t.length>1&&CN(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function AN(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function fge(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return AN(t,"x",n[0])||AN(t,"y",n[0])}return{}}function mge(t,e){const n=nl[t.type]||{scales:{}},r=e.scales||{},i=O_(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=L_(o,a,fge(o,t),Ct.scales[a.type]),c=dge(l,i),u=n.scales||{};s[o]=oh(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||O_(a,e),u=(nl[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=uge(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),oh(s[p],[{axis:f},r[p],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];oh(a,[Ct.scales[a.type],Ct.scale])}),s}function OB(t){const e=t.options||(t.options={});e.plugins=_e(e.plugins,{}),e.scales=mge(t,e)}function LB(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function pge(t){return t=t||{},t.data=LB(t.data),OB(t),t}const PN=new Map,VB=new Set;function up(t,e){let n=PN.get(t);return n||(n=e(),PN.set(t,n),VB.add(n)),n}const hd=(t,e,n)=>{const r=tl(e,n);r!==void 0&&t.add(r)};class gge{constructor(e){this._config=pge(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return up(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return up(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return up(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return up(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>hd(l,e,d))),u.forEach(d=>hd(l,i,d)),u.forEach(d=>hd(l,nl[s]||{},d)),u.forEach(d=>hd(l,Ct,d)),u.forEach(d=>hd(l,N_,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),VB.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,nl[n]||{},Ct.datasets[n]||{},{type:n},Ct,N_]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=RN(this._resolverCache,e,i);let l=o;if(vge(o,n)){s.$shared=!1,r=Bo(r)?r():r;const c=this.createResolver(e,r,a);l=nu(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=RN(this._resolverCache,e,r);return Pe(n)?nu(s,n,void 0,i):s}}function RN(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:RT(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const yge=t=>Pe(t)&&Object.getOwnPropertyNames(t).some(e=>Bo(t[e]));function vge(t,e){const{isScriptable:n,isIndexable:r}=yB(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Bo(a)||yge(a))||o&&Mt(a))return!0}return!1}var bge="4.4.7";const wge=["top","bottom","left","right","chartArea"];function NN(t,e){return t==="top"||t==="bottom"||wge.indexOf(t)===-1&&e==="x"}function DN(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function MN(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),nt(n&&n.onComplete,[t],e)}function xge(t){const e=t.chart,n=e.options.animation;nt(n&&n.onProgress,[t],e)}function FB(t){return MT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const eg={},ON=t=>{const e=FB(t);return Object.values(eg).filter(n=>n.canvas===e).pop()};function _ge(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Ege(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function dp(t,e,n){return t.options.clip?t[n]:e[n]}function Sge(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:dp(n,e,"left"),right:dp(n,e,"right"),top:dp(r,e,"top"),bottom:dp(r,e,"bottom")}:e}var Ks;let X0=(Ks=class{static register(...e){wi.add(...e),LN()}static unregister(...e){wi.remove(...e),LN()}constructor(e,n){const r=this.config=new gge(n),i=FB(e),s=ON(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||jpe(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Sfe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sge,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ufe(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],eg[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ns.listen(this,"complete",MN),ns.listen(this,"progress",xge),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Je(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tN(this.canvas,this.ctx),this}stop(){return ns.stop(this),this}resize(e,n){ns.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iN(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),nt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};je(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=L_(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),je(s,o=>{const a=o.options,l=a.id,c=L_(l,a),u=_e(a.type,o.dtype);(a.position===void 0||NN(a.position,c)!==NN(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=wi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),je(i,(o,a)=>{o||delete r[a]}),je(r,o=>{$r.configure(this,o,o.options),$r.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(DN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||O_(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=wi.getController(a),{datasetElementType:c,dataElementType:u}=Ct.datasets[a];Object.assign(l,{dataElementType:wi.getElement(u),datasetElementType:c&&wi.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){je(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||je(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(DN("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){je(this.scales,e=>{$r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!WR(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;_ge(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!WR(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$r.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],je(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Bo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ns.has(this)?this.attached&&!ns.running(this)&&ns.start(this):(this.draw(),MN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=Sge(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&K0(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Q0(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return cf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=wpe.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=gl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);of(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ns.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tN(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete eg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};je(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){je(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},je(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!vy(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Pfe(e),c=Ege(e,this._lastEvent,r,l);r&&(this._lastEvent=null,nt(s.onHover,[e,a,this],this),l&&nt(s.onClick,[e,a,this],this));const u=!vy(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},re(Ks,"defaults",Ct),re(Ks,"instances",eg),re(Ks,"overrides",nl),re(Ks,"registry",wi),re(Ks,"version",bge),re(Ks,"getChart",ON),Ks);function LN(){return je(X0.instances,t=>t._plugins.invalidate())}function Tge(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Ut,r-Ut),t.closePath(),t.clip()}function kge(t){return PT(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Ige(t,e,n,r){const i=kge(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return In(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:In(i.innerStart,0,o),innerEnd:In(i.innerEnd,0,o)}}function Pl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Sy(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let p=0;const g=i-l;if(r){const Q=u>0?u-r:0,ce=d>0?d-r:0,ee=(Q+ce)/2,H=ee!==0?g*ee/(ee+r):g;p=(g-H)/2}const y=Math.max(.001,g*d-n/Et)/d,v=(g-y)/2,b=l+v+p,w=i-v-p,{outerStart:E,outerEnd:C,innerStart:R,innerEnd:P}=Ige(e,f,d,w-b),I=d-E,k=d-C,A=b+E/I,S=w-C/k,N=f+R,O=f+P,M=b+R/N,ne=w-P/O;if(t.beginPath(),s){const Q=(A+S)/2;if(t.arc(o,a,d,A,Q),t.arc(o,a,d,Q,S),C>0){const J=Pl(k,S,o,a);t.arc(J.x,J.y,C,S,w+Ut)}const ce=Pl(O,w,o,a);if(t.lineTo(ce.x,ce.y),P>0){const J=Pl(O,ne,o,a);t.arc(J.x,J.y,P,w+Ut,ne+Math.PI)}const ee=(w-P/f+(b+R/f))/2;if(t.arc(o,a,f,w-P/f,ee,!0),t.arc(o,a,f,ee,b+R/f,!0),R>0){const J=Pl(N,M,o,a);t.arc(J.x,J.y,R,M+Math.PI,b-Ut)}const H=Pl(I,b,o,a);if(t.lineTo(H.x,H.y),E>0){const J=Pl(I,A,o,a);t.arc(J.x,J.y,E,b-Ut,A)}}else{t.moveTo(o,a);const Q=Math.cos(A)*d+o,ce=Math.sin(A)*d+a;t.lineTo(Q,ce);const ee=Math.cos(S)*d+o,H=Math.sin(S)*d+a;t.lineTo(ee,H)}t.closePath()}function Cge(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Sy(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%mt||mt))}return Sy(t,e,n,r,l,i),t.fill(),l}function Age(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){Sy(t,e,n,r,g,i);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(g=o+(a%mt||mt))}p&&Tge(t,e,g),s||(Sy(t,e,n,r,g,i),t.stroke())}class Pd extends Ds{constructor(n){super();re(this,"circumference");re(this,"endAngle");re(this,"fullCircles");re(this,"innerRadius");re(this,"outerRadius");re(this,"pixelMargin");re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=lB(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=_e(f,c-l),y=lf(o,l,c)&&l!==c,v=g>=mt||y,b=ps(a,u+p,d+p);return v&&b}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>mt?Math.floor(i/mt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Et,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Cge(n,this,u,o,a),Age(n,this,u,o,a),n.restore()}}re(Pd,"id","arc"),re(Pd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),re(Pd,"defaultRoutes",{backgroundColor:"backgroundColor"}),re(Pd,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function BB(t,e,n=e){t.lineCap=_e(n.borderCapStyle,e.borderCapStyle),t.setLineDash(_e(n.borderDash,e.borderDash)),t.lineDashOffset=_e(n.borderDashOffset,e.borderDashOffset),t.lineJoin=_e(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=_e(n.borderWidth,e.borderWidth),t.strokeStyle=_e(n.borderColor,e.borderColor)}function Pge(t,e,n){t.lineTo(n.x,n.y)}function Rge(t){return t.stepped?tme:t.tension||t.cubicInterpolationMode==="monotone"?nme:Pge}function $B(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function Nge(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=$B(i,n,r),u=Rge(s);let{move:d=!0,reverse:f}=r||{},p,g,y;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,y,g,f,s.stepped),y=g);return l&&(g=i[(a+(f?c:0))%o],u(t,y,g,f,s.stepped)),!!l}function Dge(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=$B(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,g,y,v,b;const w=C=>(o+(c?a-C:C))%s,E=()=>{y!==v&&(t.lineTo(u,v),t.lineTo(u,y),t.lineTo(u,b))};for(l&&(p=i[w(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[w(f)],p.skip)continue;const C=p.x,R=p.y,P=C|0;P===g?(R<y?y=R:R>v&&(v=R),u=(d*u+C)/++d):(E(),t.lineTo(C,R),g=P,d=0,y=v=R),b=R}E()}function V_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Dge:Nge}function Mge(t){return t.stepped?Mme:t.tension||t.cubicInterpolationMode==="monotone"?Ome:fa}function Oge(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),BB(t,e.options),t.stroke(i)}function Lge(t,e,n,r){const{segments:i,options:s}=e,o=V_(e);for(const a of i)BB(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Vge=typeof Path2D=="function";function Fge(t,e,n,r){Vge&&!e.options.segment?Oge(t,e,n,r):Lge(t,e,n,r)}class mo extends Ds{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;kme(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jme(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=kB(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=Mge(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=s[d],g=s[f];if(p===g){a.push(p);continue}const y=Math.abs((i-p[n])/(g[n]-p[n])),v=l(p,g,y,r.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,r){return V_(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=V_(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Fge(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(mo,"id","line"),re(mo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(mo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function VN(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class tg extends Ds{constructor(n){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return VN(this,n,"x",r)}inYRange(n,r){return VN(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!cf(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,D_(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}re(tg,"id","point"),re(tg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(tg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jB(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function po(t,e,n,r){return t?0:In(e,n,r)}function Bge(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=gB(r);return{t:po(i.top,s.top,0,n),r:po(i.right,s.right,0,e),b:po(i.bottom,s.bottom,0,n),l:po(i.left,s.left,0,e)}}function $ge(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Sc(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Pe(i);return{topLeft:po(!l||a.top||a.left,s.topLeft,0,o),topRight:po(!l||a.top||a.right,s.topRight,0,o),bottomLeft:po(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:po(!l||a.bottom||a.right,s.bottomRight,0,o)}}function jge(t){const e=jB(t),n=e.right-e.left,r=e.bottom-e.top,i=Bge(t,n/2,r/2),s=$ge(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function tw(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&jB(t,r);return a&&(i||ps(e,a.left,a.right))&&(s||ps(n,a.top,a.bottom))}function Uge(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function zge(t,e){t.rect(e.x,e.y,e.w,e.h)}function nw(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class ng extends Ds{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=jge(this),a=Uge(o.radius)?xy:zge;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,nw(o,n,s)),e.clip(),a(e,nw(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,nw(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return tw(this,e,n,r)}inXRange(e,n){return tw(this,e,null,n)}inYRange(e,n){return tw(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}re(ng,"id","bar"),re(ng,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(ng,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Hge(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=VT(l,c,i);const u=F_(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=kB(e,u);for(const f of d){const p=F_(n,s[f.start],s[f.end],f.loop),g=TB(a,i,p);for(const y of g)o.push({source:y,target:f,start:{[n]:FN(u,p,"start",Math.max)},end:{[n]:FN(u,p,"end",Math.min)}})}}return o}function F_(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=xi(i),s=xi(s)),{property:t,start:i,end:s}}function Wge(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=VT(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function VT(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function FN(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function UB(t,e){let n=[],r=!1;return Mt(t)?(r=!0,n=t):n=Wge(t,e),n.length?new mo({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function BN(t){return t&&t.fill!==!1}function qge(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Pn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Gge(t,e,n){const r=Xge(t);if(Pe(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Pn(i)&&Math.floor(i)===i?Kge(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Kge(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Qge(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Pe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Yge(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Pe(t)?r=t.value:r=e.getBaseValue(),r}function Xge(t){const e=t.options,n=e.fill;let r=_e(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Jge(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Zge(e,n);a.push(UB({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)eye(i,o[u],a)}return new mo({points:i,options:{}})}function Zge(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function eye(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=tye(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function tye(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],f=o[u.end][n];if(ps(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}class zB{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:mt},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function nye(t){const{chart:e,fill:n,line:r}=t;if(Pn(n))return rye(e,n);if(n==="stack")return Jge(t);if(n==="shape")return!0;const i=iye(t);return i instanceof zB?i:UB(i,r)}function rye(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function iye(t){return(t.scale||{}).getPointPositionForValue?oye(t):sye(t)}function sye(t){const{scale:e={},fill:n}=t,r=Qge(n,e);if(Pn(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function oye(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Yge(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new zB({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function rw(t,e,n){const r=nye(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&i.points.length&&(K0(t,n),aye(t,{line:i,target:r,above:u,below:d,area:n,scale:s,axis:o}),Q0(t))}function aye(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&($N(t,r,o.top),jN(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),$N(t,r,o.bottom)),jN(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}function $N(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],d=i[VT(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function jN(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=Hge(n,r,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,p=r!==!0;t.save(),t.fillStyle=f,lye(t,o,p&&F_(i,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let y;if(p){g?t.closePath():UN(t,r,d,i);const v=!!r.pathSegment(t,c,{move:g,reverse:!0});y=g&&v,y||UN(t,r,u,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function lye(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function UN(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var cye={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof mo&&(l={visible:t.isDatasetVisible(o),index:o,fill:Gge(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=qge(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&rw(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;BN(s)&&rw(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!BN(r)||n.drawTime!=="beforeDatasetDraw"||rw(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zN=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},uye=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class HN extends Ds{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Cn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=zN(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,y)=>{const v=r+n/2+s.measureText(g.text).width;(y===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:v,height:i},c[c.length-1]+=v+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,p=0,g=0,y=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:w,itemHeight:E}=dye(r,n,s,v,i);b>0&&p+E+2*a>u&&(d+=f+a,c.push({width:f,height:p}),g+=f+a,y++,f=p=0),l[b]={left:g,top:p,col:y,width:w,height:E},f=Math.max(f,w),p+=E+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Tc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=xn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=xn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=xn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=xn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;K0(e,this),this._draw(),Q0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Ct.color,l=Tc(e.rtl,this.left,this.width),c=Cn(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=zN(o,d),b=function(P,I,k){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;i.save();const A=_e(k.lineWidth,1);if(i.fillStyle=_e(k.fillStyle,a),i.lineCap=_e(k.lineCap,"butt"),i.lineDashOffset=_e(k.lineDashOffset,0),i.lineJoin=_e(k.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=_e(k.strokeStyle,a),i.setLineDash(_e(k.lineDash,[])),o.usePointStyle){const S={radius:y*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:A},N=l.xPlus(P,g/2),O=I+f;pB(i,S,N,O,o.pointStyleWidth&&g)}else{const S=I+Math.max((d-y)/2,0),N=l.leftForLtr(P,g),O=Sc(k.borderRadius);i.beginPath(),Object.values(O).some(M=>M!==0)?xy(i,{x:N,y:S,w:g,h:y,radius:O}):i.rect(N,S,g,y),i.fill(),A!==0&&i.stroke()}i.restore()},w=function(P,I,k){uf(i,k.text,P,I+v/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},E=this.isHorizontal(),C=this._computeTitleHeight();E?p={x:xn(s,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:xn(s,this.top+C+u,this.bottom-n[0].height),line:0},_B(this.ctx,e.textDirection);const R=v+u;this.legendItems.forEach((P,I)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const k=i.measureText(P.text).width,A=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),S=g+f+k;let N=p.x,O=p.y;l.setWidth(this.width),E?I>0&&N+S+u>this.right&&(O=p.y+=R,p.line++,N=p.x=xn(s,this.left+u,this.right-r[p.line])):I>0&&O+R>this.bottom&&(N=p.x=N+n[p.line].width+u,p.line++,O=p.y=xn(s,this.top+C+u,this.bottom-n[p.line].height));const M=l.x(N);if(b(M,O,P),N=zfe(A,N+g+f,E?N+S:this.right,e.rtl),w(l.x(N),O,P),E)p.x+=S+u;else if(typeof P.text!="string"){const ne=c.lineHeight;p.y+=HB(P,ne)+u}else p.y+=R}),EB(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Cn(n.font),i=qr(n.padding);if(!n.display)return;const s=Tc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=xn(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=c+xn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=xn(a,d,d+f);o.textAlign=s.textAlign(IT(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,uf(o,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Cn(e.font),r=qr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(ps(e,this.left,this.right)&&ps(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ps(e,i.left,i.left+i.width)&&ps(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!mye(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=uye(i,r);i&&!s&&nt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&nt(n.onHover,[e,r,this],this)}else r&&nt(n.onClick,[e,r,this],this)}}function dye(t,e,n,r,i){const s=hye(r,t,e,n),o=fye(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function hye(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function fye(t,e,n){let r=t;return typeof e.text!="string"&&(r=HB(e,n)),r}function HB(t,e){const n=t.text?t.text.length:0;return e*n}function mye(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var pye={id:"legend",_element:HN,start(t,e,n){const r=t.legend=new HN({ctx:t.ctx,options:n,chart:t});$r.configure(t,r,n),$r.addBox(t,r)},stop(t){$r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;$r.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=qr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class WB extends Ds{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Mt(r.text)?r.text.length:1;this._padding=qr(r.padding);const s=i*Cn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=xn(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=xn(a,i,n),l=Et*-.5):(u=s-e,d=xn(a,n,i),l=Et*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Cn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);uf(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:IT(n.align),textBaseline:"middle",translation:[o,a]})}}function gye(t,e){const n=new WB({ctx:t.ctx,options:e,chart:t});$r.configure(t,n,e),$r.addBox(t,n),t.titleBlock=n}var yye={id:"title",_element:WB,start(t,e,n){gye(t,n)},stop(t){const e=t.titleBlock;$r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;$r.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rd={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=R_(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function yi(t,e){return e&&(Mt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function rs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function vye(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function WN(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Cn(e.bodyFont),c=Cn(e.titleFont),u=Cn(e.footerFont),d=s.length,f=i.length,p=r.length,g=qr(e.padding);let y=g.height,v=0,b=r.reduce((C,R)=>C+R.before.length+R.lines.length+R.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*C+(b-p)*l.lineHeight+(b-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let w=0;const E=function(C){v=Math.max(v,n.measureText(C).width+w)};return n.save(),n.font=c.string,je(t.title,E),n.font=l.string,je(t.beforeBody.concat(t.afterBody),E),w=e.displayColors?o+2+e.boxPadding:0,je(r,C=>{je(C.before,E),je(C.lines,E),je(C.after,E)}),w=0,n.font=u.string,je(t.footer,E),n.restore(),v+=g.width,{width:v,height:y}}function bye(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function wye(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function xye(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),wye(c,t,e,n)&&(c="center"),c}function qN(t,e,n){const r=n.yAlign||e.yAlign||bye(t,n);return{xAlign:n.xAlign||e.xAlign||xye(t,e,n,r),yAlign:r}}function _ye(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Eye(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function GN(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Sc(o);let g=_ye(e,a);const y=Eye(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(d,p)+i),{x:In(g,0,r.width-e.width),y:In(y,0,r.height-e.height)}}function hp(t,e,n){const r=qr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function KN(t){return yi([],rs(t))}function Sye(t,e,n){return gl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function QN(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qB={beforeTitle:es,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:es,beforeBody:es,beforeLabel:es,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Je(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:es,afterBody:es,beforeFooter:es,footer:es,afterFooter:es};function qn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?qB[e].call(n,r):i}class B_ extends Ds{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new IB(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Sye(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=qn(r,"beforeTitle",this,e),s=qn(r,"title",this,e),o=qn(r,"afterTitle",this,e);let a=[];return a=yi(a,rs(i)),a=yi(a,rs(s)),a=yi(a,rs(o)),a}getBeforeBody(e,n){return KN(qn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return je(e,s=>{const o={before:[],lines:[],after:[]},a=QN(r,s);yi(o.before,rs(qn(a,"beforeLabel",this,s))),yi(o.lines,qn(a,"label",this,s)),yi(o.after,rs(qn(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return KN(qn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=qn(r,"beforeFooter",this,e),s=qn(r,"footer",this,e),o=qn(r,"afterFooter",this,e);let a=[];return a=yi(a,rs(i)),a=yi(a,rs(s)),a=yi(a,rs(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(vye(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),je(a,u=>{const d=QN(e.callbacks,u);i.push(qn(d,"labelColor",this,u)),s.push(qn(d,"labelPointStyle",this,u)),o.push(qn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Rd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=WN(this,r),c=Object.assign({},a,l),u=qN(this.chart,r,c),d=GN(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Sc(a),{x:f,y:p}=e,{width:g,height:y}=n;let v,b,w,E,C,R;return s==="center"?(C=p+y/2,i==="left"?(v=f,b=v-o,E=C+o,R=C-o):(v=f+g,b=v+o,E=C-o,R=C+o),w=v):(i==="left"?b=f+Math.max(l,u)+o:i==="right"?b=f+g-Math.max(c,d)-o:b=this.caretX,s==="top"?(E=p,C=E-o,v=b-o,w=b+o):(E=p+y,C=E+o,v=b+o,w=b-o),R=E),{x1:v,x2:b,x3:w,y1:E,y2:C,y3:R}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Tc(r.rtl,this.x,this.width);for(e.x=hp(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Cn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Cn(s.bodyFont),d=hp(this,"left",s),f=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(f,c)+c/2,b=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,D_(e,y,v,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,D_(e,y,v,b)}else{e.lineWidth=Pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,c),v=i.leftForLtr(i.xPlus(f,1),c-2),b=Sc(o.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,xy(e,{x:y,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),xy(e,{x:v,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,c,l),e.strokeRect(y,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Cn(r.bodyFont);let f=d.lineHeight,p=0;const g=Tc(r.rtl,this.x,this.width),y=function(k){n.fillText(k,g.x(e.x+p),e.y+f/2),e.y+=f+s},v=g.textAlign(o);let b,w,E,C,R,P,I;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=hp(this,v,r),n.fillStyle=r.bodyColor,je(this.beforeBody,y),p=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,P=i.length;C<P;++C){for(b=i[C],w=this.labelTextColors[C],n.fillStyle=w,je(b.before,y),E=b.lines,a&&E.length&&(this._drawColorBox(n,e,C,g,r),f=Math.max(d.lineHeight,l)),R=0,I=E.length;R<I;++R)y(E[R]),f=d.lineHeight;je(b.after,y)}p=0,f=d.lineHeight,je(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Tc(r.rtl,this.x,this.width);for(e.x=hp(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Cn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Sc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Rd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=WN(this,e),l=Object.assign({},o,this._size),c=qN(n,e,l),u=GN(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=qr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),_B(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),EB(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!vy(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!vy(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Rd[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}re(B_,"positioners",Rd);var Tye={id:"tooltip",_element:B_,positioners:Rd,afterInit(t,e,n){n&&(t.tooltip=new B_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const kye=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Iye(t,e,n,r){const i=t.indexOf(e);if(i===-1)return kye(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Cye=(t,e)=>t===null?null:In(Math.round(t),0,e);function YN(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $_ extends Eu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Je(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Iye(r,e,_e(n,e),this._addedLabels),Cye(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return YN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re($_,"id","category"),re($_,"defaults",{ticks:{callback:YN}});function Aye(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=s||1,g=u-1,{min:y,max:v}=e,b=!Je(o),w=!Je(a),E=!Je(c),C=(v-y)/(d+1);let R=GR((v-y)/g/p)*p,P,I,k,A;if(R<1e-14&&!b&&!w)return[{value:y},{value:v}];A=Math.ceil(v/R)-Math.floor(y/R),A>g&&(R=GR(A*R/g/p)*p),Je(l)||(P=Math.pow(10,l),R=Math.ceil(R*P)/P),i==="ticks"?(I=Math.floor(y/R)*R,k=Math.ceil(v/R)*R):(I=y,k=v),b&&w&&s&&Mfe((a-o)/s,R/1e3)?(A=Math.round(Math.min((a-o)/R,u)),R=(a-o)/A,I=o,k=a):E?(I=b?o:I,k=w?a:k,A=c-1,R=(k-I)/A):(A=(k-I)/R,ah(A,Math.round(A),R/1e3)?A=Math.round(A):A=Math.ceil(A));const S=Math.max(KR(R),KR(I));P=Math.pow(10,Je(l)?S:l),I=Math.round(I*P)/P,k=Math.round(k*P)/P;let N=0;for(b&&(f&&I!==o?(n.push({value:o}),I<o&&N++,ah(Math.round((I+N*R)*P)/P,o,XN(o,C,t))&&N++):I<o&&N++);N<A;++N){const O=Math.round((I+N*R)*P)/P;if(w&&O>a)break;n.push({value:O})}return w&&f&&k!==a?n.length&&ah(n[n.length-1].value,a,XN(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!w||k===a)&&n.push({value:k}),n}function XN(t,e,{horizontal:n,minRotation:r}){const i=ms(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Pye extends Eu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=$i(i),c=$i(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Aye(i,s);return e.bounds==="ticks"&&Ofe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return AT(e,this.chart.options.locale,this.options.ticks.format)}}class j_ extends Pye{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?e:0,this.max=Pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ms(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(j_,"id","linear"),re(j_,"defaults",{ticks:{callback:mB.formatters.numeric}});const J0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jn=Object.keys(J0);function JN(t,e){return t-e}function ZN(t,e){if(Je(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Pn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(af(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function e5(t,e,n,r){const i=Jn.length;for(let s=Jn.indexOf(t);s<i-1;++s){const o=J0[Jn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Jn[s]}return Jn[i-1]}function Rye(t,e,n,r,i){for(let s=Jn.length-1;s>=Jn.indexOf(n);s--){const o=Jn[s];if(J0[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Jn[n?Jn.indexOf(n):0]}function Nye(t){for(let e=Jn.indexOf(t)+1,n=Jn.length;e<n;++e)if(J0[Jn[e]].common)return Jn[e]}function t5(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=kT(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Dye(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function n5(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Dye(t,r,i,n)}class Ty extends Eu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new ppe._date(e.adapters.date);i.init(n),oh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ZN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Pn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Pn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=$fe(i,s,o);return this._unit=n.unit||(r.autoSkip?e5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Rye(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Nye(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),n5(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=In(n,0,o),r=In(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||e5(s.minUnit,n,r,this._getLabelCapacity(n)),a=_e(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=af(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,o),p++)t5(u,f,g);return(f===r||i.bounds==="ticks"||p===1)&&t5(u,f,g),Object.keys(u).sort(JN).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return nt(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],p=c&&d&&f&&f.major;return this._adapter.format(e,i||(p?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ms(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,n5(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(ZN(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uB(e.sort(JN))}}re(Ty,"id","time"),re(Ty,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fp(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ka(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ka(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class r5 extends Ty{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=fp(n,this.min),this._tableRange=fp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(fp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return fp(this._table,r*this._tableRange+this._minPos,!0)}}re(r5,"id","timeseries"),re(r5,"defaults",Ty.defaults);const GB="label";function i5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Mye(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function KB(t,e){t.labels=e}function QB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GB;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Oye(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GB;const n={labels:[],datasets:[]};return KB(n,t.labels),QB(n,t.datasets,e),n}function Lye(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=x.useRef(null),g=x.useRef(null),y=()=>{p.current&&(g.current=new X0(p.current,{type:o,data:Oye(a,s),options:l&&{...l},plugins:c}),i5(e,g.current))},v=()=>{i5(e,null),g.current&&(g.current.destroy(),g.current=null)};return x.useEffect(()=>{!i&&g.current&&l&&Mye(g.current,l)},[i,l]),x.useEffect(()=>{!i&&g.current&&KB(g.current.config.data,a.labels)},[i,a.labels]),x.useEffect(()=>{!i&&g.current&&a.datasets&&QB(g.current.config.data,a.datasets,s)},[i,a.datasets]),x.useEffect(()=>{g.current&&(i?(v(),setTimeout(y)):g.current.update(d))},[i,l,a.labels,a.datasets,d]),x.useEffect(()=>{g.current&&(v(),setTimeout(y))},[o]),x.useEffect(()=>(y(),()=>v()),[]),h.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},u)}const Vye=x.forwardRef(Lye);function Z0(t,e){return X0.register(e),x.forwardRef((n,r)=>h.createElement(Vye,{...n,ref:r,type:t}))}const YB=Z0("line",Jp),FT=Z0("bar",Xp),Fye=Z0("doughnut",uc),s5=Z0("pie",M_),Bye=[{id:1,company:"TechSecure Solutions",contact:"Jean Dupont",position:"RSSI",status:"En cours",value:"75000€",lastContact:"2024-01-14",nextAction:"Appel de suivi",nextActionDate:"2024-01-17",probability:75,notes:[{date:"2024-01-14",content:"Intéressé par la solution EDR"},{date:"2024-01-10",content:"Premier contact positif"}],activities:[{type:"call",date:"2024-01-14",content:"Appel de qualification"},{type:"email",date:"2024-01-12",content:"Envoi documentation"}]},{id:2,company:"CyberGuard Industries",contact:"Marie Martin",position:"DSI",status:"Qualifié",value:"120000€",lastContact:"2024-01-15",nextAction:"Démo produit",nextActionDate:"2024-01-18",probability:60,notes:[{date:"2024-01-15",content:"Besoin de sécurisation cloud"}],activities:[{type:"meeting",date:"2024-01-15",content:"Réunion découverte"}]}],$ye={"En cours":"bg-blue-100 text-blue-800",Qualifié:"bg-green-100 text-green-800","En attente":"bg-yellow-100 text-yellow-800",Perdu:"bg-red-100 text-red-800",Gagné:"bg-emerald-100 text-emerald-800"};function jye(){const[t,e]=x.useState(null),[n,r]=x.useState("all"),[i,s]=x.useState("date"),o=l=>{e(t===l?null:l)},a=l=>{switch(l){case"call":return h.createElement(ry,{className:"h-4 w-4"});case"email":return h.createElement(o3,{className:"h-4 w-4"});case"meeting":return h.createElement(Kh,{className:"h-4 w-4"});default:return h.createElement(HZ,{className:"h-4 w-4"})}};return h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow"},h.createElement("div",{className:"flex space-x-4"},h.createElement("select",{value:n,onChange:l=>r(l.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},h.createElement("option",{value:"all"},"Tous les statuts"),h.createElement("option",{value:"En cours"},"En cours"),h.createElement("option",{value:"Qualifié"},"Qualifié"),h.createElement("option",{value:"En attente"},"En attente")),h.createElement("select",{value:i,onChange:l=>s(l.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},h.createElement("option",{value:"date"},"Date"),h.createElement("option",{value:"value"},"Valeur"),h.createElement("option",{value:"probability"},"Probabilité"))),h.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},"Nouveau lead")),h.createElement("div",{className:"space-y-4"},Bye.map(l=>h.createElement(F.div,{key:l.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow overflow-hidden"},h.createElement("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>o(l.id)},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",{className:"flex items-center space-x-4"},t===l.id?h.createElement(n3,{className:"h-5 w-5 text-gray-400"}):h.createElement(QZ,{className:"h-5 w-5 text-gray-400"}),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-medium text-gray-900"},l.company),h.createElement("p",{className:"text-sm text-gray-500"},l.contact," - ",l.position))),h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${$ye[l.status]}`},l.status),h.createElement("span",{className:"text-lg font-semibold text-gray-900"},l.value)))),t===l.id&&h.createElement("div",{className:"border-t border-gray-200 p-4"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},h.createElement("div",{className:"space-y-4"},h.createElement("div",null,h.createElement("h4",{className:"text-sm font-medium text-gray-500"},"Dernière interaction"),h.createElement("p",{className:"mt-1"},new Date(l.lastContact).toLocaleDateString())),h.createElement("div",null,h.createElement("h4",{className:"text-sm font-medium text-gray-500"},"Prochaine action"),h.createElement("p",{className:"mt-1"},l.nextAction," - ",new Date(l.nextActionDate).toLocaleDateString())),h.createElement("div",null,h.createElement("h4",{className:"text-sm font-medium text-gray-500"},"Probabilité de conversion"),h.createElement("div",{className:"mt-1 relative pt-1"},h.createElement("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-gray-200"},h.createElement("div",{style:{width:`${l.probability}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"})),h.createElement("span",{className:"text-sm font-medium text-gray-700"},l.probability,"%")))),h.createElement("div",{className:"space-y-4"},h.createElement("div",null,h.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-2"},"Notes"),h.createElement("div",{className:"space-y-2"},l.notes.map((c,u)=>h.createElement("div",{key:u,className:"text-sm"},h.createElement("span",{className:"text-gray-500"},new Date(c.date).toLocaleDateString(),":")," ",c.content)))),h.createElement("div",null,h.createElement("h4",{className:"text-sm font-medium text-gray-500 mb-2"},"Activités récentes"),h.createElement("div",{className:"space-y-2"},l.activities.map((c,u)=>h.createElement("div",{key:u,className:"flex items-center space-x-2 text-sm"},a(c.type),h.createElement("span",{className:"text-gray-500"},new Date(c.date).toLocaleDateString(),":")," ",c.content)))))),h.createElement("div",{className:"mt-4 flex space-x-4"},h.createElement("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},"Modifier"),h.createElement("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},"Ajouter une note"),h.createElement("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"},"Planifier une action")))))))}const Uye=[{id:1,type:"success",title:"Nouveau lead qualifié",message:"TechSecure Solutions a été qualifié comme prospect à fort potentiel",date:"2024-01-15T10:30:00",read:!1},{id:2,type:"warning",title:"Rappel de suivi",message:"Suivi à effectuer pour CyberGuard Industries avant le 18/01",date:"2024-01-15T09:15:00",read:!1},{id:3,type:"info",title:"Mise à jour du statut",message:"Le statut du lead DataProtect a été mis à jour",date:"2024-01-14T16:45:00",read:!1}],zye={success:h.createElement(Xc,{className:"h-6 w-6 text-green-500"}),warning:h.createElement(_A,{className:"h-6 w-6 text-yellow-500"}),info:h.createElement(See,{className:"h-6 w-6 text-blue-500"}),error:h.createElement(_A,{className:"h-6 w-6 text-red-500"})};function Hye({onClose:t,onMarkAllRead:e}){const[n,r]=x.useState(Uye),[i,s]=x.useState("all"),o=c=>{r(n.map(u=>u.id===c?{...u,read:!0}:u))},a=()=>{r(n.map(c=>({...c,read:!0}))),e()},l=n.filter(c=>i==="unread"?!c.read:i==="read"?c.read:!0);return h.createElement(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl z-50"},h.createElement("div",{className:"p-4 border-b border-gray-200"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",{className:"flex items-center"},h.createElement(t3,{className:"h-6 w-6 text-gray-500"}),h.createElement("h3",{className:"ml-2 text-lg font-medium text-gray-900"},"Notifications")),h.createElement("button",{onClick:t,className:"text-gray-400 hover:text-gray-500"},h.createElement(_c,{className:"h-6 w-6"}))),h.createElement("div",{className:"mt-4 flex justify-between items-center"},h.createElement("div",{className:"flex space-x-2"},h.createElement("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm ${i==="all"?"bg-blue-100 text-blue-800":"text-gray-600 hover:bg-gray-100"}`},"Toutes"),h.createElement("button",{onClick:()=>s("unread"),className:`px-3 py-1 rounded-full text-sm ${i==="unread"?"bg-blue-100 text-blue-800":"text-gray-600 hover:bg-gray-100"}`},"Non lues")),h.createElement("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-800"},"Tout marquer comme lu"))),h.createElement("div",{className:"max-h-96 overflow-y-auto"},l.length===0?h.createElement("div",{className:"p-4 text-center text-gray-500"},"Aucune notification"):l.map(c=>h.createElement(F.div,{key:c.id,initial:{opacity:0},animate:{opacity:1},className:`p-4 border-b border-gray-200 hover:bg-gray-50 cursor-pointer ${c.read?"":"bg-blue-50"}`,onClick:()=>o(c.id)},h.createElement("div",{className:"flex items-start"},h.createElement("div",{className:"flex-shrink-0"},zye[c.type]),h.createElement("div",{className:"ml-3 flex-1"},h.createElement("p",{className:"text-sm font-medium text-gray-900"},c.title),h.createElement("p",{className:"mt-1 text-sm text-gray-500"},c.message),h.createElement("p",{className:"mt-1 text-xs text-gray-400"},new Date(c.date).toLocaleString())))))),h.createElement("div",{className:"p-4 border-t border-gray-200"},h.createElement("button",{onClick:()=>{},className:"w-full text-center text-sm text-blue-600 hover:text-blue-800"},"Voir toutes les notifications")))}const Wye=[{id:1,name:"Campagne EDR Q1 2024",status:"active",startDate:"2024-01-01",endDate:"2024-03-31",type:"cybersecurity"},{id:2,name:"SIEM Enterprise 2024",status:"planned",startDate:"2024-02-01",endDate:"2024-04-30",type:"cybersecurity"},{id:3,name:"Cloud Security Program",status:"active",startDate:"2024-01-15",endDate:"2024-06-30",type:"cloud"}];function qye({onCampaignSelect:t}){const[e,n]=x.useState(!1),[r,i]=x.useState(null),s=o=>{i(o),t(o),n(!1)};return h.createElement("div",{className:"relative"},h.createElement("button",{onClick:()=>n(!e),className:"w-full flex items-center justify-between px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},h.createElement("div",{className:"flex items-center"},h.createElement(Yx,{className:"h-5 w-5 text-gray-400 mr-2"}),h.createElement("span",{className:"text-gray-700"},r?r.name:"Sélectionner une campagne")),h.createElement(n3,{className:`h-5 w-5 text-gray-400 transition-transform ${e?"transform rotate-180":""}`})),e&&h.createElement(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg"},h.createElement("div",{className:"py-1"},Wye.map(o=>h.createElement("button",{key:o.id,onClick:()=>s(o),className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center justify-between"},h.createElement("div",{className:"flex items-center"},h.createElement(Yx,{className:"h-5 w-5 text-gray-400 mr-2"}),h.createElement("div",null,h.createElement("div",{className:"text-sm font-medium text-gray-900"},o.name),h.createElement("div",{className:"text-xs text-gray-500"},new Date(o.startDate).toLocaleDateString()," - ",new Date(o.endDate).toLocaleDateString()))),h.createElement("span",{className:`text-xs px-2 py-1 rounded-full ${o.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`},o.status==="active"?"Active":"Planifiée"))))))}X0.register($_,j_,ng,yye,Tye,pye,Pd,tg,mo,cye);function Gye(){const[t,e]=x.useState("overview"),[n,r]=x.useState(!1),[i,s]=x.useState(3),[o,a]=x.useState(null),l=[{icon:Ui,label:"Leads Qualifiés",value:"45",change:"+12%",positive:!0},{icon:Qh,label:"Valeur Pipeline",value:"750K€",change:"+25%",positive:!0},{icon:hS,label:"Taux Conversion",value:"35%",change:"+5%",positive:!0},{icon:ir,label:"Temps Moyen",value:"12j",change:"-2j",positive:!0}],c=u=>{a(u)};return h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6"},h.createElement("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center"},h.createElement("div",{className:"flex-1 max-w-md"},h.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Mes Campagnes Marketing"),h.createElement(qye,{onCampaignSelect:c})),h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("button",{onClick:()=>r(!n),className:"relative p-2 text-gray-600 hover:text-blue-600 transition-colors"},h.createElement(t3,{className:"h-6 w-6"}),i>0&&h.createElement("span",{className:"absolute top-0 right-0 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},i)),h.createElement("button",{onClick:()=>e("documents"),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors"},h.createElement(mS,{className:"h-6 w-6"})))),!o&&h.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-blue-700"},"Veuillez sélectionner une campagne pour voir les détails"),o&&h.createElement(h.Fragment,null,n&&h.createElement(Hye,{onClose:()=>r(!1),onMarkAllRead:()=>s(0)}),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},l.map(u=>h.createElement("div",{key:u.label,className:"bg-white rounded-lg p-4 shadow"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("div",{className:"flex items-center"},h.createElement(u.icon,{className:"h-8 w-8 text-blue-600"}),h.createElement("div",{className:"ml-3"},h.createElement("p",{className:"text-sm font-medium text-gray-600"},u.label),h.createElement("p",{className:"text-2xl font-semibold text-gray-900"},u.value))),h.createElement("span",{className:`text-sm font-medium ${u.positive?"text-green-600":"text-red-600"}`},u.change))))),h.createElement("div",{className:"border-b border-gray-200"},h.createElement("nav",{className:"-mb-px flex space-x-8"},[{id:"overview",name:"Vue d'ensemble"},{id:"leads",name:"Suivi des leads"},{id:"documents",name:"Documents"}].map(u=>h.createElement("button",{key:u.id,onClick:()=>e(u.id),className:`${t===u.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`},u.name)))),h.createElement("div",{className:"mt-6"},t==="overview"&&h.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},h.createElement("div",{className:"bg-white rounded-lg shadow p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Valeur des leads"),h.createElement("div",{className:"h-64"},h.createElement(FT,{data:mp.monthlyLeadValue,options:Kye}))),h.createElement("div",{className:"bg-white rounded-lg shadow p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Statut des leads"),h.createElement("div",{className:"h-64"},h.createElement(s5,{data:mp.leadStatus,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}}))),h.createElement("div",{className:"bg-white rounded-lg shadow p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Canaux marketing"),h.createElement("div",{className:"h-64"},h.createElement(s5,{data:mp.marketingChannels,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}}))),h.createElement("div",{className:"bg-white rounded-lg shadow p-6"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Nombre de leads"),h.createElement("div",{className:"h-64"},h.createElement(YB,{data:mp.leadsCount,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})))),t==="leads"&&h.createElement(jye,null),t==="documents"&&h.createElement(nB,null))))}const mp={monthlyLeadValue:{labels:["Août 22","Sept 22","Oct 22","Nov 22","Déc 22","Jan 23"],datasets:[{label:"Valeur des leads (€)",data:[3e5,15e4,75e3,7e5,245e3,75e4],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},leadsCount:{labels:["Août 22","Sept 22","Oct 22","Nov 22","Déc 22","Jan 23"],datasets:[{label:"Nombre de leads",data:[4,7,3,6,5,9],borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!0,tension:.4}]},leadStatus:{labels:["Gagné","Perdu","En cours"],datasets:[{data:[18,70,12],backgroundColor:["rgb(16, 185, 129)","rgb(239, 68, 68)","rgb(59, 130, 246)"]}]},marketingChannels:{labels:["Social Media marketing","Email marketing","Paid advertisement","Mobile marketing","Others"],datasets:[{data:[30,17,20,25,8],backgroundColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)","rgb(107, 114, 128)"]}]}},Kye={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}}}},qs={completionRate:75,timeSpent:45,averageScore:85,certificatesEarned:3,progressHistory:{labels:["Jan","Fév","Mar","Avr","Mai","Juin"],datasets:[{label:"Progression (%)",data:[10,25,45,60,70,75],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},scoreDistribution:{labels:["< 60%","60-70%","70-80%","80-90%","> 90%"],datasets:[{data:[5,10,25,40,20],backgroundColor:["rgb(239, 68, 68)","rgb(245, 158, 11)","rgb(16, 185, 129)","rgb(59, 130, 246)","rgb(139, 92, 246)"]}]},timeDistribution:{labels:["Cours","Exercices","Quiz","Projets"],datasets:[{data:[40,25,15,20],backgroundColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)"]}]}};function Qye(){return h.createElement("div",{className:"space-y-8"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow p-6"},h.createElement("div",{className:"flex items-center"},h.createElement(en,{className:"h-8 w-8 text-blue-600"}),h.createElement("div",{className:"ml-4"},h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Taux de complétion"),h.createElement("p",{className:"text-2xl font-bold text-gray-900"},qs.completionRate,"%")))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow p-6"},h.createElement("div",{className:"flex items-center"},h.createElement(ir,{className:"h-8 w-8 text-green-600"}),h.createElement("div",{className:"ml-4"},h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Temps total"),h.createElement("p",{className:"text-2xl font-bold text-gray-900"},qs.timeSpent,"h")))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow p-6"},h.createElement("div",{className:"flex items-center"},h.createElement(Vi,{className:"h-8 w-8 text-purple-600"}),h.createElement("div",{className:"ml-4"},h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Score moyen"),h.createElement("p",{className:"text-2xl font-bold text-gray-900"},qs.averageScore,"%")))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow p-6"},h.createElement("div",{className:"flex items-center"},h.createElement(sy,{className:"h-8 w-8 text-yellow-600"}),h.createElement("div",{className:"ml-4"},h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Certifications"),h.createElement("p",{className:"text-2xl font-bold text-gray-900"},qs.certificatesEarned))))),h.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow p-6"},h.createElement("h4",{className:"text-lg font-semibold text-gray-900 mb-4"},"Progression dans le temps"),h.createElement("div",{className:"h-64"},h.createElement(YB,{data:qs.progressHistory,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100}}}}))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow p-6"},h.createElement("h4",{className:"text-lg font-semibold text-gray-900 mb-4"},"Distribution des scores"),h.createElement("div",{className:"h-64"},h.createElement(FT,{data:{labels:qs.scoreDistribution.labels,datasets:[{...qs.scoreDistribution.datasets[0],label:"Nombre d'évaluations"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow p-6"},h.createElement("h4",{className:"text-lg font-semibold text-gray-900 mb-4"},"Répartition du temps"),h.createElement("div",{className:"h-64"},h.createElement(Fye,{data:qs.timeDistribution,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}}))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow p-6"},h.createElement("div",{className:"flex items-center justify-between mb-6"},h.createElement("h4",{className:"text-lg font-semibold text-gray-900"},"Tendances et prédictions"),h.createElement(hS,{className:"h-6 w-6 text-green-600"})),h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg"},h.createElement("div",null,h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Temps estimé pour terminer"),h.createElement("p",{className:"text-lg font-semibold text-gray-900"},"15 heures")),h.createElement(ir,{className:"h-6 w-6 text-blue-600"})),h.createElement("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg"},h.createElement("div",null,h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Score prévu"),h.createElement("p",{className:"text-lg font-semibold text-gray-900"},"88%")),h.createElement(Vi,{className:"h-6 w-6 text-green-600"})),h.createElement("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg"},h.createElement("div",null,h.createElement("p",{className:"text-sm font-medium text-gray-600"},"Prochaine certification"),h.createElement("p",{className:"text-lg font-semibold text-gray-900"},"Dans 2 semaines")),h.createElement(sy,{className:"h-6 w-6 text-yellow-600"}))))))}function Yye(){return h.createElement("div",{className:"space-y-8"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Progression détaillée"),h.createElement(en,{className:"h-6 w-6 text-blue-600"})),h.createElement(Qye,null))}function XB({userBadges:t=[]}){const e=[{id:"beginner",name:"Débutant",icon:E0,description:"Premiers pas dans la formation",color:"blue"},{id:"intermediate",name:"Intermédiaire",icon:iy,description:"Progression constante",color:"green"},{id:"advanced",name:"Avancé",icon:Uee,description:"Maîtrise approfondie",color:"purple",locked:!0},{id:"expert",name:"Expert",icon:sy,description:"Excellence reconnue",color:"yellow",locked:!0}];return h.createElement("div",{className:"space-y-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Badges et Récompenses"),h.createElement(sy,{className:"h-6 w-6 text-yellow-500"})),h.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},e.map(n=>h.createElement(F.div,{key:n.id,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`relative p-4 rounded-lg ${n.locked?"bg-gray-100":`bg-${n.color}-50 hover:bg-${n.color}-100`} transition-colors`},n.locked&&h.createElement("div",{className:"absolute inset-0 bg-gray-100/80 rounded-lg flex items-center justify-center"},h.createElement(pS,{className:"h-6 w-6 text-gray-400"})),h.createElement("div",{className:"flex flex-col items-center text-center"},h.createElement(n.icon,{className:`h-12 w-12 ${n.locked?"text-gray-400":`text-${n.color}-500`} mb-2`}),h.createElement("h4",{className:"font-medium text-gray-900"},n.name),h.createElement("p",{className:"text-sm text-gray-500 mt-1"},n.description))))))}function JB(){const t=[{id:"cyber-advanced",title:"Cybersécurité Avancée",type:"course",level:"Intermédiaire",duration:"4h",match:95,description:"Approfondissez vos connaissances en sécurité réseau",path:"/training/cyber-advanced"},{id:"threat-analysis",title:"Analyse des Menaces",type:"workshop",level:"Avancé",duration:"2h",match:88,description:"Techniques d'analyse des cybermenaces modernes",path:"/training/threat-analysis"},{id:"cloud-security",title:"Sécurité Cloud",type:"course",level:"Intermédiaire",duration:"3h",match:82,description:"Protection des environnements cloud",path:"/training/cloud-security"}];return h.createElement("div",{className:"space-y-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Recommandations Personnalisées"),h.createElement(E0,{className:"h-6 w-6 text-yellow-500"})),h.createElement("div",{className:"space-y-4"},t.map((e,n)=>h.createElement(F.div,{key:e.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow"},h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",{className:"flex-1"},h.createElement("div",{className:"flex items-center"},h.createElement("h4",{className:"text-lg font-medium text-gray-900"},e.title),h.createElement("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full"},e.match,"% match")),h.createElement("p",{className:"mt-1 text-sm text-gray-600"},e.description),h.createElement("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500"},h.createElement("span",{className:"flex items-center"},h.createElement(Vi,{className:"h-4 w-4 mr-1"}),e.level),h.createElement("span",{className:"flex items-center"},h.createElement(ir,{className:"h-4 w-4 mr-1"}),e.duration),h.createElement("span",{className:"flex items-center"},h.createElement(DZ,{className:"h-4 w-4 mr-1"}),e.type))),h.createElement(Ce,{to:e.path,className:"ml-4 flex items-center text-blue-600 hover:text-blue-700 transition-colors"},h.createElement("span",{className:"mr-1"},"Commencer"),h.createElement(we,{className:"h-4 w-4"})))))))}function Xye({session:t,onClose:e}){const n=x.useRef(null),[r,i]=x.useState({firstName:"",lastName:"",email:"",phone:"",company:"",position:"",specialNeeds:"",acceptTerms:!1}),[s,o]=x.useState(!1),[a,l]=x.useState(null),[c,u]=x.useState(!1),d=async f=>{f.preventDefault(),o(!0),l(null);try{await new Promise(p=>setTimeout(p,1500)),u(!0),setTimeout(()=>{e()},2e3)}catch{l("Une erreur est survenue lors de l'inscription. Veuillez réessayer.")}finally{o(!1)}};return c?h.createElement(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8"},h.createElement(Xc,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Inscription confirmée !"),h.createElement("p",{className:"text-gray-600"},"Vous recevrez un email de confirmation dans quelques instants.")):h.createElement("div",{className:"max-h-[80vh] overflow-y-auto px-2",ref:n},h.createElement("form",{onSubmit:d,className:"space-y-6"},a&&h.createElement("div",{className:"p-4 bg-red-50 text-red-700 rounded-md sticky top-0 z-10"},a),h.createElement("div",{className:"grid grid-cols-2 gap-4"},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Prénom"),h.createElement("input",{type:"text",required:!0,value:r.firstName,onChange:f=>i(p=>({...p,firstName:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nom"),h.createElement("input",{type:"text",required:!0,value:r.lastName,onChange:f=>i(p=>({...p,lastName:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}))),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Email professionnel"),h.createElement("input",{type:"email",required:!0,value:r.email,onChange:f=>i(p=>({...p,email:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Téléphone"),h.createElement("input",{type:"tel",required:!0,value:r.phone,onChange:f=>i(p=>({...p,phone:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Entreprise"),h.createElement("input",{type:"text",required:!0,value:r.company,onChange:f=>i(p=>({...p,company:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Fonction"),h.createElement("input",{type:"text",required:!0,value:r.position,onChange:f=>i(p=>({...p,position:f.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Besoins spécifiques"),h.createElement("textarea",{value:r.specialNeeds,onChange:f=>i(p=>({...p,specialNeeds:f.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Régime alimentaire, accessibilité, etc."})),h.createElement("div",{className:"flex items-start"},h.createElement("input",{type:"checkbox",required:!0,checked:r.acceptTerms,onChange:f=>i(p=>({...p,acceptTerms:f.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.createElement("label",{className:"ml-2 block text-sm text-gray-700"},"J'accepte les conditions générales de vente et la politique de confidentialité")),h.createElement("div",{className:"flex justify-end space-x-3 sticky bottom-0 bg-white py-4 border-t border-gray-200"},h.createElement("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200"},"Annuler"),h.createElement("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50"},s?"Inscription en cours...":"Confirmer l'inscription"))))}const Jye=[{id:1,title:"Introduction à l'IA",date:"2024-02-15",time:"14:00",duration:"2h",instructor:"Dr. Sarah Martin",spots:15,spotsLeft:8},{id:2,title:"Cybersécurité Avancée",date:"2024-02-20",time:"10:00",duration:"3h",instructor:"Prof. Jean Dupont",spots:12,spotsLeft:5}];function ZB(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),i=s=>{e(s),r(!0)};return h.createElement("div",{className:"space-y-6"},h.createElement("div",{className:"flex items-center justify-between"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Calendrier des formations"),h.createElement(Kh,{className:"h-6 w-6 text-blue-600"})),h.createElement("div",{className:"grid gap-6"},Jye.map(s=>h.createElement(F.div,{key:s.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",null,h.createElement("h4",{className:"text-lg font-medium text-gray-900"},s.title),h.createElement("div",{className:"mt-2 space-y-2"},h.createElement("div",{className:"flex items-center text-gray-600"},h.createElement(Kh,{className:"h-5 w-5 mr-2"}),h.createElement("span",null,new Date(s.date).toLocaleDateString())),h.createElement("div",{className:"flex items-center text-gray-600"},h.createElement(ir,{className:"h-5 w-5 mr-2"}),h.createElement("span",null,s.time," (",s.duration,")")),h.createElement("div",{className:"flex items-center text-gray-600"},h.createElement(Vi,{className:"h-5 w-5 mr-2"}),h.createElement("span",null,s.instructor)),h.createElement("div",{className:"flex items-center text-gray-600"},h.createElement(Ui,{className:"h-5 w-5 mr-2"}),h.createElement("span",null,s.spotsLeft," places disponibles")))),h.createElement("button",{onClick:()=>i(s),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},"S'inscrire"))))),n&&t&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},h.createElement("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},h.createElement("div",{className:"flex justify-between items-center mb-4"},h.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Inscription à la formation"),h.createElement("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-500"},h.createElement(_c,{className:"h-6 w-6"}))),h.createElement(Xye,{session:t,onClose:()=>r(!1)}))))}function Zye(...t){return t.filter(Boolean).join(" ")}const iw=[{id:"profile",name:"Mon Profil",icon:c3},{id:"overview",name:"Vue d'ensemble",icon:en},{id:"training",name:"Formation",icon:Vi},{id:"security",name:"Sécurité",icon:a3},{id:"documents",name:"Documents",icon:mS}];function e0e(){const[t,e]=x.useState("profile"),{user:n}=fl();return n?h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-12"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"max-w-4xl mx-auto"},h.createElement(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8"},h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-2"},"Mon Espace"),h.createElement("p",{className:"text-lg text-gray-600"},"Gérez votre profil et vos préférences")),h.createElement(Ji.Group,{selectedIndex:iw.findIndex(r=>r.id===t),onChange:r=>e(iw[r].id)},h.createElement(Ji.List,{className:"flex space-x-2 rounded-xl bg-white p-2 shadow-lg mb-8"},iw.map(r=>h.createElement(Ji,{key:r.id,className:({selected:i})=>Zye("w-full rounded-lg py-3 text-sm font-medium leading-5 transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",i?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"text-gray-600 hover:bg-blue-50 hover:text-blue-700")},h.createElement(F.div,{className:"flex items-center justify-center",whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(r.icon,{className:"w-5 h-5 mr-2"}),r.name)))),h.createElement(Ji.Panels,{className:"mt-6"},h.createElement(Ji.Panel,null,h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5}},h.createElement(Jhe,null))),h.createElement(Ji.Panel,null,h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5}},h.createElement(Gye,null))),h.createElement(Ji.Panel,null,h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-8"},h.createElement(Yye,null),h.createElement(XB,{userBadges:["beginner","intermediate"]}),h.createElement(JB,null),h.createElement(ZB,null))),h.createElement(Ji.Panel,null,h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5}},h.createElement(Zhe,null))),h.createElement(Ji.Panel,null,h.createElement(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5}},h.createElement(nB,null)))))))):h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center"},h.createElement(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center bg-white p-8 rounded-2xl shadow-xl"},h.createElement(Gi,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Accès non autorisé"),h.createElement("p",{className:"text-gray-600"},"Veuillez vous connecter pour accéder à votre profil.")))}const o5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function t0e(){const[t,e]=x.useState(0),n=[{icon:ry,title:"Prospection Qualifiée",description:"Identification et qualification des décideurs IT et RSSI dans votre secteur cible.",details:["Base de données qualifiée et mise à jour","Ciblage précis des décideurs","Qualification BANT (Budget, Autorité, Besoin, Timing)"]},{icon:xA,title:"Scripts Personnalisés",description:"Élaboration de scripts d'appel adaptés à votre offre de cybersécurité.",details:["Adaptation au contexte métier","Approche consultative","Gestion des objections spécifiques"]},{icon:S0,title:"Reporting Détaillé",description:"Suivi précis des performances et des retours du marché.",details:["Tableaux de bord en temps réel","Analyse des KPIs","Insights marché"]}],r=[{title:"Analyse Préliminaire",description:"Étude approfondie de votre marché et de vos objectifs commerciaux",subSteps:["Analyse de votre positionnement","Identification des cibles prioritaires","Définition des objectifs quantitatifs"],icon:en,color:"blue"},{title:"Préparation Campagne",description:"Mise en place des outils et ressources nécessaires",subSteps:["Création des scripts d'appel","Formation des téléopérateurs","Configuration des outils de suivi"],icon:xA,color:"green"},{title:"Exécution",description:"Déploiement de la campagne avec monitoring continu",subSteps:["Appels qualifiés","Suivi en temps réel","Ajustements quotidiens"],icon:ry,color:"purple"},{title:"Optimisation",description:"Amélioration continue basée sur les retours et résultats",subSteps:["Analyse des performances","Optimisation des scripts","Affinage du ciblage"],icon:Gi,color:"orange"}],i=[{icon:Jt,value:"98%",label:"Taux de qualification",color:"green"},{icon:en,value:"45%",label:"Taux de transformation",color:"blue"},{icon:ir,value:"< 48h",label:"Délai de transmission",color:"purple"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(Ui,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Télémarketing B2B Spécialisé Cybersécurité")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Générez des leads qualifiés auprès des décideurs IT et RSSI avec une approche sur mesure")),h.createElement(F.div,{variants:o5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((s,o)=>h.createElement(F.div,{key:s.title,variants:a5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:"bg-white rounded-xl shadow-lg p-8"},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(s.icon,{className:"h-12 w-12 text-blue-600"})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},s.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},s.description),h.createElement("ul",{className:"mt-6 space-y-3"},s.details.map((a,l)=>h.createElement("li",{key:l,className:"flex items-center text-gray-700"},h.createElement(we,{className:"h-4 w-4 text-blue-600 mr-2 flex-shrink-0"}),h.createElement("span",null,a))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Notre Processus"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8"},r.map((s,o)=>h.createElement(F.div,{key:s.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:`relative ${o<r.length-1?"process-step":""}`,onMouseEnter:()=>e(o)},h.createElement("div",{className:`bg-${s.color}-50 rounded-lg p-6 h-full transform transition-transform duration-300 hover:scale-105`},h.createElement("div",{className:`text-${s.color}-600 text-xl font-bold mb-4 flex items-center`},h.createElement(s.icon,{className:"h-6 w-6 mr-2"}),h.createElement("span",null,`0${o+1}`)),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},s.title),h.createElement("p",{className:"text-gray-600 mb-4"},s.description),h.createElement("ul",{className:"space-y-2"},s.subSteps.map((a,l)=>h.createElement("li",{key:l,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${s.color}-600 mr-2`}),h.createElement("span",null,a))))),o<r.length-1&&h.createElement("div",{className:"hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2 z-10"},h.createElement(we,{className:`h-8 w-8 text-${s.color}-600`})))))),h.createElement(F.div,{variants:o5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},i.map((s,o)=>h.createElement(F.div,{key:s.label,variants:a5,whileHover:{scale:1.05},className:`bg-${s.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(s.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},s.value),h.createElement("div",{className:`text-${s.color}-100`},s.label)))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à générer plus de leads qualifiés ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Demander un devis",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const l5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},c5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function n0e(){const[t,e]=x.useState(0),n=[{icon:Aee,title:"Ciblage Précis",description:"Identification des entreprises ayant un réel besoin en cybersécurité.",details:["Analyse du marché cible","Segmentation avancée","Profiling des décideurs"],color:"blue"},{icon:ny,title:"Qualification Approfondie",description:"Évaluation détaillée des besoins et du potentiel de chaque lead.",details:["Critères BANT","Scoring prédictif","Validation multi-niveaux"],color:"green"},{icon:hS,title:"Conversion Optimisée",description:"Stratégies éprouvées pour maximiser le taux de conversion.",details:["Nurturing personnalisé","Suivi proactif","Optimisation continue"],color:"purple"}],r=[{title:"Analyse Préliminaire",steps:["Étude de marché approfondie","Définition des ICP (Ideal Customer Profile)","Cartographie des décideurs","Analyse de la concurrence"],icon:en,color:"blue"},{title:"Stratégie Multi-canal",steps:["Télémarketing ciblé","Marketing digital","Social Selling","Events & Webinars"],icon:Gi,color:"purple"},{title:"Qualification & Scoring",steps:["Critères de qualification","Système de scoring","Validation des décideurs","Évaluation du potentiel"],icon:ny,color:"green"},{title:"Nurturing & Conversion",steps:["Parcours personnalisés","Content marketing","Suivi commercial","Mesure des résultats"],icon:iy,color:"orange"}],i=[{icon:Ui,value:"85%",label:"Taux de qualification",detail:"Des leads correspondent parfaitement à vos critères",color:"blue"},{icon:Jt,value:"92%",label:"Précision du ciblage",detail:"Des entreprises ciblées ont un besoin en cybersécurité",color:"green"},{icon:iy,value:"3x",label:"ROI moyen",detail:"Retour sur investissement constaté après 6 mois",color:"purple"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(en,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Génération de Leads Qualifiés en Cybersécurité")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Développez votre pipeline commercial avec des leads hautement qualifiés et prêts à investir dans leur sécurité")),h.createElement(F.div,{variants:l5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((s,o)=>h.createElement(F.div,{key:s.title,variants:c5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${s.color}-500`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(s.icon,{className:`h-12 w-12 text-${s.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},s.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},s.description),h.createElement("ul",{className:"mt-6 space-y-3"},s.details.map((a,l)=>h.createElement("li",{key:l,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${s.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,a))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Notre Méthodologie"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8"},r.map((s,o)=>h.createElement(F.div,{key:s.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:`relative ${o<r.length-1?"methodology-step":""}`,onMouseEnter:()=>e(o)},h.createElement("div",{className:`bg-${s.color}-50 rounded-lg p-6 h-full transform transition-transform duration-300 hover:scale-105`},h.createElement("div",{className:`text-${s.color}-600 text-xl font-bold mb-4 flex items-center`},h.createElement(s.icon,{className:"h-6 w-6 mr-2"}),h.createElement("span",null,`0${o+1}`)),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},s.title),h.createElement("ul",{className:"space-y-2"},s.steps.map((a,l)=>h.createElement("li",{key:l,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${s.color}-600 mr-2`}),h.createElement("span",null,a))))),o<r.length-1&&h.createElement("div",{className:"hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2 z-10"},h.createElement(we,{className:`h-8 w-8 text-${s.color}-600`})))))),h.createElement(F.div,{variants:l5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},i.map((s,o)=>h.createElement(F.div,{key:s.label,variants:c5,whileHover:{scale:1.05},className:`bg-${s.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(s.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},s.value),h.createElement("div",{className:"font-medium mb-2"},s.label),h.createElement("div",{className:`text-${s.color}-100 text-sm`},s.detail)))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à générer des leads qualifiés ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Démarrer votre campagne",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const u5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},d5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function r0e(){const[t,e]=x.useState(null),n=[{icon:pS,title:"Audit de Sécurité",description:"Évaluation complète de votre infrastructure et de vos pratiques de sécurité.",details:["Analyse des vulnérabilités","Tests de pénétration","Revue de configuration","Évaluation de la conformité"],color:"blue"},{icon:s3,title:"Analyse des Risques",description:"Identification et évaluation des menaces potentielles pour votre entreprise.",details:["Cartographie des risques","Évaluation des impacts","Analyse des scénarios","Recommandations prioritaires"],color:"green"},{icon:yS,title:"Plan d'Action",description:"Recommandations concrètes et accompagnement dans leur mise en œuvre.",details:["Roadmap sécurité","Priorisation des actions","Support à l'implémentation","Suivi des progrès"],color:"purple"}],r=[{title:"Gouvernance & Conformité",icon:ny,items:["Politique de sécurité","Conformité RGPD","Normes ISO 27001","Gestion des risques"],color:"blue"},{title:"Sécurité Technique",icon:Jt,items:["Architecture sécurisée","Sécurité réseau","Protection des données","Gestion des accès"],color:"green"},{title:"Gestion des Incidents",icon:Gi,items:["Plan de réponse","Gestion de crise","Investigation","Reprise d'activité"],color:"orange"},{title:"Formation & Sensibilisation",icon:Ui,items:["Programme de formation","Exercices pratiques","Phishing simulé","Bonnes pratiques"],color:"purple"}],i=[{icon:en,value:"-60%",label:"Réduction des incidents",detail:"de sécurité en moyenne après 6 mois",color:"blue"},{icon:ny,value:"98%",label:"Taux de conformité",detail:"aux standards de sécurité",color:"green"},{icon:Ui,value:"+85%",label:"Sensibilisation",detail:"des employés aux bonnes pratiques",color:"purple"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(Jt,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Conseil en Cybersécurité")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Expertise et accompagnement personnalisé pour sécuriser votre entreprise face aux cybermenaces")),h.createElement(F.div,{variants:u5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((s,o)=>h.createElement(F.div,{key:s.title,variants:d5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${s.color}-500 transform transition-all duration-300`,onMouseEnter:()=>e(o),onMouseLeave:()=>e(null)},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(s.icon,{className:`h-12 w-12 text-${s.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},s.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},s.description),h.createElement(F.ul,{className:"mt-6 space-y-3",animate:{opacity:t===o?1:.7}},s.details.map((a,l)=>h.createElement("li",{key:l,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${s.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,a))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Notre Expertise"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},r.map(s=>h.createElement(F.div,{key:s.title,whileHover:{scale:1.05},className:`bg-${s.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement(s.icon,{className:`h-8 w-8 text-${s.color}-600 mb-4`}),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},s.title),h.createElement("ul",{className:"space-y-3"},s.items.map((o,a)=>h.createElement("li",{key:a,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${s.color}-600 mr-2`}),h.createElement("span",null,o)))))))),h.createElement(F.div,{variants:u5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},i.map((s,o)=>h.createElement(F.div,{key:s.label,variants:d5,whileHover:{scale:1.05},className:`bg-${s.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(s.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},s.value),h.createElement("div",{className:"font-medium mb-2"},s.label),h.createElement("div",{className:`text-${s.color}-100 text-sm`},s.detail)))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à sécuriser votre entreprise ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Demander une consultation",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const i0e=[{id:"audit",name:"Audit de Sécurité",cost:5e3,description:"Évaluation complète de votre infrastructure"},{id:"monitoring",name:"Surveillance Continue",cost:1500,description:"Monitoring 24/7 de votre réseau"},{id:"training",name:"Formation des Employés",cost:3e3,description:"Programmes de sensibilisation à la sécurité"},{id:"incident",name:"Gestion des Incidents",cost:8e3,description:"Réponse rapide aux incidents de sécurité"}];function s0e({formData:t,setFormData:e,onSubmit:n,loading:r}){const i=s=>{e(o=>({...o,selectedServices:o.selectedServices.includes(s)?o.selectedServices.filter(a=>a.id!==s.id):[...o.selectedServices,s]}))};return h.createElement("form",{onSubmit:n,className:"space-y-6"},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Chiffre d'affaires annuel (€)"),h.createElement("input",{type:"number",value:t.annualRevenue,onChange:s=>e(o=>({...o,annualRevenue:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre d'employés"),h.createElement("input",{type:"number",value:t.employeeCount,onChange:s=>e(o=>({...o,employeeCount:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Budget actuel en sécurité (€)"),h.createElement("input",{type:"number",value:t.currentSecurityBudget,onChange:s=>e(o=>({...o,currentSecurityBudget:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Niveau de risque de violation de données"),h.createElement("select",{value:t.dataBreachRisk,onChange:s=>e(o=>({...o,dataBreachRisk:s.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},h.createElement("option",{value:"low"},"Faible"),h.createElement("option",{value:"medium"},"Moyen"),h.createElement("option",{value:"high"},"Élevé"))),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-4"},"Services de sécurité souhaités"),h.createElement("div",{className:"grid grid-cols-1 gap-4"},i0e.map(s=>h.createElement(F.div,{key:s.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg border cursor-pointer ${t.selectedServices.includes(s)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>i(s)},h.createElement("div",{className:"flex justify-between items-start"},h.createElement("div",null,h.createElement("h4",{className:"font-medium text-gray-900"},s.name),h.createElement("p",{className:"text-sm text-gray-500"},s.description)),h.createElement("span",{className:"text-sm font-medium text-gray-900"},s.cost.toLocaleString(),"€")))))),h.createElement("div",{className:"flex justify-end"},h.createElement(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50"},r?"Calcul en cours...":"Calculer le ROI")))}function o0e({results:t}){const e=[{icon:Qh,title:"ROI sur 3 ans",value:`${Math.round(t.threeYearROI)}%`,color:"blue"},{icon:ir,title:"Période de remboursement",value:`${Math.round(t.paybackPeriod*12)} mois`,color:"green"},{icon:en,title:"Économies annuelles",value:`${Math.round(t.annualCostSavings).toLocaleString()}€`,color:"purple"},{icon:Jt,title:"Coût évité de violation",value:`${Math.round(t.potentialBreachCost).toLocaleString()}€`,color:"red"}];return h.createElement("div",{className:"bg-gray-50 rounded-lg p-6"},h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-6"},"Résultats de l'analyse"),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6"},e.map((n,r)=>h.createElement(F.div,{key:n.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:`bg-white rounded-lg p-6 shadow-md border-l-4 border-${n.color}-500`},h.createElement("div",{className:"flex items-center space-x-4"},h.createElement("div",{className:`p-3 rounded-full bg-${n.color}-100`},h.createElement(n.icon,{className:`h-6 w-6 text-${n.color}-600`})),h.createElement("div",null,h.createElement("p",{className:"text-sm font-medium text-gray-600"},n.title),h.createElement("p",{className:"text-2xl font-bold text-gray-900"},n.value)))))))}function a0e({results:t}){const e={labels:["Année 1","Année 2","Année 3"],datasets:[{label:"Coûts",data:[t.servicesCost,t.servicesCost*.8,t.servicesCost*.6],backgroundColor:"rgba(239, 68, 68, 0.5)",borderColor:"rgb(239, 68, 68)",borderWidth:1},{label:"Économies",data:[t.estimatedSavings,t.estimatedSavings*1.1,t.estimatedSavings*1.2],backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]},n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Projection sur 3 ans"}},scales:{y:{beginAtZero:!0,ticks:{callback:r=>`${r.toLocaleString()}€`}}}};return h.createElement("div",{className:"bg-white rounded-lg p-6 shadow-lg"},h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-6"},"Analyse graphique"),h.createElement("div",{className:"h-80"},h.createElement(FT,{data:e,options:n})))}function l0e(){const{user:t}=fl(),[e,n]=x.useState({annualRevenue:"",employeeCount:"",currentSecurityBudget:"",dataBreachRisk:"medium",selectedServices:[]}),[r,i]=x.useState(null),[s,o]=x.useState(!1),[a,l]=x.useState(null),c=async()=>{if(t)try{const f=ri(Nt,"roiCalculations"),p=nA(f,rA("initialized","==",!0),iA(1));if((await Zg(p)).empty)return;const y=nA(f,rA("userId","==",t.uid),uQ("timestamp","desc"),iA(1)),v=await Zg(y);if(!v.empty){const b=v.docs[0].data();n(b.input||e),i(b.results||null)}}catch(f){console.warn("Impossible de charger les calculs précédents:",f)}};x.useEffect(()=>{t&&c()},[t]);const u=()=>{const{annualRevenue:f,employeeCount:p,currentSecurityBudget:g,dataBreachRisk:y,selectedServices:v}=e,w=f*{low:.02,medium:.05,high:.1}[y],E=v.reduce((P,I)=>P+I.cost,0),C=w*.8,R=(C*3-E)/E*100;return{potentialBreachCost:w,servicesCost:E,estimatedSavings:C,threeYearROI:R,paybackPeriod:E/C,annualCostSavings:C-E}},d=async f=>{f.preventDefault(),o(!0),l(null);try{const p=u();if(i(p),t){const g=await aV(ri(Nt,"roiCalculations"),{userId:t.uid,input:e,results:p,timestamp:va(),version:"1.2.0"});await Bl(t.uid,Fl.SYSTEM,"Calcul ROI effectué",{calculationId:g.id})}}catch(p){console.error("Erreur lors du calcul:",p),l("Une erreur est survenue lors du calcul. Veuillez réessayer.")}finally{o(!1)}};return h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"bg-white rounded-lg shadow-lg p-8"},a&&h.createElement("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700"},a),h.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},h.createElement(s0e,{formData:e,setFormData:n,onSubmit:d,loading:s}),r&&h.createElement("div",{className:"space-y-8"},h.createElement(o0e,{results:r}),h.createElement(a0e,{results:r})))))}const h5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function c0e(){const t=[{icon:VZ,title:"Calcul Prédictif",description:"Analyse détaillée du retour sur investissement de vos projets de cybersécurité.",details:["Modèles IA avancés","Données sectorielles","Benchmarks précis","Scénarios personnalisés"],color:"blue"},{icon:Oee,title:"Visualisation Intelligente",description:"Tableaux de bord dynamiques pour une compréhension immédiate des résultats.",details:["Graphiques interactifs","KPIs en temps réel","Comparaisons sectorielles","Tendances prédictives"],color:"green"},{icon:E0,title:"Recommandations IA",description:"Suggestions optimisées pour maximiser votre ROI.",details:["Analyse prédictive","Optimisation continue","Conseils personnalisés","Meilleures pratiques"],color:"purple"}],e=[{icon:en,value:"97%",label:"Précision des prévisions",detail:"grâce à nos modèles IA",color:"blue"},{icon:Jt,value:"3.5x",label:"ROI moyen constaté",detail:"sur 12 mois",color:"green"},{icon:ir,value:"-40%",label:"Temps de décision",detail:"pour les investissements",color:"purple"}],n=[{title:"Prise de Décision Éclairée",items:["Données objectives et quantifiées","Scénarios comparatifs","Analyses de sensibilité","Recommandations contextuelles"],color:"blue"},{title:"Optimisation Continue",items:["Ajustements en temps réel","Apprentissage automatique","Benchmarks sectoriels","Alertes prédictives"],color:"green"},{title:"Reporting Avancé",items:["Tableaux de bord personnalisés","Exports automatisés","Visualisations interactives","Partage sécurisé"],color:"purple"},{title:"Support Expert",items:["Accompagnement dédié","Formation utilisateur","Assistance technique","Mises à jour régulières"],color:"orange"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(Gi,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Calcul de ROI par Intelligence Artificielle")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Optimisez vos investissements en cybersécurité grâce à notre calculateur intelligent alimenté par l'IA")),h.createElement(F.div,{variants:h5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},t.map((r,i)=>h.createElement(F.div,{key:r.title,variants:f5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${r.color}-500 transform transition-all duration-300`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(r.icon,{className:`h-12 w-12 text-${r.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},r.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},r.description),h.createElement("ul",{className:"mt-6 space-y-3"},r.details.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${r.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,s))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Calculez votre ROI en Cybersécurité"),h.createElement(l0e,null)),h.createElement(F.div,{variants:h5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},e.map((r,i)=>h.createElement(F.div,{key:r.label,variants:f5,whileHover:{scale:1.05},className:`bg-${r.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(r.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},r.value),h.createElement("div",{className:"font-medium mb-2"},r.label),h.createElement("div",{className:`text-${r.color}-100 text-sm`},r.detail)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Avantages de notre Solution"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},n.map(r=>h.createElement(F.div,{key:r.title,whileHover:{scale:1.05},className:`bg-${r.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},r.title),h.createElement("ul",{className:"space-y-3"},r.items.map((i,s)=>h.createElement("li",{key:s,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${r.color}-600 mr-2`}),h.createElement("span",null,i)))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à optimiser vos investissements en cybersécurité ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Obtenir une analyse personnalisée",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const U_="RFC3986",z_={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},u0e="RFC1738",d0e=Array.isArray,gi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),sw=1024,h0e=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=sw){const l=s.length>=sw?s.slice(a,a+sw):s,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===u0e&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=gi[d];continue}if(d<2048){c[c.length]=gi[192|d>>6]+gi[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=gi[224|d>>12]+gi[128|d>>6&63]+gi[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=gi[240|d>>18]+gi[128|d>>12&63]+gi[128|d>>6&63]+gi[128|d&63]}o+=c.join("")}return o};function f0e(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function m5(t,e){if(d0e(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const m0e=Object.prototype.hasOwnProperty,e9={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},_i=Array.isArray,p0e=Array.prototype.push,t9=function(t,e){p0e.apply(t,_i(e)?e:[e])},g0e=Date.prototype.toISOString,Bt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:h0e,encodeValuesOnly:!1,format:U_,formatter:z_[U_],indices:!1,serializeDate(t){return g0e.call(t)},skipNulls:!1,strictNullHandling:!1};function y0e(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ow={};function n9(t,e,n,r,i,s,o,a,l,c,u,d,f,p,g,y,v,b){let w=t,E=b,C=0,R=!1;for(;(E=E.get(ow))!==void 0&&!R;){const S=E.get(t);if(C+=1,typeof S<"u"){if(S===C)throw new RangeError("Cyclic object value");R=!0}typeof E.get(ow)>"u"&&(C=0)}if(typeof c=="function"?w=c(e,w):w instanceof Date?w=f==null?void 0:f(w):n==="comma"&&_i(w)&&(w=m5(w,function(S){return S instanceof Date?f==null?void 0:f(S):S})),w===null){if(s)return l&&!y?l(e,Bt.encoder,v,"key",p):e;w=""}if(y0e(w)||f0e(w)){if(l){const S=y?e:l(e,Bt.encoder,v,"key",p);return[(g==null?void 0:g(S))+"="+(g==null?void 0:g(l(w,Bt.encoder,v,"value",p)))]}return[(g==null?void 0:g(e))+"="+(g==null?void 0:g(String(w)))]}const P=[];if(typeof w>"u")return P;let I;if(n==="comma"&&_i(w))y&&l&&(w=m5(w,l)),I=[{value:w.length>0?w.join(",")||null:void 0}];else if(_i(c))I=c;else{const S=Object.keys(w);I=u?S.sort(u):S}const k=a?String(e).replace(/\./g,"%2E"):String(e),A=r&&_i(w)&&w.length===1?k+"[]":k;if(i&&_i(w)&&w.length===0)return A+"[]";for(let S=0;S<I.length;++S){const N=I[S],O=typeof N=="object"&&typeof N.value<"u"?N.value:w[N];if(o&&O===null)continue;const M=d&&a?N.replace(/\./g,"%2E"):N,ne=_i(w)?typeof n=="function"?n(A,M):A:A+(d?"."+M:"["+M+"]");b.set(t,C);const Q=new WeakMap;Q.set(ow,b),t9(P,n9(O,ne,n,r,i,s,o,a,n==="comma"&&y&&_i(w)?null:l,c,u,d,f,p,g,y,v,Q))}return P}function v0e(t=Bt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Bt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=U_;if(typeof t.format<"u"){if(!m0e.call(z_,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=z_[n];let i=Bt.filter;(typeof t.filter=="function"||_i(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in e9?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Bt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Bt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Bt.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Bt.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Bt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Bt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Bt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Bt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Bt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Bt.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Bt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Bt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Bt.strictNullHandling}}function b0e(t,e={}){let n=t;const r=v0e(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):_i(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=e9[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let f=0;f<i.length;++f){const p=i[f];r.skipNulls&&n[p]===null||t9(o,n9(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const jl="4.78.1";let p5=!1,uh,r9,i9,H_,s9,o9,a9,l9,c9;function w0e(t,e={auto:!1}){if(p5)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(uh)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${uh}'\``);p5=e.auto,uh=t.kind,r9=t.fetch,i9=t.FormData,H_=t.File,s9=t.ReadableStream,o9=t.getMultipartRequestOptions,a9=t.getDefaultAgent,l9=t.fileFromPath,c9=t.isFsReadStream}class x0e{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function _0e({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new x0e(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}uh||w0e(_0e(),{auto:!0});class Ie extends Error{}class mn extends Ie{constructor(e,n,r,i){super(`${mn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ev({message:r,cause:q_(n)});const s=n==null?void 0:n.error;return e===400?new u9(e,s,r,i):e===401?new d9(e,s,r,i):e===403?new h9(e,s,r,i):e===404?new f9(e,s,r,i):e===409?new m9(e,s,r,i):e===422?new p9(e,s,r,i):e===429?new g9(e,s,r,i):e>=500?new y9(e,s,r,i):new mn(e,s,r,i)}}class si extends mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ev extends mn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class BT extends ev{constructor({message:e}={}){super({message:e??"Request timed out."})}}class u9 extends mn{}class d9 extends mn{}class h9 extends mn{}class f9 extends mn{}class m9 extends mn{}class p9 extends mn{}class g9 extends mn{}class y9 extends mn{}class v9 extends Ie{constructor(){super("Could not parse response content as the length limit was reached")}}class b9 extends Ie{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class rl{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=rl.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(rl.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ie(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ie(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ie("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}rl.NEWLINE_CHARS=new Set([`
`,"\r"]);rl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Pi{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of E0e(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new mn(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new mn(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Pi(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new rl,a=w9(e);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of i())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Pi(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Pi(()=>i(e),this.controller),new Pi(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new s9({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const a=r.encode(JSON.stringify(s)+`
`);i.enqueue(a)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*E0e(t,e){if(!t.body)throw e.abort(),new Ie("Attempted to iterate over a response with no body");const n=new k0e,r=new rl,i=w9(t.body);for await(const s of S0e(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*S0e(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=T0e(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function T0e(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class k0e{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=I0e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function I0e(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function w9(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const x9=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",_9=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&tv(t),tv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",C0e=t=>_9(t)||x9(t)||c9(t);async function E9(t,e,n){var i;if(t=await t,_9(t))return t;if(x9(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=tv(s)?[await s.arrayBuffer()]:[s];return new H_(o,e,n)}const r=await A0e(t);if(e||(e=R0e(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new H_(r,e,n)}async function A0e(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(tv(t))e.push(await t.arrayBuffer());else if(N0e(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${P0e(t)}`);return e}function P0e(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function R0e(t){var e;return aw(t.name)||aw(t.filename)||((e=aw(t.path))==null?void 0:e.split(/[\\/]/).pop())}const aw=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},N0e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",g5=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",iu=async t=>{const e=await D0e(t.body);return o9(e,t)},D0e=async t=>{const e=new i9;return await Promise.all(Object.entries(t||{}).map(([n,r])=>W_(e,n,r))),e},W_=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(C0e(n)){const r=await E9(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>W_(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>W_(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var kc={},M0e=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},O0e=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pp;async function S9(t){const{response:e}=t;if(t.options.stream)return Ic("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Pi.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return Ic("response",e.status,e.url,e.headers,s),T9(s,e)}const i=await e.text();return Ic("response",e.status,e.url,e.headers,i),i}function T9(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class nv extends Promise{constructor(e,n=S9){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new nv(this.responsePromise,async n=>T9(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class L0e{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=lw("maxRetries",n),this.timeout=lw("timeout",r),this.httpAgent=i,this.fetch=s??r9}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...U0e(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${q0e()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&tv(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var y;const{method:r,path:i,query:s,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:g5(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(i,s);"timeout"in e&&lw("timeout",e.timeout);const u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??a9(c),f=u+1e3;typeof((y=d==null?void 0:d.options)==null?void 0:y.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:p,...d&&{agent:d},signal:e.signal??null},url:c,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(e);return w5(s,o),w5(s,n),g5(e.body)&&uh!=="node"&&delete s["content-type"],x5(o,"x-stainless-retry-count")===void 0&&x5(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return mn.generate(e,n,r,i)}request(e,n=null){return new nv(this.makeRequest(e,n))}async makeRequest(e,n){var d,f;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:a}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),Ic("request",o,r,s.headers),(d=r.signal)!=null&&d.aborted)throw new si;const l=new AbortController,c=await this.fetchWithTimeout(o,s,a,l).catch(q_);if(c instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new si;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new BT:new ev({cause:c})}const u=F0e(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const w=`retrying, ${n} attempts remaining`;return Ic(`response (error; ${w})`,c.status,o,u),this.retryRequest(r,n,u)}const p=await c.text().catch(w=>q_(w).message),g=z0e(p),y=g?void 0:p;throw Ic(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,u,y),this.makeStatusError(c.status,g,y,u)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new V0e(this,r,e)}buildURL(e,n){const r=W0e(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return I9(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ie(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r),l={signal:i.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const a=parseFloat(s);Number.isNaN(a)||(i=a)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const a=parseFloat(o);Number.isNaN(a)?i=Date.parse(o)-Date.now():i=a*1e3}if(!(i&&0<=i&&i<60*1e3)){const a=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Gf(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${jl}`}}class k9{constructor(e,n,r,i){pp.set(this,void 0),M0e(this,pp,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Ie("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await O0e(this,pp,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(pp=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class V0e extends nv{constructor(e,n,r){super(n,async i=>new r(e,i.response,await S9(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const F0e=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),B0e={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},sr=t=>typeof t=="object"&&t!==null&&!I9(t)&&Object.keys(t).every(e=>C9(B0e,e)),$0e=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jl,"X-Stainless-OS":v5(Deno.build.os),"X-Stainless-Arch":y5(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jl,"X-Stainless-OS":v5(process.platform),"X-Stainless-Arch":y5(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=j0e();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function j0e(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const y5=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",v5=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let b5;const U0e=()=>b5??(b5=$0e()),z0e=t=>{try{return JSON.parse(t)}catch{return}},H0e=/^[a-z][a-z0-9+.-]*:/i,W0e=t=>H0e.test(t),Gf=t=>new Promise(e=>setTimeout(e,t)),lw=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ie(`${t} must be an integer`);if(e<0)throw new Ie(`${t} must be a positive integer`);return e},q_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},gp=t=>{var e,n,r,i;if(typeof process<"u")return((e=kc==null?void 0:kc[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function I9(t){if(!t)return!0;for(const e in t)return!1;return!0}function C9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w5(t,e){for(const n in e){if(!C9(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function Ic(t,...e){typeof process<"u"&&(kc==null?void 0:kc.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const q0e=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),G0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",K0e=t=>typeof(t==null?void 0:t.get)=="function",x5=(t,e)=>{var r;const n=e.toLowerCase();if(K0e(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,o,a)=>o+a.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const o=t.get(s);if(o)return o}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s};function cw(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Q0e extends k9{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class hi extends k9{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Fe{constructor(e){this._client=e}}let A9=class extends Fe{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},$T=class extends Fe{constructor(){super(...arguments),this.completions=new A9(this._client)}};$T.Completions=A9;class P9 extends Fe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class R9 extends Fe{create(e,n){return this._client.post("/audio/transcriptions",iu({body:e,...n}))}}class N9 extends Fe{create(e,n){return this._client.post("/audio/translations",iu({body:e,...n}))}}class Kf extends Fe{constructor(){super(...arguments),this.transcriptions=new R9(this._client),this.translations=new N9(this._client),this.speech=new P9(this._client)}}Kf.Transcriptions=R9;Kf.Translations=N9;Kf.Speech=P9;class jT extends Fe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return sr(e)?this.list({},e):this._client.getAPIList("/batches",UT,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class UT extends hi{}jT.BatchesPage=UT;class zT extends Fe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return sr(e)?this.list({},e):this._client.getAPIList("/assistants",HT,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class HT extends hi{}zT.AssistantsPage=HT;function _5(t){return typeof t.parse=="function"}const Cc=t=>(t==null?void 0:t.role)==="assistant",D9=t=>(t==null?void 0:t.role)==="function",M9=t=>(t==null?void 0:t.role)==="tool";var Zr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ut=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},G_,rg,ig,Nd,Dd,sg,Md,is,Od,ky,Iy,Ul,O9;class L9{constructor(){G_.add(this),this.controller=new AbortController,rg.set(this,void 0),ig.set(this,()=>{}),Nd.set(this,()=>{}),Dd.set(this,void 0),sg.set(this,()=>{}),Md.set(this,()=>{}),is.set(this,{}),Od.set(this,!1),ky.set(this,!1),Iy.set(this,!1),Ul.set(this,!1),Zr(this,rg,new Promise((e,n)=>{Zr(this,ig,e,"f"),Zr(this,Nd,n,"f")}),"f"),Zr(this,Dd,new Promise((e,n)=>{Zr(this,sg,e,"f"),Zr(this,Md,n,"f")}),"f"),ut(this,rg,"f").catch(()=>{}),ut(this,Dd,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ut(this,G_,"m",O9).bind(this))},0)}_connected(){this.ended||(ut(this,ig,"f").call(this),this._emit("connect"))}get ended(){return ut(this,Od,"f")}get errored(){return ut(this,ky,"f")}get aborted(){return ut(this,Iy,"f")}abort(){this.controller.abort()}on(e,n){return(ut(this,is,"f")[e]||(ut(this,is,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ut(this,is,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(ut(this,is,"f")[e]||(ut(this,is,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Zr(this,Ul,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Zr(this,Ul,!0,"f"),await ut(this,Dd,"f")}_emit(e,...n){if(ut(this,Od,"f"))return;e==="end"&&(Zr(this,Od,!0,"f"),ut(this,sg,"f").call(this));const r=ut(this,is,"f")[e];if(r&&(ut(this,is,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!ut(this,Ul,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ut(this,Nd,"f").call(this,i),ut(this,Md,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!ut(this,Ul,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ut(this,Nd,"f").call(this,i),ut(this,Md,"f").call(this,i),this._emit("end")}}_emitFinal(){}}rg=new WeakMap,ig=new WeakMap,Nd=new WeakMap,Dd=new WeakMap,sg=new WeakMap,Md=new WeakMap,is=new WeakMap,Od=new WeakMap,ky=new WeakMap,Iy=new WeakMap,Ul=new WeakMap,G_=new WeakSet,O9=function(e){if(Zr(this,ky,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new si),e instanceof si)return Zr(this,Iy,!0,"f"),this._emit("abort",e);if(e instanceof Ie)return this._emit("error",e);if(e instanceof Error){const n=new Ie(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ie(String(e)))};function V9(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Qf(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Y0e(t,e){return!e||!F9(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:WT(t,e)}function WT(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new v9;if(r.finish_reason==="content_filter")throw new b9;return{...r,message:{...r.message,tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>J0e(e,s)))??[],parsed:r.message.content&&!r.message.refusal?X0e(e,r.message.content):null}}});return{...t,choices:n}}function X0e(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function J0e(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Qf(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function Z0e(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return Qf(n)||(n==null?void 0:n.function.strict)||!1}function F9(t){var e;return V9(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Qf(n)||n.type==="function"&&n.function.strict===!0))??!1}function eve(t){for(const e of t??[]){if(e.type!=="function")throw new Ie(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ie(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Qn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wn,K_,Cy,Q_,Y_,X_,B9,J_;const E5=10;class $9 extends L9{constructor(){super(...arguments),wn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(D9(e)||M9(e))&&e.content)this._emit("functionCallResult",e.content);else if(Cc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Cc(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ie("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Qn(this,wn,"m",K_).call(this)}async finalMessage(){return await this.done(),Qn(this,wn,"m",Cy).call(this)}async finalFunctionCall(){return await this.done(),Qn(this,wn,"m",Q_).call(this)}async finalFunctionCallResult(){return await this.done(),Qn(this,wn,"m",Y_).call(this)}async totalUsage(){return await this.done(),Qn(this,wn,"m",X_).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Qn(this,wn,"m",Cy).call(this);n&&this._emit("finalMessage",n);const r=Qn(this,wn,"m",K_).call(this);r&&this._emit("finalContent",r);const i=Qn(this,wn,"m",Q_).call(this);i&&this._emit("finalFunctionCall",i);const s=Qn(this,wn,"m",Y_).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Qn(this,wn,"m",X_).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Qn(this,wn,"m",B9).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(WT(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const i="function",{function_call:s="auto",stream:o,...a}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:c=E5}=r||{},u={};for(const p of n.functions)u[p.name||p.function.name]=p;const d=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const y=(f=(await this._createChatCompletion(e,{...a,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!y)throw new Ie("missing message in ChatCompletion response");if(!y.function_call)return;const{name:v,arguments:b}=y.function_call,w=u[v];if(w){if(l&&l!==v){const P=`Invalid function_call: ${JSON.stringify(v)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:v,content:P});continue}}else{const P=`Invalid function_call: ${JSON.stringify(v)}. Available options are: ${d.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:v,content:P});continue}let E;try{E=_5(w)?await w.parse(b):b}catch(P){this._addMessage({role:i,name:v,content:P instanceof Error?P.message:String(P)});continue}const C=await w.function(E,this),R=Qn(this,wn,"m",J_).call(this,C);if(this._addMessage({role:i,name:v,content:R}),l)return}}async _runTools(e,n,r){var p,g,y;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:c=E5}=r||{},u=n.tools.map(v=>{if(Qf(v)){if(!v.$callback)throw new Ie("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),d={};for(const v of u)v.type==="function"&&(d[v.function.name||v.function.function.name]=v.function);const f="tools"in n?u.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of n.messages)this._addMessage(v,!1);for(let v=0;v<c;++v){const w=(g=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!w)throw new Ie("missing message in ChatCompletion response");if(!((y=w.tool_calls)!=null&&y.length))return;for(const E of w.tool_calls){if(E.type!=="function")continue;const C=E.id,{name:R,arguments:P}=E.function,I=d[R];if(I){if(l&&l!==R){const N=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:C,content:N});continue}}else{const N=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:C,content:N});continue}let k;try{k=_5(I)?await I.parse(P):P}catch(N){const O=N instanceof Error?N.message:String(N);this._addMessage({role:i,tool_call_id:C,content:O});continue}const A=await I.function(k,this),S=Qn(this,wn,"m",J_).call(this,A);if(this._addMessage({role:i,tool_call_id:C,content:S}),l)return}}}}wn=new WeakSet,K_=function(){return Qn(this,wn,"m",Cy).call(this).content??null},Cy=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Cc(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new Ie("stream ended without producing a ChatCompletionMessage with role=assistant")},Q_=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Cc(i)&&(i!=null&&i.function_call))return i.function_call;if(Cc(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Y_=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(D9(n)&&n.content!=null||M9(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},X_=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},B9=function(e){if(e.n!=null&&e.n>1)throw new Ie("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},J_=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class hf extends $9{static runFunctions(e,n,r){const i=new hf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new hf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Cc(e)&&e.content&&this._emit("content",e.content)}}const j9=1,U9=2,z9=4,H9=8,W9=16,q9=32,G9=64,K9=128,Q9=256,Y9=K9|Q9,X9=W9|q9|Y9|G9,J9=j9|U9|X9,Z9=z9|H9,tve=J9|Z9,Gt={STR:j9,NUM:U9,ARR:z9,OBJ:H9,NULL:W9,BOOL:q9,NAN:G9,INFINITY:K9,MINUS_INFINITY:Q9,INF:Y9,SPECIAL:X9,ATOM:J9,COLLECTION:Z9,ALL:tve};class nve extends Error{}class rve extends Error{}function ive(t,e=Gt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return sve(t.trim(),e)}const sve=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new nve(`${f} at position ${r}`)},s=f=>{throw new rve(`${f} at position ${r}`)},o=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?c():t.substring(r,r+4)==="null"||Gt.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Gt.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Gt.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Gt.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Gt.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Gt.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),a=()=>{const f=r;let p=!1;for(r++;r<n&&(t[r]!=='"'||p&&t[r-1]==="\\");)p=t[r]==="\\"?!p:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(p)))}catch(g){s(String(g))}else if(Gt.STR&e)try{return JSON.parse(t.substring(f,r-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Gt.OBJ&e)return f;const p=a();d(),r++;try{const g=o();Object.defineProperty(f,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(Gt.OBJ&e)return f;throw g}d(),t[r]===","&&r++}}catch{if(Gt.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},c=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(Gt.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},u=()=>{if(r===0){t==="-"&&Gt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(Gt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(p))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Gt.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Gt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){s(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},S5=t=>ive(t,Gt.ALL^Gt.NUM);var Rl=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},We=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ft,ts,Nl,Gs,uw,yp,dw,hw,fw,vp,mw,T5;class ff extends $9{constructor(e){super(),Ft.add(this),ts.set(this,void 0),Nl.set(this,void 0),Gs.set(this,void 0),Rl(this,ts,e,"f"),Rl(this,Nl,[],"f")}get currentChatCompletionSnapshot(){return We(this,Gs,"f")}static fromReadableStream(e){const n=new ff(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new ff(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),We(this,Ft,"m",uw).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)We(this,Ft,"m",dw).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new si;return this._addChatCompletion(We(this,Ft,"m",vp).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),We(this,Ft,"m",uw).call(this),this._connected();const i=Pi.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(We(this,Ft,"m",vp).call(this)),We(this,Ft,"m",dw).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new si;return this._addChatCompletion(We(this,Ft,"m",vp).call(this))}[(ts=new WeakMap,Nl=new WeakMap,Gs=new WeakMap,Ft=new WeakSet,uw=function(){this.ended||Rl(this,Gs,void 0,"f")},yp=function(n){let r=We(this,Nl,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},We(this,Nl,"f")[n.index]=r,r)},dw=function(n){var i,s,o,a,l,c,u,d,f,p,g,y,v,b,w;if(this.ended)return;const r=We(this,Ft,"m",T5).call(this,n);this._emit("chunk",n,r);for(const E of n.choices){const C=r.choices[E.index];E.delta.content!=null&&((i=C.message)==null?void 0:i.role)==="assistant"&&((s=C.message)!=null&&s.content)&&(this._emit("content",E.delta.content,C.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:C.message.content,parsed:C.message.parsed})),E.delta.refusal!=null&&((o=C.message)==null?void 0:o.role)==="assistant"&&((a=C.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:C.message.refusal}),((l=E.logprobs)==null?void 0:l.content)!=null&&((c=C.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=E.logprobs)==null?void 0:u.content,snapshot:((d=C.logprobs)==null?void 0:d.content)??[]}),((f=E.logprobs)==null?void 0:f.refusal)!=null&&((p=C.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=E.logprobs)==null?void 0:g.refusal,snapshot:((y=C.logprobs)==null?void 0:y.refusal)??[]});const R=We(this,Ft,"m",yp).call(this,C);C.finish_reason&&(We(this,Ft,"m",fw).call(this,C),R.current_tool_call_index!=null&&We(this,Ft,"m",hw).call(this,C,R.current_tool_call_index));for(const P of E.delta.tool_calls??[])R.current_tool_call_index!==P.index&&(We(this,Ft,"m",fw).call(this,C),R.current_tool_call_index!=null&&We(this,Ft,"m",hw).call(this,C,R.current_tool_call_index)),R.current_tool_call_index=P.index;for(const P of E.delta.tool_calls??[]){const I=(v=C.message.tool_calls)==null?void 0:v[P.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(b=I.function)==null?void 0:b.name,index:P.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((w=P.function)==null?void 0:w.arguments)??""}):(I==null||I.type,void 0))}}},hw=function(n,r){var o,a,l;if(We(this,Ft,"m",yp).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(l=(a=We(this,ts,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Qf(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},fw=function(n){var i,s;const r=We(this,Ft,"m",yp).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=We(this,Ft,"m",mw).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},vp=function(){if(this.ended)throw new Ie("stream has ended, this shouldn't happen");const n=We(this,Gs,"f");if(!n)throw new Ie("request ended without sending any chunks");return Rl(this,Gs,void 0,"f"),Rl(this,Nl,[],"f"),ove(n,We(this,ts,"f"))},mw=function(){var r;const n=(r=We(this,ts,"f"))==null?void 0:r.response_format;return V9(n)?n:null},T5=function(n){var r,i,s,o;let a=We(this,Gs,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=Rl(this,Gs,{...c,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:p=null,...g}of n.choices){let y=a.choices[f];if(y||(y=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...g}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:P,refusal:I,...k}=p;Object.assign(y.logprobs,k),P&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...P)),I&&((i=y.logprobs).refusal??(i.refusal=[]),y.logprobs.refusal.push(...I))}if(d&&(y.finish_reason=d,We(this,ts,"f")&&F9(We(this,ts,"f")))){if(d==="length")throw new v9;if(d==="content_filter")throw new b9}if(Object.assign(y,g),!u)continue;const{content:v,refusal:b,function_call:w,role:E,tool_calls:C,...R}=u;if(Object.assign(y.message,R),b&&(y.message.refusal=(y.message.refusal||"")+b),E&&(y.message.role=E),w&&(y.message.function_call?(w.name&&(y.message.function_call.name=w.name),w.arguments&&((s=y.message.function_call).arguments??(s.arguments=""),y.message.function_call.arguments+=w.arguments)):y.message.function_call=w),v&&(y.message.content=(y.message.content||"")+v,!y.message.refusal&&We(this,Ft,"m",mw).call(this)&&(y.message.parsed=S5(y.message.content))),C){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:P,id:I,type:k,function:A,...S}of C){const N=(o=y.message.tool_calls)[P]??(o[P]={});Object.assign(N,S),I&&(N.id=I),k&&(N.type=k),A&&(N.function??(N.function={name:A.name??"",arguments:""})),A!=null&&A.name&&(N.function.name=A.name),A!=null&&A.arguments&&(N.function.arguments+=A.arguments,Z0e(We(this,ts,"f"),N)&&(N.function.parsed_arguments=S5(N.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Pi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ove(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:c,finish_reason:u,index:d,logprobs:f,...p})=>{if(!u)throw new Ie(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:y,tool_calls:v,...b}=c,w=c.role;if(!w)throw new Ie(`missing role for choice ${d}`);if(y){const{arguments:E,name:C}=y;if(E==null)throw new Ie(`missing function_call.arguments for choice ${d}`);if(!C)throw new Ie(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:E,name:C},role:w,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}return v?{...p,index:d,finish_reason:u,logprobs:f,message:{...b,role:w,content:g,refusal:c.refusal??null,tool_calls:v.map((E,C)=>{const{function:R,type:P,id:I,...k}=E,{arguments:A,name:S,...N}=R||{};if(I==null)throw new Ie(`missing choices[${d}].tool_calls[${C}].id
${bp(t)}`);if(P==null)throw new Ie(`missing choices[${d}].tool_calls[${C}].type
${bp(t)}`);if(S==null)throw new Ie(`missing choices[${d}].tool_calls[${C}].function.name
${bp(t)}`);if(A==null)throw new Ie(`missing choices[${d}].tool_calls[${C}].function.arguments
${bp(t)}`);return{...k,id:I,type:P,function:{...N,name:S,arguments:A}}})}}:{...p,message:{...b,content:g,role:w,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Y0e(l,e)}function bp(t){return JSON.stringify(t)}class Ac extends ff{static fromReadableStream(e){const n=new Ac(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new Ac(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Ac(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let e8=class extends Fe{parse(e,n){return eve(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>WT(r,e))}runFunctions(e,n){return e.stream?Ac.runFunctions(this._client,e,n):hf.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Ac.runTools(this._client,e,n):hf.runTools(this._client,e,n)}stream(e,n){return ff.createChatCompletion(this._client,e,n)}};class t8 extends Fe{constructor(){super(...arguments),this.completions=new e8(this._client)}}(function(t){t.Completions=e8})(t8);class n8 extends Fe{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class qT extends Fe{constructor(){super(...arguments),this.sessions=new n8(this._client)}}qT.Sessions=n8;var oe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},dr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},cn,Z_,Ei,og,ti,Ia,dc,wa,Ay,fr,ag,lg,dh,Ld,Vd,k5,I5,C5,A5,P5,R5,N5;class oi extends L9{constructor(){super(...arguments),cn.add(this),Z_.set(this,[]),Ei.set(this,{}),og.set(this,{}),ti.set(this,void 0),Ia.set(this,void 0),dc.set(this,void 0),wa.set(this,void 0),Ay.set(this,void 0),fr.set(this,void 0),ag.set(this,void 0),lg.set(this,void 0),dh.set(this,void 0)}[(Z_=new WeakMap,Ei=new WeakMap,og=new WeakMap,ti=new WeakMap,Ia=new WeakMap,dc=new WeakMap,wa=new WeakMap,Ay=new WeakMap,fr=new WeakMap,ag=new WeakMap,lg=new WeakMap,dh=new WeakMap,cn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new oi;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Pi.fromReadableStream(e,this.controller);for await(const o of i)oe(this,cn,"m",Ld).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new si;return this._addRun(oe(this,cn,"m",Vd).call(this))}toReadableStream(){return new Pi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new oi;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var c;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...i,stream:!0},l=await e.submitToolOutputs(n,r,a,{...s,signal:this.controller.signal});this._connected();for await(const u of l)oe(this,cn,"m",Ld).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new si;return this._addRun(oe(this,cn,"m",Vd).call(this))}static createThreadAssistantStream(e,n,r){const i=new oi;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new oi;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return oe(this,ag,"f")}currentRun(){return oe(this,lg,"f")}currentMessageSnapshot(){return oe(this,ti,"f")}currentRunStepSnapshot(){return oe(this,dh,"f")}async finalRunSteps(){return await this.done(),Object.values(oe(this,Ei,"f"))}async finalMessages(){return await this.done(),Object.values(oe(this,og,"f"))}async finalRun(){if(await this.done(),!oe(this,Ia,"f"))throw Error("Final run was not received.");return oe(this,Ia,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)oe(this,cn,"m",Ld).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new si;return this._addRun(oe(this,cn,"m",Vd).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const c of a)oe(this,cn,"m",Ld).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new si;return this._addRun(oe(this,cn,"m",Vd).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(cw(s)&&cw(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!cw(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}Ld=function(e){if(!this.ended)switch(dr(this,ag,e,"f"),oe(this,cn,"m",C5).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":oe(this,cn,"m",N5).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":oe(this,cn,"m",I5).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":oe(this,cn,"m",k5).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Vd=function(){if(this.ended)throw new Ie("stream has ended, this shouldn't happen");if(!oe(this,Ia,"f"))throw Error("Final run has not been received");return oe(this,Ia,"f")},k5=function(e){const[n,r]=oe(this,cn,"m",P5).call(this,e,oe(this,ti,"f"));dr(this,ti,n,"f"),oe(this,og,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=oe(this,dc,"f")){if(oe(this,wa,"f"))switch(oe(this,wa,"f").type){case"text":this._emit("textDone",oe(this,wa,"f").text,oe(this,ti,"f"));break;case"image_file":this._emit("imageFileDone",oe(this,wa,"f").image_file,oe(this,ti,"f"));break}dr(this,dc,i.index,"f")}dr(this,wa,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(oe(this,dc,"f")!==void 0){const i=e.data.content[oe(this,dc,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,oe(this,ti,"f"));break;case"text":this._emit("textDone",i.text,oe(this,ti,"f"));break}}oe(this,ti,"f")&&this._emit("messageDone",e.data),dr(this,ti,void 0,"f")}},I5=function(e){const n=oe(this,cn,"m",A5).call(this,e);switch(dr(this,dh,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==oe(this,Ay,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(oe(this,fr,"f")&&this._emit("toolCallDone",oe(this,fr,"f")),dr(this,Ay,s.index,"f"),dr(this,fr,n.step_details.tool_calls[s.index],"f"),oe(this,fr,"f")&&this._emit("toolCallCreated",oe(this,fr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":dr(this,dh,void 0,"f"),e.data.step_details.type=="tool_calls"&&oe(this,fr,"f")&&(this._emit("toolCallDone",oe(this,fr,"f")),dr(this,fr,void 0,"f")),this._emit("runStepDone",e.data,n);break}},C5=function(e){oe(this,Z_,"f").push(e),this._emit("event",e)},A5=function(e){switch(e.event){case"thread.run.step.created":return oe(this,Ei,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=oe(this,Ei,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=oi.accumulateDelta(n,r.delta);oe(this,Ei,"f")[e.data.id]=i}return oe(this,Ei,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":oe(this,Ei,"f")[e.data.id]=e.data;break}if(oe(this,Ei,"f")[e.data.id])return oe(this,Ei,"f")[e.data.id];throw new Error("No snapshot available")},P5=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=oe(this,cn,"m",R5).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},R5=function(e,n){return oi.accumulateDelta(n,e)},N5=function(e){switch(dr(this,lg,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":dr(this,Ia,e.data,"f"),oe(this,fr,"f")&&(this._emit("toolCallDone",oe(this,fr,"f")),dr(this,fr,void 0,"f"));break}};class GT extends Fe{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return sr(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,KT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class KT extends hi{}GT.MessagesPage=KT;class QT extends Fe{retrieve(e,n,r,i={},s){return sr(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return sr(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,YT,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class YT extends hi{}QT.RunStepsPage=YT;class Yf extends Fe{constructor(){super(...arguments),this.steps=new QT(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return sr(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,XT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return oi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Gf(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return oi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return oi.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class XT extends hi{}Yf.RunsPage=XT;Yf.Steps=QT;Yf.RunStepsPage=YT;class Su extends Fe{constructor(){super(...arguments),this.runs=new Yf(this._client),this.messages=new GT(this._client)}create(e={},n){return sr(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return oi.createThreadAssistantStream(e,this._client.beta.threads,n)}}Su.Runs=Yf;Su.RunsPage=XT;Su.Messages=GT;Su.MessagesPage=KT;const ave=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let JT=class extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return sr(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,rv,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Gf(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class rv extends hi{}JT.VectorStoreFilesPage=rv;class r8 extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return sr(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,rv,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Gf(a);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),c=[...r];async function u(f){for(let p of f){const g=await a.files.create({file:p,purpose:"assistants"},i);c.push(g.id)}}const d=Array(o).fill(l).map(u);return await ave(d),await this.createAndPoll(e,{file_ids:c})}}class Tu extends Fe{constructor(){super(...arguments),this.files=new JT(this._client),this.fileBatches=new r8(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return sr(e)?this.list({},e):this._client.getAPIList("/vector_stores",ZT,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ZT extends hi{}Tu.VectorStoresPage=ZT;Tu.Files=JT;Tu.VectorStoreFilesPage=rv;Tu.FileBatches=r8;class Qo extends Fe{constructor(){super(...arguments),this.realtime=new qT(this._client),this.vectorStores=new Tu(this._client),this.chat=new t8(this._client),this.assistants=new zT(this._client),this.threads=new Su(this._client)}}Qo.Realtime=qT;Qo.VectorStores=Tu;Qo.VectorStoresPage=ZT;Qo.Assistants=zT;Qo.AssistantsPage=HT;Qo.Threads=Su;class i8 extends Fe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class s8 extends Fe{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class e2 extends Fe{create(e,n){return this._client.post("/files",iu({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return sr(e)?this.list({},e):this._client.getAPIList("/files",t2,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Gf(n),o=await this.retrieve(e),Date.now()-s>r)throw new BT({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class t2 extends hi{}e2.FileObjectsPage=t2;class n2 extends Fe{list(e,n={},r){return sr(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,r2,{query:n,...r})}}class r2 extends hi{}n2.FineTuningJobCheckpointsPage=r2;class ku extends Fe{constructor(){super(...arguments),this.checkpoints=new n2(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return sr(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",i2,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return sr(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,s2,{query:n,...r})}}class i2 extends hi{}class s2 extends hi{}ku.FineTuningJobsPage=i2;ku.FineTuningJobEventsPage=s2;ku.Checkpoints=n2;ku.FineTuningJobCheckpointsPage=r2;class Xf extends Fe{constructor(){super(...arguments),this.jobs=new ku(this._client)}}Xf.Jobs=ku;Xf.FineTuningJobsPage=i2;Xf.FineTuningJobEventsPage=s2;class o8 extends Fe{createVariation(e,n){return this._client.post("/images/variations",iu({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",iu({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class o2 extends Fe{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",a2,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class a2 extends Q0e{}o2.ModelsPage=a2;class a8 extends Fe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class l8 extends Fe{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,iu({body:n,...r}))}}class l2 extends Fe{constructor(){super(...arguments),this.parts=new l8(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}l2.Parts=l8;var c8;class Me extends L0e{constructor({baseURL:e=gp("OPENAI_BASE_URL"),apiKey:n=gp("OPENAI_API_KEY"),organization:r=gp("OPENAI_ORG_ID")??null,project:i=gp("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new Ie("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&G0e())throw new Ie(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new i8(this),this.chat=new $T(this),this.embeddings=new s8(this),this.files=new e2(this),this.images=new o8(this),this.audio=new Kf(this),this.moderations=new a8(this),this.models=new o2(this),this.fineTuning=new Xf(this),this.beta=new Qo(this),this.batches=new jT(this),this.uploads=new l2(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return b0e(e,{arrayFormat:"brackets"})}}c8=Me;Me.OpenAI=c8;Me.DEFAULT_TIMEOUT=6e5;Me.OpenAIError=Ie;Me.APIError=mn;Me.APIConnectionError=ev;Me.APIConnectionTimeoutError=BT;Me.APIUserAbortError=si;Me.NotFoundError=f9;Me.ConflictError=m9;Me.RateLimitError=g9;Me.BadRequestError=u9;Me.AuthenticationError=d9;Me.InternalServerError=y9;Me.PermissionDeniedError=h9;Me.UnprocessableEntityError=p9;Me.toFile=E9;Me.fileFromPath=l9;Me.Completions=i8;Me.Chat=$T;Me.Embeddings=s8;Me.Files=e2;Me.FileObjectsPage=t2;Me.Images=o8;Me.Audio=Kf;Me.Moderations=a8;Me.Models=o2;Me.ModelsPage=a2;Me.FineTuning=Xf;Me.Beta=Qo;Me.Batches=jT;Me.BatchesPage=UT;Me.Uploads=l2;function lve(){const[t,e]=x.useState({industry:"",target:"",productDescription:"",keyBenefits:"",objections:""}),[n,r]=x.useState(""),[i,s]=x.useState(!1),[o,a]=x.useState(null),l=async c=>{c.preventDefault(),s(!0),a(null);try{const u=new Me({apiKey:"",dangerouslyAllowBrowser:!0}),d=`Générer un script d'appel B2B pour un commercial en cybersécurité avec les informations suivantes:
        Secteur d'activité: ${t.industry}
        Cible: ${t.target}
        Description du produit: ${t.productDescription}
        Bénéfices clés: ${t.keyBenefits}
        Objections courantes: ${t.objections}
      `,f=await u.chat.completions.create({messages:[{role:"user",content:d}],model:"gpt-3.5-turbo"});r(f.choices[0].message.content)}catch(u){a(u.message)}finally{s(!1)}};return h.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("form",{onSubmit:l,className:"space-y-6"},h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Secteur d'activité"),h.createElement("input",{type:"text",value:t.industry,onChange:c=>e(u=>({...u,industry:c.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Cible (ex: DSI, RSSI)"),h.createElement("input",{type:"text",value:t.target,onChange:c=>e(u=>({...u,target:c.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Description du produit/service"),h.createElement("textarea",{value:t.productDescription,onChange:c=>e(u=>({...u,productDescription:c.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Bénéfices clés"),h.createElement("textarea",{value:t.keyBenefits,onChange:c=>e(u=>({...u,keyBenefits:c.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Objections courantes"),h.createElement("textarea",{value:t.objections,onChange:c=>e(u=>({...u,objections:c.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})),h.createElement("div",null,h.createElement("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},i?"Génération en cours...":"Générer le script"))),o&&h.createElement("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700"},o),n&&h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8"},h.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Script généré :"),h.createElement("div",{className:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap"},n)))}const D5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},M5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function cve(){const t=[{icon:Gi,title:"IA Avancée",description:"Génération de scripts optimisés par l'intelligence artificielle.",details:["Modèles de langage avancés","Apprentissage continu","Adaptation contextuelle","Personnalisation poussée"],color:"blue"},{icon:mee,title:"Scripts Personnalisés",description:"Création de scripts adaptés à votre cible et votre offre.",details:["Ton et style adaptés","Arguments ciblés","Gestion des objections","Scénarios multiples"],color:"green"},{icon:E0,title:"Apprentissage Continu",description:"Amélioration constante basée sur les retours et les performances.",details:["Analyse des résultats","Optimisation continue","Adaptation au marché","Feedback intégré"],color:"purple"}],e=[{title:"Efficacité Accrue",items:["Réduction du temps de préparation","Arguments plus percutants","Meilleure conversion","Productivité optimisée"],color:"blue"},{title:"Personnalisation Avancée",items:["Adaptation au secteur","Profils clients ciblés","Messages sur mesure","Contexte spécifique"],color:"green"},{title:"Amélioration Continue",items:["Analyse des performances","Optimisation automatique","Tests A/B intégrés","Recommandations IA"],color:"purple"},{title:"Support Intelligent",items:["Suggestions en temps réel","Aide à la décision","Ressources contextuelles","Formation continue"],color:"orange"}],n=[{icon:en,value:"+45%",label:"Taux de conversion",detail:"par rapport aux scripts traditionnels",color:"blue"},{icon:ir,value:"-60%",label:"Temps de préparation",detail:"pour vos campagnes d'appels",color:"green"},{icon:Jt,value:"93%",label:"Satisfaction client",detail:"sur les scripts générés",color:"purple"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(fS,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Générateur de Scripts IA")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Créez des scripts d'appel performants et personnalisés grâce à l'intelligence artificielle")),h.createElement(F.div,{variants:D5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},t.map((r,i)=>h.createElement(F.div,{key:r.title,variants:M5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${r.color}-500 transform transition-all duration-300`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(r.icon,{className:`h-12 w-12 text-${r.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},r.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},r.description),h.createElement("ul",{className:"mt-6 space-y-3"},r.details.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${r.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,s))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Générez votre script personnalisé"),h.createElement(lve,null)),h.createElement(F.div,{variants:D5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((r,i)=>h.createElement(F.div,{key:r.label,variants:M5,whileHover:{scale:1.05},className:`bg-${r.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(r.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},r.value),h.createElement("div",{className:"font-medium mb-2"},r.label),h.createElement("div",{className:`text-${r.color}-100 text-sm`},r.detail)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Avantages de notre Solution"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},e.map(r=>h.createElement(F.div,{key:r.title,whileHover:{scale:1.05},className:`bg-${r.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},r.title),h.createElement("ul",{className:"space-y-3"},r.items.map((i,s)=>h.createElement("li",{key:s,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${r.color}-600 mr-2`}),h.createElement("span",null,i)))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à optimiser vos scripts d'appel ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Essayer gratuitement",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const O5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},L5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function uve(){const t=[{icon:en,title:"Visualisation Intelligente",description:"Tableaux de bord dynamiques qui s'adaptent à vos besoins.",details:["Graphiques interactifs","KPIs personnalisables","Visualisations avancées","Temps réel"],color:"blue"},{icon:CZ,title:"Analyse Prédictive",description:"Anticipation des tendances et des opportunités.",details:["Modèles IA avancés","Prévisions précises","Détection d'anomalies","Alertes proactives"],color:"green"},{icon:i3,title:"Automatisation",description:"Mise à jour automatique des données et des indicateurs.",details:["Intégration continue","Synchronisation temps réel","Workflows automatisés","Rapports programmés"],color:"purple"}],e=[{title:"Sécurité",icon:Jt,items:["Monitoring des incidents","Analyse des vulnérabilités","Suivi des correctifs","Alertes de sécurité"],color:"blue"},{title:"Performance",icon:en,items:["Métriques temps réel","Analyse des tendances","Benchmarking","Optimisation continue"],color:"green"},{title:"Conformité",icon:ClipboardDocumentCheckIcon,items:["Suivi réglementaire","Audits automatisés","Rapports de conformité","Gestion des risques"],color:"orange"},{title:"Collaboration",icon:UserGroupIcon,items:["Partage sécurisé","Annotations collaboratives","Workflows d'équipe","Notifications intelligentes"],color:"purple"}],n=[{icon:Gi,value:"98%",label:"Précision des analyses",detail:"grâce à l'IA avancée",color:"blue"},{icon:ir,value:"-75%",label:"Temps de reporting",detail:"avec l'automatisation",color:"green"},{icon:Jt,value:"+60%",label:"Détection précoce",detail:"des incidents de sécurité",color:"purple"}],r=[{icon:CpuChipIcon,title:"Moteur d'Analyse",items:["Traitement parallèle","Scalabilité automatique","Haute disponibilité","Monitoring temps réel"],color:"blue"},{icon:r3,title:"Architecture Cloud",items:["Multi-cloud support","Microservices","Conteneurisation","Load balancing"],color:"green"},{icon:yS,title:"Outils de Développement",items:["API RESTful","SDK complet","Webhooks","Documentation interactive"],color:"purple"},{icon:Jt,title:"Sécurité & Conformité",items:["Chiffrement E2E","Conformité RGPD","Audit logs","Contrôle d'accès RBAC"],color:"orange"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(S0,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Dashboard IA")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Pilotez votre sécurité avec des tableaux de bord intelligents et automatisés")),h.createElement(F.div,{variants:O5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},t.map((i,s)=>h.createElement(F.div,{key:i.title,variants:L5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${i.color}-500 transform transition-all duration-300`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(i.icon,{className:`h-12 w-12 text-${i.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},i.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},i.description),h.createElement("ul",{className:"mt-6 space-y-3"},i.details.map((o,a)=>h.createElement("li",{key:a,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,o))))))),h.createElement(F.div,{variants:O5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((i,s)=>h.createElement(F.div,{key:i.label,variants:L5,whileHover:{scale:1.05},className:`bg-${i.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(i.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},i.value),h.createElement("div",{className:"font-medium mb-2"},i.label),h.createElement("div",{className:`text-${i.color}-100 text-sm`},i.detail)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Fonctionnalités Clés"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},e.map(i=>h.createElement(F.div,{key:i.title,whileHover:{scale:1.05},className:`bg-${i.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement(i.icon,{className:`h-8 w-8 text-${i.color}-600 mb-4`}),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},i.title),h.createElement("ul",{className:"space-y-3"},i.items.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2`}),h.createElement("span",null,s)))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Caractéristiques Techniques"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},r.map(i=>h.createElement(F.div,{key:i.title,whileHover:{scale:1.05},className:`bg-${i.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement(i.icon,{className:`h-8 w-8 text-${i.color}-600 mb-4`}),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},i.title),h.createElement("ul",{className:"space-y-3"},i.items.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2`}),h.createElement("span",null,s)))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à optimiser votre pilotage sécurité ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Découvrir la démo",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const V5={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},F5={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function dve(){const t=[{icon:i3,title:"Automatisation Intelligente",description:"Automatisation avancée des processus métiers avec IA.",details:["Workflows intelligents","Règles métier dynamiques","Apprentissage automatique","Optimisation continue"],color:"blue"},{icon:XZ,title:"Intégration Universelle",description:"Connexion transparente avec vos outils existants.",details:["ERP & CRM","Outils de ticketing","Solutions de sécurité","Applications métier"],color:"green"},{icon:see,title:"Configuration No-Code",description:"Interface intuitive pour créer vos automatisations.",details:["Éditeur visuel","Templates prédéfinis","Personnalisation facile","Déploiement rapide"],color:"purple"}],e=[{title:"Processus Financiers",items:["Facturation automatique","Rapprochement bancaire","Gestion des dépenses","Reporting financier"],color:"blue"},{title:"Processus RH",items:["Onboarding collaborateurs","Gestion des congés","Évaluations automatisées","Formation continue"],color:"green"},{title:"Processus IT & Sécurité",items:["Gestion des incidents","Monitoring sécurité","Mises à jour systèmes","Backup automatisé"],color:"orange"},{title:"Processus Commerciaux",items:["Lead nurturing","Qualification prospects","Suivi commercial","Reporting ventes"],color:"purple"}],n=[{icon:ir,value:"-70%",label:"Temps de traitement",detail:"sur les tâches automatisées",color:"blue"},{icon:Jt,value:"-85%",label:"Erreurs humaines",detail:"grâce à l'automatisation",color:"green"},{icon:iy,value:"+40%",label:"Productivité",detail:"des équipes",color:"purple"}],r=[{icon:aee,title:"Moteur d'Automatisation",items:["Traitement parallèle","Scalabilité automatique","Haute disponibilité","Monitoring temps réel"],color:"blue"},{icon:r3,title:"Architecture Cloud",items:["Multi-cloud support","Microservices","Conteneurisation","Load balancing"],color:"green"},{icon:yS,title:"Outils de Développement",items:["API RESTful","SDK complet","Webhooks","Documentation interactive"],color:"purple"},{icon:Jt,title:"Sécurité & Conformité",items:["Chiffrement E2E","Conformité RGPD","Audit logs","Contrôle d'accès RBAC"],color:"orange"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16"},h.createElement(e3,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Automatisation des Process Métiers")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Optimisez vos workflows et augmentez votre productivité grâce à l'automatisation intelligente")),h.createElement(F.div,{variants:V5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},t.map((i,s)=>h.createElement(F.div,{key:i.title,variants:F5,whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},className:`bg-white rounded-xl shadow-lg p-8 border-t-4 border-${i.color}-500 transform transition-all duration-300`},h.createElement("div",{className:"flex items-center justify-center"},h.createElement(i.icon,{className:`h-12 w-12 text-${i.color}-600`})),h.createElement("h3",{className:"mt-6 text-xl font-semibold text-gray-900 text-center"},i.title),h.createElement("p",{className:"mt-4 text-gray-600 text-center"},i.description),h.createElement("ul",{className:"mt-6 space-y-3"},i.details.map((o,a)=>h.createElement("li",{key:a,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2 flex-shrink-0`}),h.createElement("span",null,o))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Types de Processus Automatisés"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},e.map(i=>h.createElement(F.div,{key:i.title,whileHover:{scale:1.05},className:`bg-${i.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},i.title),h.createElement("ul",{className:"space-y-3"},i.items.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2`}),h.createElement("span",null,s)))))))),h.createElement(F.div,{variants:V5,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},n.map((i,s)=>h.createElement(F.div,{key:i.label,variants:F5,whileHover:{scale:1.05},className:`bg-${i.color}-600 rounded-lg p-8 text-white text-center transform hover:shadow-xl transition-all duration-300`},h.createElement(i.icon,{className:"h-12 w-12 mx-auto mb-4"}),h.createElement("div",{className:"text-3xl font-bold mb-2"},i.value),h.createElement("div",{className:"font-medium mb-2"},i.label),h.createElement("div",{className:`text-${i.color}-100 text-sm`},i.detail)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Caractéristiques Techniques"),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},r.map(i=>h.createElement(F.div,{key:i.title,whileHover:{scale:1.05},className:`bg-${i.color}-50 rounded-lg p-6 transform transition-all duration-300`},h.createElement(i.icon,{className:`h-8 w-8 text-${i.color}-600 mb-4`}),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},i.title),h.createElement("ul",{className:"space-y-3"},i.items.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(we,{className:`h-4 w-4 text-${i.color}-600 mr-2`}),h.createElement("span",null,s)))))))),h.createElement(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"relative bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-12 overflow-hidden"},h.createElement(F.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("/images/cyber-security-bg.jpg")',backgroundSize:"cover",backgroundPosition:"center"}}),h.createElement("div",{className:"relative z-10 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-white mb-8"},"Prêt à automatiser vos processus métiers ?"),h.createElement(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95}},h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transform transition-all duration-300 shadow-lg hover:shadow-xl"},"Demander une démo",h.createElement(F.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0}},h.createElement(we,{className:"ml-2 h-5 w-5"}))))))))}const hve={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},fve={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function mve(){const[t,e]=x.useState(null),n=[{id:"marketing",title:"Marketing & Vente",icon:en,color:"blue",modules:["IA pour l'analyse de marché","Prédiction des comportements clients","Optimisation des campagnes","Automatisation du lead scoring"],duration:"12h",level:"Intermédiaire",price:"999€"},{id:"cybersecurity",title:"Cybersécurité",icon:Jt,color:"red",modules:["Détection des menaces par IA","Analyse prédictive des risques","Automatisation de la réponse","Protection intelligente des données"],duration:"16h",level:"Avancé",price:"1299€"},{id:"support",title:"Service Client & Support",icon:Ui,color:"green",modules:["Chatbots intelligents","Analyse des sentiments","Automatisation du support","Personnalisation des interactions"],duration:"10h",level:"Débutant",price:"799€"},{id:"finance",title:"Finance & RH",icon:Qh,color:"purple",modules:["Analyse prédictive financière","Détection des fraudes","Recrutement intelligent","Gestion des talents par IA"],duration:"14h",level:"Intermédiaire",price:"1099€"}],r=[{icon:Gi,title:"IA de Pointe",description:"Accès aux dernières technologies et modèles d'IA",color:"blue"},{icon:Vi,title:"Formateurs Experts",description:"Professionnels expérimentés en IA et métier",color:"green"},{icon:OZ,title:"Projets Pratiques",description:"Applications concrètes sur vos cas d'usage",color:"purple"}];return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16"},h.createElement(Vi,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},h.createElement("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-400"},"Formation IA")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Formez vos équipes aux technologies d'intelligence artificielle avec des programmes adaptés à chaque métier")),h.createElement(F.div,{variants:hve,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16"},n.map(i=>h.createElement(F.div,{key:i.id,variants:fve,whileHover:{scale:1.02},className:`bg-white rounded-xl shadow-lg p-8 cursor-pointer transform transition-all duration-300 ${t===i.id?`ring-2 ring-${i.color}-500 ring-offset-2`:""}`,onClick:()=>e(i.id)},h.createElement("div",{className:"flex items-center mb-6"},h.createElement(i.icon,{className:`h-8 w-8 text-${i.color}-600`}),h.createElement("h3",{className:"ml-3 text-xl font-semibold text-gray-900"},i.title)),h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-500"},h.createElement("span",{className:"flex items-center"},h.createElement(ir,{className:"h-4 w-4 mr-1"}),i.duration),h.createElement("span",{className:"flex items-center"},h.createElement(Vi,{className:"h-4 w-4 mr-1"}),i.level),h.createElement("span",{className:"flex items-center"},h.createElement(Qh,{className:"h-4 w-4 mr-1"}),i.price)),h.createElement("ul",{className:"space-y-2"},i.modules.map((s,o)=>h.createElement("li",{key:o,className:"flex items-center text-gray-700"},h.createElement(Xc,{className:`h-5 w-5 text-${i.color}-500 mr-2`}),s))),h.createElement("div",{className:"pt-4"},h.createElement(Ce,{to:`/training/${i.id}`,className:`inline-flex items-center px-4 py-2 bg-${i.color}-600 text-white rounded-md hover:bg-${i.color}-700 transition-colors`},"En savoir plus",h.createElement(we,{className:"ml-2 h-5 w-5"}))))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16"},r.map(i=>h.createElement("div",{key:i.title,className:`bg-${i.color}-600 rounded-lg p-8 text-white`},h.createElement(i.icon,{className:"h-12 w-12 mb-4"}),h.createElement("h3",{className:"text-xl font-semibold mb-2"},i.title),h.createElement("p",{className:`text-${i.color}-100`},i.description)))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Système de Progression"),h.createElement(XB,null)),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Parcours Recommandés"),h.createElement(JB,null)),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-lg p-8 mb-16"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"Calendrier des Formations"),h.createElement(ZB,null)),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-center"},h.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-8"},"Prêt à former vos équipes à l'IA ?"),h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transform hover:scale-105 transition-all"},"Demander un programme personnalisé",h.createElement(we,{className:"ml-2 h-5 w-5"})))))}function pve(){const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[i,s]=x.useState(!1),o=[{icon:s3,title:"Scan Complet",description:"Analyse approfondie de votre infrastructure",details:["Détection des vulnérabilités","Analyse des configurations","Vérification des ports","Test des services exposés"]},{icon:en,title:"Rapport Détaillé",description:"Vue d'ensemble de votre posture de sécurité",details:["Score de sécurité global","Vulnérabilités critiques","Recommandations","Plan d'action prioritaire"]},{icon:ir,title:"Résultats Rapides",description:"Analyse complète en moins de 15 minutes",details:["Scan automatisé","Analyse en temps réel","Résultats immédiats","Suivi des progrès"]}],a=[{title:"Scan Gratuit",description:"Évaluation initiale de votre sécurité",features:["Scan de base des vulnérabilités","Rapport simplifié","Recommandations générales","1 domaine/IP"],price:"Gratuit",buttonText:"Commencer",popular:!1},{title:"Scan Professionnel",description:"Analyse approfondie et personnalisée",features:["Scan complet et approfondi","Rapport détaillé","Recommandations personnalisées","Support dédié","Jusqu'à 5 domaines/IPs","Scan mensuel"],price:"499€/mois",buttonText:"Contacter un expert",popular:!0}],l=async()=>{s(!0),e(!0),setTimeout(()=>{r(!0),s(!1)},5e3)};return h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"text-center"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},h.createElement(gS,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),h.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},"Scan de Vulnérabilités Gratuit"),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Évaluez la sécurité de votre infrastructure en quelques minutes avec notre outil de scan automatisé"))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-16 bg-white rounded-lg shadow-lg p-8"},t?h.createElement("div",{className:"text-center"},i?h.createElement("div",{className:"space-y-4"},h.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.createElement("p",{className:"text-gray-600"},"Scan en cours...")):h.createElement("div",{className:"space-y-6"},h.createElement(Xc,{className:"h-12 w-12 text-green-500 mx-auto"}),h.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Scan terminé !"),h.createElement("p",{className:"text-gray-600"},"Consultez votre rapport détaillé ci-dessous"),h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700"},"Voir le rapport complet",h.createElement(we,{className:"ml-2 h-5 w-5"})))):h.createElement("div",{className:"text-center"},h.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Commencer un scan"),h.createElement("p",{className:"text-gray-600 mb-8"},"Entrez votre domaine ou adresse IP pour lancer l'analyse"),h.createElement("div",{className:"max-w-md mx-auto"},h.createElement("div",{className:"flex"},h.createElement("input",{type:"text",placeholder:"exemple.com ou 192.168.1.1",className:"flex-1 rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),h.createElement("button",{onClick:l,className:"px-6 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700"},"Scanner"))))),h.createElement("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8"},o.map((c,u)=>h.createElement(F.div,{key:c.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow"},h.createElement(c.icon,{className:"h-12 w-12 text-blue-600 mb-4"}),h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},c.title),h.createElement("p",{className:"text-gray-600 mb-4"},c.description),h.createElement("ul",{className:"space-y-2"},c.details.map((d,f)=>h.createElement("li",{key:f,className:"flex items-center text-gray-700"},h.createElement(we,{className:"h-4 w-4 text-blue-600 mr-2"}),h.createElement("span",null,d))))))),h.createElement("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8"},a.map((c,u)=>h.createElement(F.div,{key:c.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+u*.1},className:`relative bg-white rounded-lg shadow-lg p-8 ${c.popular?"border-2 border-blue-500":""}`},c.popular&&h.createElement("div",{className:"absolute top-0 right-0 -translate-y-1/2 px-4 py-1 bg-blue-500 text-white rounded-full text-sm font-medium"},"Recommandé"),h.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},c.title),h.createElement("p",{className:"text-gray-600 mb-4"},c.description),h.createElement("ul",{className:"space-y-3 mb-8"},c.features.map((d,f)=>h.createElement("li",{key:f,className:"flex items-center text-gray-700"},h.createElement(Xc,{className:"h-5 w-5 text-green-500 mr-2"}),h.createElement("span",null,d)))),h.createElement("div",{className:"text-3xl font-bold text-gray-900 mb-8"},c.price),h.createElement(Ce,{to:"/contact",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-md ${c.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`},c.buttonText,h.createElement(we,{className:"ml-2 h-5 w-5"}))))),h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-16 text-center"},h.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-8"},"Prêt à sécuriser votre infrastructure ?"),h.createElement(Ce,{to:"/contact",className:"inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transform hover:scale-105 transition-all"},"Démarrer un scan gratuit",h.createElement(we,{className:"ml-2 h-5 w-5"})))))}function gve(){const t=[{title:"Sécurité Réseau Avancée",duration:"1h30",topics:["Architecture réseau sécurisée","Segmentation et isolation","Détection d'intrusion","VPN et tunneling"]},{title:"Gestion des Vulnérabilités",duration:"1h",topics:["Scan de vulnérabilités","Analyse des risques","Priorisation des correctifs","Suivi et documentation"]},{title:"Réponse aux Incidents",duration:"1h30",topics:["Détection des menaces","Investigation numérique","Containment et éradication","Retour d'expérience"]}];return h.createElement("div",{className:"min-h-screen bg-gray-50 py-12"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"text-center"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},h.createElement(Jt,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),h.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Cybersécurité Avancée"),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Approfondissez vos connaissances en sécurité réseau et maîtrisez les techniques avancées de protection"))),h.createElement("div",{className:"mt-16 grid gap-8"},t.map((e,n)=>h.createElement(F.div,{key:e.title,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},e.title),h.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Durée: ",e.duration),h.createElement("ul",{className:"space-y-2"},e.topics.map((r,i)=>h.createElement("li",{key:i,className:"flex items-center text-gray-700"},h.createElement(we,{className:"h-4 w-4 text-blue-600 mr-2"}),h.createElement("span",null,r)))))))))))}function yve(){const t=[{title:"Analyse des Menaces",duration:"45min",topics:["Identification des menaces","Classification des attaques","Évaluation des impacts","Modélisation des menaces"]},{title:"Techniques d'Investigation",duration:"45min",topics:["Analyse des logs","Forensics numérique","Reverse engineering","Analyse comportementale"]},{title:"Atelier Pratique",duration:"30min",topics:["Cas d'étude réels","Exercices pratiques","Mise en situation","Retour d'expérience"]}];return h.createElement("div",{className:"min-h-screen bg-gray-50 py-12"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"text-center"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},h.createElement(bee,{className:"h-16 w-16 text-orange-600 mx-auto mb-4"}),h.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Analyse des Menaces"),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Maîtrisez les techniques d'analyse des cybermenaces modernes"))),h.createElement("div",{className:"mt-16 grid gap-8"},t.map((e,n)=>h.createElement(F.div,{key:e.title,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},e.title),h.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Durée: ",e.duration),h.createElement("ul",{className:"space-y-2"},e.topics.map((r,i)=>h.createElement("li",{key:i,className:"flex items-center text-gray-700"},h.createElement(we,{className:"h-4 w-4 text-orange-600 mr-2"}),h.createElement("span",null,r)))))))))))}function vve(){const t=[{title:"Sécurité Cloud Native",duration:"1h",topics:["Architecture cloud sécurisée","Identity & Access Management","Encryption et gestion des clés","Network security groups"]},{title:"Protection des Données",duration:"1h",topics:["Data classification","Data Loss Prevention","Backup et restauration","Conformité et régulation"]},{title:"Monitoring et Réponse",duration:"1h",topics:["Cloud monitoring","Log analysis","Incident response","Automatisation de la sécurité"]}];return h.createElement("div",{className:"min-h-screen bg-gray-50 py-12"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"text-center"},h.createElement(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},h.createElement(nee,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),h.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"Sécurité Cloud"),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Protection des environnements cloud et des données"))),h.createElement("div",{className:"mt-16 grid gap-8"},t.map((e,n)=>h.createElement(F.div,{key:e.title,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"bg-white rounded-lg shadow-lg p-6"},h.createElement("div",{className:"flex items-start justify-between"},h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},e.title),h.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Durée: ",e.duration),h.createElement("ul",{className:"space-y-2"},e.topics.map((r,i)=>h.createElement("li",{key:i,className:"flex items-center text-gray-700"},h.createElement(we,{className:"h-4 w-4 text-blue-600 mr-2"}),h.createElement("span",null,r)))))))))))}function bve(){return h.createElement(UY,null,h.createElement(J7,null,h.createElement("div",{className:"min-h-screen flex flex-col"},h.createElement(Jee,null),h.createElement("main",{className:"flex-grow"},h.createElement(W7,null,h.createElement(bt,{path:"/",element:h.createElement(Rse,null)}),h.createElement(bt,{path:"/services",element:h.createElement(Nse,null)}),h.createElement(bt,{path:"/why-us",element:h.createElement(Dse,null)}),h.createElement(bt,{path:"/blog",element:h.createElement(Fse,null)}),h.createElement(bt,{path:"/blog/:slug",element:h.createElement(vhe,null)}),h.createElement(bt,{path:"/contact",element:h.createElement(Khe,null)}),h.createElement(bt,{path:"/login",element:h.createElement(Yhe,null)}),h.createElement(bt,{path:"/signup",element:h.createElement(Xhe,null)}),h.createElement(bt,{path:"/profile",element:h.createElement(e0e,null)}),h.createElement(bt,{path:"/services/vulnerability-scan",element:h.createElement(pve,null)}),h.createElement(bt,{path:"/services/telemarketing-b2b",element:h.createElement(t0e,null)}),h.createElement(bt,{path:"/services/lead-generation",element:h.createElement(n0e,null)}),h.createElement(bt,{path:"/services/cyber-consulting",element:h.createElement(r0e,null)}),h.createElement(bt,{path:"/services/roi-calculator",element:h.createElement(c0e,null)}),h.createElement(bt,{path:"/services/ai-script-generator",element:h.createElement(cve,null)}),h.createElement(bt,{path:"/services/ai-dashboard",element:h.createElement(uve,null)}),h.createElement(bt,{path:"/services/business-process-automation",element:h.createElement(dve,null)}),h.createElement(bt,{path:"/services/ai-training",element:h.createElement(mve,null)}),h.createElement(bt,{path:"/training/cyber-advanced",element:h.createElement(gve,null)}),h.createElement(bt,{path:"/training/threat-analysis",element:h.createElement(yve,null)}),h.createElement(bt,{path:"/training/cloud-security",element:h.createElement(vve,null)}))),h.createElement(Zee,null))))}async function wve(){try{const t=["activities","users","roiCalculations","backups","backupFiles"],e=wQ(Nt);for(const f of t){const p=ri(Nt,f),g=Lr(p,"init");(await Zg(ri(Nt,f))).empty&&e.set(g,{initialized:!0,timestamp:new Date().toISOString(),version:"1.2.0"},{merge:!0})}const n=ri(Nt,"activities"),r=Lr(n,"schema");e.set(r,{fields:{userId:"string",type:"string",message:"string",metadata:"map",timestamp:"timestamp"},indexes:["userId_timestamp_desc"]},{merge:!0});const i=ri(Nt,"users"),s=Lr(i,"schema");e.set(s,{fields:{nomComplet:"string",email:"string",telephone:"string",societe:"string",fonction:"string",photoURL:"string",documents:"array",createdAt:"timestamp",lastLoginAt:"timestamp",disabled:"boolean"}},{merge:!0});const o=ri(Nt,"roiCalculations"),a=Lr(o,"schema");e.set(a,{fields:{userId:"string",input:"map",results:"map",timestamp:"timestamp",version:"string"},indexes:["userId_timestamp_desc"]},{merge:!0});const l=ri(Nt,"backups"),c=Lr(l,"schema");e.set(c,{fields:{userId:"string",version:"string",timestamp:"timestamp",collections:"map",metadata:"map"},indexes:["userId_timestamp_desc"]},{merge:!0});const u=ri(Nt,"backupFiles"),d=Lr(u,"schema");e.set(d,{fields:{userId:"string",backupId:"string",fileName:"string",downloadUrl:"string",timestamp:"timestamp",version:"string"},indexes:["userId_timestamp_desc","backupId"]},{merge:!0}),await e.commit(),console.log("Collections Firebase initialisées avec succès")}catch(t){console.error("Erreur lors de l'initialisation des collections:",t)}}const c2=t=>{console.error("Une erreur est survenue:",t)};window.addEventListener("unhandledrejection",t=>{c2(t.reason)});window.addEventListener("error",t=>{c2(t.error)});wve().catch(c2);const xve=pw.createRoot(document.getElementById("root"));xve.render(h.createElement(h.StrictMode,null,h.createElement(bve,null)));
